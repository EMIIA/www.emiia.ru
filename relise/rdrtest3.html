

















































<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  

 
 
 <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
 
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        



<meta name="apple-mobile-web-app-capable" content="yes">


<meta name="format-detection" content="telephone=no">

        
        
        
    <title>EMIIA.AI MRV: SDK/API - em_70.3388_675_it_98342234...</title>    
        

	
	<link rel="manifest" href="manifest.json">

<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="application-name" content="EMIIA.AI MRV">
<meta name="apple-mobile-web-app-title" content="EMIIA.AI MRV">
	<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="theme-color" content="#fff">
<meta name="msapplication-starturl" content="https://www.emiia.ru/relise/fare.html">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
	
	
	
	<link rel="manifest" href="/manifest.json">
    
    
    
    
    
    
    
    
    
    
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script> <!--Подключаем скрипт от телеграм-->
    
    
    
    
    
    
    
    
	
	







        
	

    





    

    
    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

<style>
@import url('https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');
</style>

	<style>
@import url('https://www.emiia.ru/css.css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');
</style>

  <style>  
@import url('/css.css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');
</style>

<link rel="stylesheet" href="https://www.emiia.ru/cssfamily=Montserrat.css">
<link rel="stylesheet" href="/cssfamily=Montserrat.css">
    
    
   
    
    

    
    

    
    

    
    
    
    














    <script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css" rel="stylesheet" />
      
    
    <script src="https://unpkg.com/threebox-plugin/dist/threebox.min.js" type="text/javascript"></script>
<link href="https://unpkg.com/threebox-plugin/dist/threebox.css" rel="stylesheet" />


<script src="https://unpkg.com/three@0.106.2/build/three.min.js"></script>
<script src="https://unpkg.com/three@0.106.2/examples/js/loaders/GLTFLoader.js"></script>



<script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>





























    
    <script> 
    
    
    (function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('mapbox-gl')) :
    typeof define === 'function' && define.amd ? define(['exports', 'mapbox-gl'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.mapgl_indoor = {}, global.mapboxgl));
}(this, (function (exports, mapboxgl) { 'use strict';

    function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

    var mapboxgl__default = /*#__PURE__*/_interopDefaultLegacy(mapboxgl);

    /**
     * Creates a indoor control with floors buttons

     * @implements {IControl}
     */
    class IndoorControl {
        constructor(indoor) {
            this._onMapLoaded = ({ indoorMap }) => {
                this._indoorMap = indoorMap;
                this._updateNavigationBar();
            };
            this._onMapUnLoaded = () => {
                this._indoorMap = null;
                this._updateNavigationBar();
            };
            this._onLevelChanged = ({ level }) => this._setSelected(level);
            this._indoor = indoor;
            this._levelsButtons = [];
            this._container = null;
            this._selectedButton = null;
        }
        onAdd(map) {
            this._map = map;
            // Create container
            this._container = document.createElement("div");
            this._container.classList.add("mapboxgl-ctrl");
            this._container.classList.add("mapboxgl-ctrl-group");
            this._container.style.display = 'none';
            this._container.addEventListener('contextmenu', this._onContextMenu);
            // If indoor layer is already loaded, update levels
            this._indoorMap = this._indoor.getSelectedMap();
            if (this._indoor.getSelectedMap() !== null) {
                this._updateNavigationBar();
                this._setSelected(this._indoor.getLevel());
            }
            // Register to indoor events
            this._map.on('indoor.map.loaded', this._onMapLoaded);
            this._map.on('indoor.map.unloaded', this._onMapUnLoaded);
            this._map.on('indoor.level.changed', this._onLevelChanged);
            return this._container;
        }
        onRemove() {
            this._container.remove();
            this._container = null;
            this._map.off('indoor.map.loaded', this._onMapLoaded);
            this._map.off('indoor.map.unloaded', this._onMapUnLoaded);
            this._map.off('indoor.level.changed', this._onLevelChanged);
        }
        _updateNavigationBar() {
            if (this._container === null) {
                return;
            }
            if (this._indoorMap === null) {
                this._container.style.display = 'none';
                return;
            }
            this._container.style.display = 'block';
            this._levelsButtons = [];
            while (this._container.firstChild) {
                this._container.removeChild(this._container.firstChild);
            }
            const range = this._indoorMap.levelsRange;
            for (let i = range.max; i >= range.min; i--) {
                this._levelsButtons[i] = this._createLevelButton(this._container, i);
            }
        }
        _setSelected(level) {
            if (this._levelsButtons.length === 0) {
                return;
            }
            if (this._selectedButton) {
                this._selectedButton.style.fontWeight = "normal";
            }
            if (level !== null && this._levelsButtons[level]) {
                this._levelsButtons[level].style.fontWeight = "bold";
                this._selectedButton = this._levelsButtons[level];
            }
        }
        _createLevelButton(container, level) {
            const a = document.createElement("button");
            a.innerHTML = level.toString();
            a.classList.add("mapboxgl-ctrl-icon");
            container.appendChild(a);
            a.addEventListener('click', () => {
                this._map.fire('indoor.control.clicked', { level });
                if (this._indoor.getLevel() === level)
                    return;
                this._indoor.setLevel(level);
            });
            return a;
        }
        _onContextMenu(e) {
            e.preventDefault();
        }
    }

    const EarthRadius = 6371008.8;
    function overlap(bounds1, bounds2) {
        // If one rectangle is on left side of other
        if (bounds1.getWest() > bounds2.getEast() || bounds2.getWest() > bounds1.getEast()) {
            return false;
        }
        // If one rectangle is above other
        if (bounds1.getNorth() < bounds2.getSouth() || bounds2.getNorth() < bounds1.getSouth()) {
            return false;
        }
        return true;
    }
    function filterWithLevel(initialFilter, level, showFeaturesWithEmptyLevel = false) {
        return [
            "all",
            initialFilter,
            [
                'any',
                showFeaturesWithEmptyLevel ? ["!", ["has", "level"]] : false,
                [
                    'all',
                    [
                        "has",
                        "level"
                    ],
                    [
                        "any",
                        [
                            "==",
                            ["get", "level"],
                            level.toString()
                        ],
                        [
                            "all",
                            [
                                "!=",
                                [
                                    "index-of",
                                    ";",
                                    ["get", "level"]
                                ],
                                -1,
                            ],
                            [
                                ">=",
                                level,
                                [
                                    "to-number",
                                    [
                                        "slice",
                                        ["get", "level"],
                                        0,
                                        [
                                            "index-of",
                                            ";",
                                            ["get", "level"]
                                        ]
                                    ]
                                ]
                            ],
                            [
                                "<=",
                                level,
                                [
                                    "to-number",
                                    [
                                        "slice",
                                        ["get", "level"],
                                        [
                                            "+",
                                            [
                                                "index-of",
                                                ";",
                                                ["get", "level"]
                                            ],
                                            1
                                        ]
                                    ]
                                ]
                            ]
                        ]
                    ]
                ]
            ]
        ];
    }
    function destinationPoint(start, distance, bearing) {
        const dR = distance / EarthRadius;
        const cosDr = Math.cos(dR);
        const sinDr = Math.sin(dR);
        const phi1 = start.lat / 180 * Math.PI;
        const lambda1 = start.lng / 180 * Math.PI;
        const phi2 = Math.asin(Math.sin(phi1) * cosDr
            + Math.cos(phi1) * sinDr * Math.cos(bearing));
        const lambda2 = lambda1 + Math.atan2(Math.sin(bearing) * sinDr * Math.cos(phi1), cosDr - Math.sin(phi1) * Math.sin(phi2));
        return new mapboxgl.LngLat(lambda2 * 180 / Math.PI, phi2 * 180 / Math.PI);
    }
    function distance(point1, point2) {
        const lat1 = point1.lat / 180 * Math.PI;
        const lng1 = point1.lng / 180 * Math.PI;
        const lat2 = point2.lat / 180 * Math.PI;
        const lng2 = point2.lng / 180 * Math.PI;
        const dlat = lat2 - lat1;
        const dlng = lng2 - lng1;
        const angle = Math.sin(dlat / 2) ** 2 + Math.cos(lat1) * Math.cos(lat2) * Math.sin(dlng / 2) ** 2;
        const tangy = Math.sqrt(angle);
        const tangx = Math.sqrt(1 - angle);
        const cosn = 2 * Math.atan2(tangy, tangx);
        return EarthRadius * cosn;
    }

    const SOURCE_ID = 'indoor';
    /**
     * Manage indoor levels
     * @param {Map} map the Mapbox map
     */
    class Indoor {
        constructor(map) {
            this._map = map;
            this._level = null;
            this._indoorMaps = [];
            this._savedFilters = [];
            this._selectedMap = null;
            this._previousSelectedMap = null;
            this._previousSelectedLevel = null;
            this._mapLoaded = false;
            this._updateMapPromise = Promise.resolve();
            this._control = new IndoorControl(this);
            if (this._map.loaded()) {
                this._mapLoaded = true;
            }
            else {
                this._map.on('load', () => {
                    this._mapLoaded = true;
                    this._updateSelectedMapIfNeeded();
                });
            }
            this._map.on('moveend', () => this._updateSelectedMapIfNeeded());
        }
        getSelectedMap() {
            return this._selectedMap;
        }
        getLevel() {
            return this._level;
        }
        setLevel(level) {
            if (this._selectedMap === null) {
                throw new Error('Cannot set level, no map has been selected');
            }
            this._level = level;
            this._updateFiltering();
            this._map.fire('indoor.level.changed', { level });
        }
        get control() {
            return this._control;
        }
        /**
         * ***********************
         * Handle level change
         * ***********************
         */
        _addLayerForFiltering(layer, beforeLayerId) {
            this._map.addLayer(layer, beforeLayerId);
            this._savedFilters.push({
                layerId: layer.id,
                filter: this._map.getFilter(layer.id) || ["all"]
            });
        }
        _removeLayerForFiltering(layerId) {
            this._savedFilters = this._savedFilters.filter(({ layerId: id }) => layerId !== id);
            this._map.removeLayer(layerId);
        }
        _updateFiltering() {
            const level = this._level;
            let filterFn;
            if (level !== null) {
                const showFeaturesWithEmptyLevel = this._selectedMap ? this._selectedMap.showFeaturesWithEmptyLevel : false;
                filterFn = (filter) => filterWithLevel(filter, level, showFeaturesWithEmptyLevel);
            }
            else {
                filterFn = (filter) => filter;
            }
            this._savedFilters.forEach(({ layerId, filter }) => this._map.setFilter(layerId, filterFn(filter)));
        }
        /**
         * **************
         * Handle maps
         * **************
         */
        addMap(map) {
            this._indoorMaps.push(map);
            this._updateSelectedMapIfNeeded();
        }
        removeMap(map) {
            this._indoorMaps = this._indoorMaps.filter(_indoorMap => _indoorMap !== map);
            this._updateSelectedMapIfNeeded();
        }
        async _updateSelectedMapIfNeeded() {
            if (!this._mapLoaded) {
                return;
            }
            // Avoid to call "closestMap" or "updateSelectedMap" if the previous call is not finished yet
            await this._updateMapPromise;
            this._updateMapPromise = (async () => {
                const closestMap = this._closestMap();
                if (closestMap !== this._selectedMap) {
                    this._updateSelectedMap(closestMap);
                }
            })();
        }
        _updateSelectedMap(indoorMap) {
            const previousMap = this._selectedMap;
            // Remove the previous selected map if it exists
            if (previousMap !== null) {
                previousMap.layersToHide.forEach(layerId => this._map.setLayoutProperty(layerId, 'visibility', 'visible'));
                previousMap.layers.forEach(({ id }) => this._removeLayerForFiltering(id));
                this._map.removeSource(SOURCE_ID);
                if (!indoorMap) {
                    // Save the previous map level.
                    // It enables the user to exit and re-enter, keeping the same level shown.
                    this._previousSelectedLevel = this._level;
                    this._previousSelectedMap = previousMap;
                }
                this.setLevel(null);
                this._map.fire('indoor.map.unloaded', { indoorMap: previousMap });
            }
            this._selectedMap = indoorMap;
            if (!indoorMap) {
                return;
            }
            const { geojson, layers, levelsRange, beforeLayerId } = indoorMap;
            // Add map source
            this._map.addSource(SOURCE_ID, {
                type: "geojson",
                data: geojson
            });
            // Add layers and save filters
            layers.forEach(layer => this._addLayerForFiltering(layer, beforeLayerId));
            // Hide layers which can overlap for rendering
            indoorMap.layersToHide.forEach(layerId => this._map.setLayoutProperty(layerId, 'visibility', 'none'));
            this._map.fire('indoor.map.loaded', { indoorMap });
            // Restore the same level when the previous selected map is the same.
            const level = this._previousSelectedMap === indoorMap
                ? this._previousSelectedLevel
                : Math.max(Math.min(indoorMap.defaultLevel, levelsRange.max), levelsRange.min);
            this.setLevel(level);
        }
        _closestMap() {
            // TODO enhance this condition
            if (this._map.getZoom() < 17) {
                return null;
            }
            const cameraBounds = this._map.getBounds();
            const mapsInBounds = this._indoorMaps.filter(indoorMap => overlap(indoorMap.bounds, cameraBounds));
            if (mapsInBounds.length === 0) {
                return null;
            }
            if (mapsInBounds.length === 1) {
                return mapsInBounds[0];
            }
            /*
             * If there is multiple maps at this step, select the closest
             */
            let minDist = Number.POSITIVE_INFINITY;
            let closestMap = mapsInBounds[0];
            for (const map of mapsInBounds) {
                const _dist = distance(map.bounds.getCenter(), cameraBounds.getCenter());
                if (_dist < minDist) {
                    closestMap = map;
                    minDist = _dist;
                }
            }
            return closestMap;
        }
    }

    var defaultLayers = [
    	{
    		filter: [
    			"any",
    			[
    				"has",
    				"building"
    			],
    			[
    				"has",
    				"building-part"
    			]
    		],
    		id: "buildings-background",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "#DCD9D6",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						16.5,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"filter-==",
    			"indoor",
    			"level"
    		],
    		id: "level-background",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "#DCD9D6",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						16.5,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		id: "indoor-gardens",
    		type: "fill",
    		source: "indoor",
    		filter: [
    			"filter-==",
    			"leisure",
    			"garden"
    		],
    		layout: {
    			visibility: "visible"
    		},
    		paint: {
    			"fill-color": "#cde8a2",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"filter-==",
    			"amenity",
    			"parking"
    		],
    		id: "indoor-parkings",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "red",
    			"fill-outline-color": "#000000",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"filter-==",
    			"amenity",
    			"parking"
    		],
    		id: "indoor-parkings-patterns",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						0.1
    					]
    				]
    			},
    			"fill-pattern": "si-main-3",
    			"fill-translate-anchor": "viewport"
    		}
    	},
        
  
  
  
  
  
  
  
        
        
        
    	{
    		filter: [
    			"filter-==",
    			"indoor",
    			"corridor"
    		],
    		id: "indoor-corridors",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "#c1d1ea",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						19,
    						0
    					],
    					[
    						20,
    						1
    					]
    				]
    			}
    		}
    	},
        
        
        
        
        
        
        
        
        
        
        
        
         	{
    		filter: [
    			"any",
    			[
    				"filter-==",
    				"indoor",
    				"room"
    			],
                
                
    			[
    				"filter-==",
    				"indoor",
    				"corridor"
    			]
    		],
    		id: "indoor-corridors-borders",
    		type: "line",
    		source: "indoor",
    		paint: {
    			"line-color": "transparent",
    			"line-width": 5,
    			"line-opacity": {
    				base: 1,
    				stops: [
    					[
    						19,
    						0
    					],
    					[
    						20,
    						1
    					]
    				]
    			}
    		}
    	},   
        
        
        
        
        
        
        
        
        
        
        
        
    	{
    		filter: [
    			"filter-==",
    			"indoor",
    			"room"
    		],
    		id: "indoor-rooms",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "#FF033E",
       
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						19,
    						0
    					],
    					[
    						20,
    						1
    					]
    				]
    			}
    		}
    	},
        
   
   
   
   
        
    	{
    		filter: [
    			"all",
    			[
    				"filter-==",
    				"indoor",
    				"room"
    			],
                
                
    			[
    				"filter-==",
    				"indoor",
    				"room"
    			]
    		],
    		id: "indoor-rooms-borders",
    		type: "line",
    		source: "indoor",
    		paint: {
    			"line-color": "transparent",
    			"line-width": 0,
    			"line-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
       
       
       
       
       
       
       
        
    	{
    		filter: [
    			"filter-==",
    			"indoor",
    			"area"
    		],
    		id: "indoor-areas",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "#c1d1ea",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"all",
    			[
    				"filter-==",
    				"indoor",
    				"area"
    			],
    			[
    				"filter-==",
    				"balcony",
    				"yes"
    			]
    		],
    		id: "indoor-balcony",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "#BDBDBD",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"any",
    			[
    				"filter-==",
    				"stairs",
    				"yes"
    			],
    			[
    				"filter-==",
    				"elevator",
    				"yes"
    			]
    		],
    		id: "indoor-stairs",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "#7B635A",
    			"fill-outline-color": "#000000",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"filter-==",
    			"indoor",
    			"wall"
    		],
    		id: "indoor-walls",
    		type: "line",
    		source: "indoor",
    		paint: {
    			"line-color": "#000000",
    			"line-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"has",
    			"barrier"
    		],
    		id: "indoor-barriers",
    		type: "line",
    		source: "indoor",
    		paint: {
    			"line-color": "#000000",
    			"line-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"filter-==",
    			"indoor",
    			"block"
    		],
    		id: "indoor-blocks",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "#000000",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"filter-==",
    			"handrail",
    			"yes"
    		],
    		id: "indoor-handrail",
    		type: "line",
    		source: "indoor",
    		paint: {
    			"line-color": "#000000",
    			"line-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						19,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"any",
    			[
    				"filter-in-small",
    				"indoor",
    				[
    					"literal",
    					[
    						"table",
    						"cupboard",
    						"chair",
    						"kitchen",
    						"sofa",
    						"tv"
    					]
    				]
    			],
    			[
    				"filter-==",
    				"trashcan",
    				"yes"
    			],
    			[
    				"filter-==",
    				"copier",
    				"yes"
    			]
    		],
    		id: "indoor-furniture",
    		type: "fill",
    		source: "indoor",
    		paint: {
    			"fill-color": "#000",
    			"fill-outline-color": "#000",
    			"fill-opacity": {
    				base: 1,
    				stops: [
    					[
    						18,
    						0
    					],
    					[
    						19,
    						0.2
    					]
    				]
    			}
    		}
    	},
    	{
    		filter: [
    			"filter-==",
    			"indoor",
    			"level"
    		],
    		id: "level",
    		type: "line",
    		source: "indoor",
    		paint: {
    			"line-color": "#000000",
    			"line-width": {
    				base: 2,
    				stops: [
    					[
    						16.5,
    						0
    					],
    					[
    						18,
    						2
    					]
    				]
    			},
    			"line-opacity": {
    				base: 1,
    				stops: [
    					[
    						16.5,
    						0
    					],
    					[
    						18,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		id: "indoor-steps",
    		paint: {
    			"line-width": {
    				base: 1.5,
    				stops: [
    					[
    						15,
    						1
    					],
    					[
    						16,
    						1.6
    					],
    					[
    						18,
    						6
    					]
    				]
    			},
    			"line-color": "hsl(0, 0%, 100%)",
    			"line-dasharray": {
    				base: 1,
    				stops: [
    					[
    						14,
    						[
    							1,
    							0
    						]
    					],
    					[
    						15,
    						[
    							1.75,
    							1
    						]
    					],
    					[
    						16,
    						[
    							1,
    							0.75
    						]
    					],
    					[
    						17,
    						[
    							0.3,
    							0.3
    						]
    					]
    				]
    			},
    			"line-opacity": {
    				base: 1,
    				stops: [
    					[
    						14,
    						0
    					],
    					[
    						14.25,
    						1
    					]
    				]
    			}
    		},
    		type: "line",
    		source: "indoor",
    		filter: [
    			"all",
    			[
    				"filter-==",
    				"highway",
    				"steps"
    			],
    			[
    				"!",
    				[
    					"has",
    					"conveying"
    				]
    			]
    		],
    		layout: {
    			"line-join": "round"
    		}
    	},
    	{
    		id: "indoor-conveying",
    		paint: {
    			"line-width": {
    				base: 1.5,
    				stops: [
    					[
    						15,
    						1
    					],
    					[
    						16,
    						1.6
    					],
    					[
    						18,
    						6
    					]
    				]
    			},
    			"line-color": "#FF0000",
    			"line-dasharray": {
    				base: 1,
    				stops: [
    					[
    						14,
    						[
    							1,
    							0
    						]
    					],
    					[
    						15,
    						[
    							1.75,
    							1
    						]
    					],
    					[
    						16,
    						[
    							1,
    							0.75
    						]
    					],
    					[
    						17,
    						[
    							0.3,
    							0.3
    						]
    					]
    				]
    			},
    			"line-opacity": {
    				base: 1,
    				stops: [
    					[
    						14,
    						0
    					],
    					[
    						14.25,
    						1
    					]
    				]
    			}
    		},
    		type: "line",
    		source: "indoor",
    		filter: [
    			"all",
    			[
    				"filter-==",
    				"highway",
    				"steps"
    			],
    			[
    				"has",
    				"conveying"
    			]
    		],
    		layout: {
    			"line-join": "round"
    		}
    	},
    	{
    		interactive: true,
    		minzoom: 17,
    		layout: {
    			"text-line-height": 1.2,
    			"text-size": {
    				base: 1,
    				stops: [
    					[
    						17,
    						10
    					],
    					[
    						20,
    						12
    					]
    				]
    			},
    			"text-allow-overlap": false,
    			"text-ignore-placement": false,
    			"text-max-angle": 38,
    			"text-font": [
    				"DIN Offc Pro Medium",
    				"Arial Unicode MS Regular"
    			],
    			"symbol-placement": "point",
    			"text-padding": 2,
    			visibility: "visible",
    			"text-rotation-alignment": "viewport",
    			"text-anchor": "center",
    			"text-field": "{name}",
    			"text-letter-spacing": 0.02,
    			"text-max-width": 8
    		},
    		filter: [
    			"filter-==",
    			"indoor",
    			"room"
    		],
    		type: "symbol",
    		source: "indoor",
    		id: "poi-indoor-text-ref",
    		paint: {
    			"text-color": "#65513d",
    			"text-halo-color": "#ffffff",
    			"text-halo-width": 1,
    			"text-opacity": {
    				base: 1,
    				stops: [
    					[
    						18,
    						0
    					],
    					[
    						18.5,
    						0.5
    					],
    					[
    						19,
    						1
    					]
    				]
    			}
    		}
    	},
    	{
    		interactive: true,
    		minzoom: 17,
    		layout: {
    			"text-line-height": 1.2,
    			"icon-size": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0.5
    					],
    					[
    						20,
    						1
    					]
    				]
    			},
    			"text-size": {
    				base: 1,
    				stops: [
    					[
    						17,
    						11
    					],
    					[
    						20,
    						13
    					]
    				]
    			},
    			"text-allow-overlap": false,
    			"icon-image": "{maki}-15",
    			"icon-anchor": "center",
    			"text-ignore-placement": false,
    			"text-max-angle": 38,
    			"symbol-spacing": 250,
    			"text-font": [
    				"DIN Offc Pro Medium",
    				"Arial Unicode MS Regular"
    			],
    			"symbol-placement": "point",
    			"text-padding": 2,
    			visibility: "visible",
    			"text-offset": [
    				0,
    				1
    			],
    			"icon-optional": false,
    			"text-rotation-alignment": "viewport",
    			"text-anchor": "top",
    			"text-field": "{name}",
    			"text-letter-spacing": 0.02,
    			"text-max-width": 8,
    			"icon-allow-overlap": true
    		},
    		filter: [
    			"boolean",
    			false
    		],
    		type: "symbol",
    		source: "indoor",
    		id: "poi-indoor",
    		paint: {
    			"text-color": "#65513d",
    			"text-halo-color": "#ffffff",
    			"text-halo-width": 1,
    			"text-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						17.5,
    						0.5
    					],
    					[
    						19,
    						1
    					]
    				]
    			},
    			"icon-opacity": {
    				base: 1,
    				stops: [
    					[
    						17,
    						0
    					],
    					[
    						17.5,
    						0.5
    					],
    					[
    						19,
    						1
    					]
    				]
    			}
    		}
    	}
    ];

    let layers = defaultLayers;
    /**
     * Transform the generic "poi-indoor" layer into multiple layers using filters based on OSM tags
     */
    const POI_LAYER_ID = "poi-indoor";
    const OSM_FILTER_MAPBOX_MAKI_LIST = [
        {
            filter: ['filter-==', 'amenity', 'fast_food'],
            maki: 'fast-food'
        },
        {
            filter: ['filter-==', 'amenity', 'restaurant'],
            maki: 'restaurant'
        },
        {
            filter: ['filter-==', 'amenity', 'cafe'],
            maki: 'cafe'
        },
        {
            filter: ['filter-==', 'amenity', 'bank'],
            maki: 'bank'
        },
        {
            filter: ['filter-==', 'amenity', 'toilets'],
            maki: 'toilet'
        },
        {
            filter: ['filter-==', 'shop', 'travel_agency'],
            maki: 'suitcase'
        },
        {
            filter: ['filter-==', 'shop', 'convenience'],
            maki: 'grocery'
        },
        {
            filter: ['filter-==', 'shop', 'bakery'],
            maki: 'bakery'
        },
        {
            filter: ['filter-==', 'shop', 'chemist'],
            maki: 'pharmacy'
        },
        {
            filter: ['filter-==', 'shop', 'clothes'],
            maki: 'clothing-store'
        },
        {
            filter: ['filter-==', 'highway', 'steps'],
            maki: 'entrance'
        },
        {
            filter: ['has', 'shop'],
            maki: 'shop'
        }
    ];
    function createPoiLayers(metaLayer) {
        return OSM_FILTER_MAPBOX_MAKI_LIST.map(poi => {
            const newLayer = Object.assign({}, metaLayer);
            newLayer.id += `-${poi.maki}`;
            newLayer.filter = poi.filter;
            newLayer.layout = Object.assign({}, metaLayer.layout);
            newLayer.layout['icon-image'] = `${poi.maki}-15`;
            return newLayer;
        });
    }
    const poiLayer = layers.find(layer => layer.id === POI_LAYER_ID);
    if (poiLayer) {
        // Convert poi-indoor layer into several poi-layers
        createPoiLayers(poiLayer).forEach(_layer => layers.push(_layer));
        layers = layers.filter(layer => layer.id !== POI_LAYER_ID);
    }
    var DefaultLayers = layers;

    var Style = { DefaultLayers };

    function getDefaultExportFromCjs (x) {
    	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
    }

    function createCommonjsModule(fn, basedir, module) {
    	return module = {
    		path: basedir,
    		exports: {},
    		require: function (path, base) {
    			return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);
    		}
    	}, fn(module, module.exports), module.exports;
    }

    function commonjsRequire () {
    	throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');
    }

    var helpers = createCommonjsModule(function (module, exports) {
    Object.defineProperty(exports, "__esModule", { value: true });
    /**
     * @module helpers
     */
    /**
     * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.
     *
     * @memberof helpers
     * @type {number}
     */
    exports.earthRadius = 6371008.8;
    /**
     * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.
     *
     * @memberof helpers
     * @type {Object}
     */
    exports.factors = {
        centimeters: exports.earthRadius * 100,
        centimetres: exports.earthRadius * 100,
        degrees: exports.earthRadius / 111325,
        feet: exports.earthRadius * 3.28084,
        inches: exports.earthRadius * 39.370,
        kilometers: exports.earthRadius / 1000,
        kilometres: exports.earthRadius / 1000,
        meters: exports.earthRadius,
        metres: exports.earthRadius,
        miles: exports.earthRadius / 1609.344,
        millimeters: exports.earthRadius * 1000,
        millimetres: exports.earthRadius * 1000,
        nauticalmiles: exports.earthRadius / 1852,
        radians: 1,
        yards: exports.earthRadius / 1.0936,
    };
    /**
     * Units of measurement factors based on 1 meter.
     *
     * @memberof helpers
     * @type {Object}
     */
    exports.unitsFactors = {
        centimeters: 100,
        centimetres: 100,
        degrees: 1 / 111325,
        feet: 3.28084,
        inches: 39.370,
        kilometers: 1 / 1000,
        kilometres: 1 / 1000,
        meters: 1,
        metres: 1,
        miles: 1 / 1609.344,
        millimeters: 1000,
        millimetres: 1000,
        nauticalmiles: 1 / 1852,
        radians: 1 / exports.earthRadius,
        yards: 1 / 1.0936,
    };
    /**
     * Area of measurement factors based on 1 square meter.
     *
     * @memberof helpers
     * @type {Object}
     */
    exports.areaFactors = {
        acres: 0.000247105,
        centimeters: 10000,
        centimetres: 10000,
        feet: 10.763910417,
        inches: 1550.003100006,
        kilometers: 0.000001,
        kilometres: 0.000001,
        meters: 1,
        metres: 1,
        miles: 3.86e-7,
        millimeters: 1000000,
        millimetres: 1000000,
        yards: 1.195990046,
    };
    /**
     * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.
     *
     * @name feature
     * @param {Geometry} geometry input geometry
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the Feature
     * @returns {Feature} a GeoJSON Feature
     * @example
     * var geometry = {
     *   "type": "Point",
     *   "coordinates": [110, 50]
     * };
     *
     * var feature = turf.feature(geometry);
     *
     * //=feature
     */
    function feature(geom, properties, options) {
        if (options === void 0) { options = {}; }
        var feat = { type: "Feature" };
        if (options.id === 0 || options.id) {
            feat.id = options.id;
        }
        if (options.bbox) {
            feat.bbox = options.bbox;
        }
        feat.properties = properties || {};
        feat.geometry = geom;
        return feat;
    }
    exports.feature = feature;
    /**
     * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.
     * For GeometryCollection type use `helpers.geometryCollection`
     *
     * @name geometry
     * @param {string} type Geometry Type
     * @param {Array<any>} coordinates Coordinates
     * @param {Object} [options={}] Optional Parameters
     * @returns {Geometry} a GeoJSON Geometry
     * @example
     * var type = "Point";
     * var coordinates = [110, 50];
     * var geometry = turf.geometry(type, coordinates);
     * // => geometry
     */
    function geometry(type, coordinates, options) {
        switch (type) {
            case "Point": return point(coordinates).geometry;
            case "LineString": return lineString(coordinates).geometry;
            case "Polygon": return polygon(coordinates).geometry;
            case "MultiPoint": return multiPoint(coordinates).geometry;
            case "MultiLineString": return multiLineString(coordinates).geometry;
            case "MultiPolygon": return multiPolygon(coordinates).geometry;
            default: throw new Error(type + " is invalid");
        }
    }
    exports.geometry = geometry;
    /**
     * Creates a {@link Point} {@link Feature} from a Position.
     *
     * @name point
     * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the Feature
     * @returns {Feature<Point>} a Point feature
     * @example
     * var point = turf.point([-75.343, 39.984]);
     *
     * //=point
     */
    function point(coordinates, properties, options) {
        if (options === void 0) { options = {}; }
        var geom = {
            type: "Point",
            coordinates: coordinates,
        };
        return feature(geom, properties, options);
    }
    exports.point = point;
    /**
     * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.
     *
     * @name points
     * @param {Array<Array<number>>} coordinates an array of Points
     * @param {Object} [properties={}] Translate these properties to each Feature
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]
     * associated with the FeatureCollection
     * @param {string|number} [options.id] Identifier associated with the FeatureCollection
     * @returns {FeatureCollection<Point>} Point Feature
     * @example
     * var points = turf.points([
     *   [-75, 39],
     *   [-80, 45],
     *   [-78, 50]
     * ]);
     *
     * //=points
     */
    function points(coordinates, properties, options) {
        if (options === void 0) { options = {}; }
        return featureCollection(coordinates.map(function (coords) {
            return point(coords, properties);
        }), options);
    }
    exports.points = points;
    /**
     * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.
     *
     * @name polygon
     * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the Feature
     * @returns {Feature<Polygon>} Polygon Feature
     * @example
     * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });
     *
     * //=polygon
     */
    function polygon(coordinates, properties, options) {
        if (options === void 0) { options = {}; }
        for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {
            var ring = coordinates_1[_i];
            if (ring.length < 4) {
                throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
            }
            for (var j = 0; j < ring[ring.length - 1].length; j++) {
                // Check if first point of Polygon contains two numbers
                if (ring[ring.length - 1][j] !== ring[0][j]) {
                    throw new Error("First and last Position are not equivalent.");
                }
            }
        }
        var geom = {
            type: "Polygon",
            coordinates: coordinates,
        };
        return feature(geom, properties, options);
    }
    exports.polygon = polygon;
    /**
     * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.
     *
     * @name polygons
     * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the FeatureCollection
     * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection
     * @example
     * var polygons = turf.polygons([
     *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],
     *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],
     * ]);
     *
     * //=polygons
     */
    function polygons(coordinates, properties, options) {
        if (options === void 0) { options = {}; }
        return featureCollection(coordinates.map(function (coords) {
            return polygon(coords, properties);
        }), options);
    }
    exports.polygons = polygons;
    /**
     * Creates a {@link LineString} {@link Feature} from an Array of Positions.
     *
     * @name lineString
     * @param {Array<Array<number>>} coordinates an array of Positions
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the Feature
     * @returns {Feature<LineString>} LineString Feature
     * @example
     * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});
     * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});
     *
     * //=linestring1
     * //=linestring2
     */
    function lineString(coordinates, properties, options) {
        if (options === void 0) { options = {}; }
        if (coordinates.length < 2) {
            throw new Error("coordinates must be an array of two or more positions");
        }
        var geom = {
            type: "LineString",
            coordinates: coordinates,
        };
        return feature(geom, properties, options);
    }
    exports.lineString = lineString;
    /**
     * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.
     *
     * @name lineStrings
     * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]
     * associated with the FeatureCollection
     * @param {string|number} [options.id] Identifier associated with the FeatureCollection
     * @returns {FeatureCollection<LineString>} LineString FeatureCollection
     * @example
     * var linestrings = turf.lineStrings([
     *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],
     *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]
     * ]);
     *
     * //=linestrings
     */
    function lineStrings(coordinates, properties, options) {
        if (options === void 0) { options = {}; }
        return featureCollection(coordinates.map(function (coords) {
            return lineString(coords, properties);
        }), options);
    }
    exports.lineStrings = lineStrings;
    /**
     * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.
     *
     * @name featureCollection
     * @param {Feature[]} features input features
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the Feature
     * @returns {FeatureCollection} FeatureCollection of Features
     * @example
     * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});
     * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});
     * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});
     *
     * var collection = turf.featureCollection([
     *   locationA,
     *   locationB,
     *   locationC
     * ]);
     *
     * //=collection
     */
    function featureCollection(features, options) {
        if (options === void 0) { options = {}; }
        var fc = { type: "FeatureCollection" };
        if (options.id) {
            fc.id = options.id;
        }
        if (options.bbox) {
            fc.bbox = options.bbox;
        }
        fc.features = features;
        return fc;
    }
    exports.featureCollection = featureCollection;
    /**
     * Creates a {@link Feature<MultiLineString>} based on a
     * coordinate array. Properties can be added optionally.
     *
     * @name multiLineString
     * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the Feature
     * @returns {Feature<MultiLineString>} a MultiLineString feature
     * @throws {Error} if no coordinates are passed
     * @example
     * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);
     *
     * //=multiLine
     */
    function multiLineString(coordinates, properties, options) {
        if (options === void 0) { options = {}; }
        var geom = {
            type: "MultiLineString",
            coordinates: coordinates,
        };
        return feature(geom, properties, options);
    }
    exports.multiLineString = multiLineString;
    /**
     * Creates a {@link Feature<MultiPoint>} based on a
     * coordinate array. Properties can be added optionally.
     *
     * @name multiPoint
     * @param {Array<Array<number>>} coordinates an array of Positions
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the Feature
     * @returns {Feature<MultiPoint>} a MultiPoint feature
     * @throws {Error} if no coordinates are passed
     * @example
     * var multiPt = turf.multiPoint([[0,0],[10,10]]);
     *
     * //=multiPt
     */
    function multiPoint(coordinates, properties, options) {
        if (options === void 0) { options = {}; }
        var geom = {
            type: "MultiPoint",
            coordinates: coordinates,
        };
        return feature(geom, properties, options);
    }
    exports.multiPoint = multiPoint;
    /**
     * Creates a {@link Feature<MultiPolygon>} based on a
     * coordinate array. Properties can be added optionally.
     *
     * @name multiPolygon
     * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the Feature
     * @returns {Feature<MultiPolygon>} a multipolygon feature
     * @throws {Error} if no coordinates are passed
     * @example
     * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);
     *
     * //=multiPoly
     *
     */
    function multiPolygon(coordinates, properties, options) {
        if (options === void 0) { options = {}; }
        var geom = {
            type: "MultiPolygon",
            coordinates: coordinates,
        };
        return feature(geom, properties, options);
    }
    exports.multiPolygon = multiPolygon;
    /**
     * Creates a {@link Feature<GeometryCollection>} based on a
     * coordinate array. Properties can be added optionally.
     *
     * @name geometryCollection
     * @param {Array<Geometry>} geometries an array of GeoJSON Geometries
     * @param {Object} [properties={}] an Object of key-value pairs to add as properties
     * @param {Object} [options={}] Optional Parameters
     * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature
     * @param {string|number} [options.id] Identifier associated with the Feature
     * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature
     * @example
     * var pt = turf.geometry("Point", [100, 0]);
     * var line = turf.geometry("LineString", [[101, 0], [102, 1]]);
     * var collection = turf.geometryCollection([pt, line]);
     *
     * // => collection
     */
    function geometryCollection(geometries, properties, options) {
        if (options === void 0) { options = {}; }
        var geom = {
            type: "GeometryCollection",
            geometries: geometries,
        };
        return feature(geom, properties, options);
    }
    exports.geometryCollection = geometryCollection;
    /**
     * Round number to precision
     *
     * @param {number} num Number
     * @param {number} [precision=0] Precision
     * @returns {number} rounded number
     * @example
     * turf.round(120.4321)
     * //=120
     *
     * turf.round(120.4321, 2)
     * //=120.43
     */
    function round(num, precision) {
        if (precision === void 0) { precision = 0; }
        if (precision && !(precision >= 0)) {
            throw new Error("precision must be a positive number");
        }
        var multiplier = Math.pow(10, precision || 0);
        return Math.round(num * multiplier) / multiplier;
    }
    exports.round = round;
    /**
     * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.
     * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet
     *
     * @name radiansToLength
     * @param {number} radians in radians across the sphere
     * @param {string} [units="kilometers"] can be degrees, radians, miles, or kilometers inches, yards, metres,
     * meters, kilometres, kilometers.
     * @returns {number} distance
     */
    function radiansToLength(radians, units) {
        if (units === void 0) { units = "kilometers"; }
        var factor = exports.factors[units];
        if (!factor) {
            throw new Error(units + " units is invalid");
        }
        return radians * factor;
    }
    exports.radiansToLength = radiansToLength;
    /**
     * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians
     * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet
     *
     * @name lengthToRadians
     * @param {number} distance in real units
     * @param {string} [units="kilometers"] can be degrees, radians, miles, or kilometers inches, yards, metres,
     * meters, kilometres, kilometers.
     * @returns {number} radians
     */
    function lengthToRadians(distance, units) {
        if (units === void 0) { units = "kilometers"; }
        var factor = exports.factors[units];
        if (!factor) {
            throw new Error(units + " units is invalid");
        }
        return distance / factor;
    }
    exports.lengthToRadians = lengthToRadians;
    /**
     * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees
     * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet
     *
     * @name lengthToDegrees
     * @param {number} distance in real units
     * @param {string} [units="kilometers"] can be degrees, radians, miles, or kilometers inches, yards, metres,
     * meters, kilometres, kilometers.
     * @returns {number} degrees
     */
    function lengthToDegrees(distance, units) {
        return radiansToDegrees(lengthToRadians(distance, units));
    }
    exports.lengthToDegrees = lengthToDegrees;
    /**
     * Converts any bearing angle from the north line direction (positive clockwise)
     * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line
     *
     * @name bearingToAzimuth
     * @param {number} bearing angle, between -180 and +180 degrees
     * @returns {number} angle between 0 and 360 degrees
     */
    function bearingToAzimuth(bearing) {
        var angle = bearing % 360;
        if (angle < 0) {
            angle += 360;
        }
        return angle;
    }
    exports.bearingToAzimuth = bearingToAzimuth;
    /**
     * Converts an angle in radians to degrees
     *
     * @name radiansToDegrees
     * @param {number} radians angle in radians
     * @returns {number} degrees between 0 and 360 degrees
     */
    function radiansToDegrees(radians) {
        var degrees = radians % (2 * Math.PI);
        return degrees * 180 / Math.PI;
    }
    exports.radiansToDegrees = radiansToDegrees;
    /**
     * Converts an angle in degrees to radians
     *
     * @name degreesToRadians
     * @param {number} degrees angle between 0 and 360 degrees
     * @returns {number} angle in radians
     */
    function degreesToRadians(degrees) {
        var radians = degrees % 360;
        return radians * Math.PI / 180;
    }
    exports.degreesToRadians = degreesToRadians;
    /**
     * Converts a length to the requested unit.
     * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet
     *
     * @param {number} length to be converted
     * @param {Units} [originalUnit="kilometers"] of the length
     * @param {Units} [finalUnit="kilometers"] returned unit
     * @returns {number} the converted length
     */
    function convertLength(length, originalUnit, finalUnit) {
        if (originalUnit === void 0) { originalUnit = "kilometers"; }
        if (finalUnit === void 0) { finalUnit = "kilometers"; }
        if (!(length >= 0)) {
            throw new Error("length must be a positive number");
        }
        return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);
    }
    exports.convertLength = convertLength;
    /**
     * Converts a area to the requested unit.
     * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches
     * @param {number} area to be converted
     * @param {Units} [originalUnit="meters"] of the distance
     * @param {Units} [finalUnit="kilometers"] returned unit
     * @returns {number} the converted distance
     */
    function convertArea(area, originalUnit, finalUnit) {
        if (originalUnit === void 0) { originalUnit = "meters"; }
        if (finalUnit === void 0) { finalUnit = "kilometers"; }
        if (!(area >= 0)) {
            throw new Error("area must be a positive number");
        }
        var startFactor = exports.areaFactors[originalUnit];
        if (!startFactor) {
            throw new Error("invalid original units");
        }
        var finalFactor = exports.areaFactors[finalUnit];
        if (!finalFactor) {
            throw new Error("invalid final units");
        }
        return (area / startFactor) * finalFactor;
    }
    exports.convertArea = convertArea;
    /**
     * isNumber
     *
     * @param {*} num Number to validate
     * @returns {boolean} true/false
     * @example
     * turf.isNumber(123)
     * //=true
     * turf.isNumber('foo')
     * //=false
     */
    function isNumber(num) {
        return !isNaN(num) && num !== null && !Array.isArray(num) && !/^\s*$/.test(num);
    }
    exports.isNumber = isNumber;
    /**
     * isObject
     *
     * @param {*} input variable to validate
     * @returns {boolean} true/false
     * @example
     * turf.isObject({elevation: 10})
     * //=true
     * turf.isObject('foo')
     * //=false
     */
    function isObject(input) {
        return (!!input) && (input.constructor === Object);
    }
    exports.isObject = isObject;
    /**
     * Validate BBox
     *
     * @private
     * @param {Array<number>} bbox BBox to validate
     * @returns {void}
     * @throws Error if BBox is not valid
     * @example
     * validateBBox([-180, -40, 110, 50])
     * //=OK
     * validateBBox([-180, -40])
     * //=Error
     * validateBBox('Foo')
     * //=Error
     * validateBBox(5)
     * //=Error
     * validateBBox(null)
     * //=Error
     * validateBBox(undefined)
     * //=Error
     */
    function validateBBox(bbox) {
        if (!bbox) {
            throw new Error("bbox is required");
        }
        if (!Array.isArray(bbox)) {
            throw new Error("bbox must be an Array");
        }
        if (bbox.length !== 4 && bbox.length !== 6) {
            throw new Error("bbox must be an Array of 4 or 6 numbers");
        }
        bbox.forEach(function (num) {
            if (!isNumber(num)) {
                throw new Error("bbox must only contain numbers");
            }
        });
    }
    exports.validateBBox = validateBBox;
    /**
     * Validate Id
     *
     * @private
     * @param {string|number} id Id to validate
     * @returns {void}
     * @throws Error if Id is not valid
     * @example
     * validateId([-180, -40, 110, 50])
     * //=Error
     * validateId([-180, -40])
     * //=Error
     * validateId('Foo')
     * //=OK
     * validateId(5)
     * //=OK
     * validateId(null)
     * //=Error
     * validateId(undefined)
     * //=Error
     */
    function validateId(id) {
        if (!id) {
            throw new Error("id is required");
        }
        if (["string", "number"].indexOf(typeof id) === -1) {
            throw new Error("id must be a number or a string");
        }
    }
    exports.validateId = validateId;
    // Deprecated methods
    function radians2degrees() {
        throw new Error("method has been renamed to `radiansToDegrees`");
    }
    exports.radians2degrees = radians2degrees;
    function degrees2radians() {
        throw new Error("method has been renamed to `degreesToRadians`");
    }
    exports.degrees2radians = degrees2radians;
    function distanceToDegrees() {
        throw new Error("method has been renamed to `lengthToDegrees`");
    }
    exports.distanceToDegrees = distanceToDegrees;
    function distanceToRadians() {
        throw new Error("method has been renamed to `lengthToRadians`");
    }
    exports.distanceToRadians = distanceToRadians;
    function radiansToDistance() {
        throw new Error("method has been renamed to `radiansToLength`");
    }
    exports.radiansToDistance = radiansToDistance;
    function bearingToAngle() {
        throw new Error("method has been renamed to `bearingToAzimuth`");
    }
    exports.bearingToAngle = bearingToAngle;
    function convertDistance() {
        throw new Error("method has been renamed to `convertLength`");
    }
    exports.convertDistance = convertDistance;
    });

    var meta = createCommonjsModule(function (module, exports) {

    Object.defineProperty(exports, '__esModule', { value: true });



    /**
     * Callback for coordEach
     *
     * @callback coordEachCallback
     * @param {Array<number>} currentCoord The current coordinate being processed.
     * @param {number} coordIndex The current index of the coordinate being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.
     * @param {number} geometryIndex The current index of the Geometry being processed.
     */

    /**
     * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()
     *
     * @name coordEach
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object
     * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)
     * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.
     * @returns {void}
     * @example
     * var features = turf.featureCollection([
     *   turf.point([26, 37], {"foo": "bar"}),
     *   turf.point([36, 53], {"hello": "world"})
     * ]);
     *
     * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {
     *   //=currentCoord
     *   //=coordIndex
     *   //=featureIndex
     *   //=multiFeatureIndex
     *   //=geometryIndex
     * });
     */
    function coordEach(geojson, callback, excludeWrapCoord) {
        // Handles null Geometry -- Skips this GeoJSON
        if (geojson === null) return;
        var j, k, l, geometry, stopG, coords,
            geometryMaybeCollection,
            wrapShrink = 0,
            coordIndex = 0,
            isGeometryCollection,
            type = geojson.type,
            isFeatureCollection = type === 'FeatureCollection',
            isFeature = type === 'Feature',
            stop = isFeatureCollection ? geojson.features.length : 1;

        // This logic may look a little weird. The reason why it is that way
        // is because it's trying to be fast. GeoJSON supports multiple kinds
        // of objects at its root: FeatureCollection, Features, Geometries.
        // This function has the responsibility of handling all of them, and that
        // means that some of the `for` loops you see below actually just don't apply
        // to certain inputs. For instance, if you give this just a
        // Point geometry, then both loops are short-circuited and all we do
        // is gradually rename the input until it's called 'geometry'.
        //
        // This also aims to allocate as few resources as possible: just a
        // few numbers and booleans, rather than any temporary arrays as would
        // be required with the normalization approach.
        for (var featureIndex = 0; featureIndex < stop; featureIndex++) {
            geometryMaybeCollection = (isFeatureCollection ? geojson.features[featureIndex].geometry :
                (isFeature ? geojson.geometry : geojson));
            isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;
            stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;

            for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {
                var multiFeatureIndex = 0;
                var geometryIndex = 0;
                geometry = isGeometryCollection ?
                    geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;

                // Handles null Geometry -- Skips this geometry
                if (geometry === null) continue;
                coords = geometry.coordinates;
                var geomType = geometry.type;

                wrapShrink = (excludeWrapCoord && (geomType === 'Polygon' || geomType === 'MultiPolygon')) ? 1 : 0;

                switch (geomType) {
                case null:
                    break;
                case 'Point':
                    if (callback(coords, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) return false;
                    coordIndex++;
                    multiFeatureIndex++;
                    break;
                case 'LineString':
                case 'MultiPoint':
                    for (j = 0; j < coords.length; j++) {
                        if (callback(coords[j], coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) return false;
                        coordIndex++;
                        if (geomType === 'MultiPoint') multiFeatureIndex++;
                    }
                    if (geomType === 'LineString') multiFeatureIndex++;
                    break;
                case 'Polygon':
                case 'MultiLineString':
                    for (j = 0; j < coords.length; j++) {
                        for (k = 0; k < coords[j].length - wrapShrink; k++) {
                            if (callback(coords[j][k], coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) return false;
                            coordIndex++;
                        }
                        if (geomType === 'MultiLineString') multiFeatureIndex++;
                        if (geomType === 'Polygon') geometryIndex++;
                    }
                    if (geomType === 'Polygon') multiFeatureIndex++;
                    break;
                case 'MultiPolygon':
                    for (j = 0; j < coords.length; j++) {
                        geometryIndex = 0;
                        for (k = 0; k < coords[j].length; k++) {
                            for (l = 0; l < coords[j][k].length - wrapShrink; l++) {
                                if (callback(coords[j][k][l], coordIndex, featureIndex, multiFeatureIndex, geometryIndex) === false) return false;
                                coordIndex++;
                            }
                            geometryIndex++;
                        }
                        multiFeatureIndex++;
                    }
                    break;
                case 'GeometryCollection':
                    for (j = 0; j < geometry.geometries.length; j++)
                        if (coordEach(geometry.geometries[j], callback, excludeWrapCoord) === false) return false;
                    break;
                default:
                    throw new Error('Unknown Geometry Type');
                }
            }
        }
    }

    /**
     * Callback for coordReduce
     *
     * The first time the callback function is called, the values provided as arguments depend
     * on whether the reduce method has an initialValue argument.
     *
     * If an initialValue is provided to the reduce method:
     *  - The previousValue argument is initialValue.
     *  - The currentValue argument is the value of the first element present in the array.
     *
     * If an initialValue is not provided:
     *  - The previousValue argument is the value of the first element present in the array.
     *  - The currentValue argument is the value of the second element present in the array.
     *
     * @callback coordReduceCallback
     * @param {*} previousValue The accumulated value previously returned in the last invocation
     * of the callback, or initialValue, if supplied.
     * @param {Array<number>} currentCoord The current coordinate being processed.
     * @param {number} coordIndex The current index of the coordinate being processed.
     * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.
     * @param {number} featureIndex The current index of the Feature being processed.
     * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.
     * @param {number} geometryIndex The current index of the Geometry being processed.
     */

    /**
     * Reduce coordinates in any GeoJSON object, similar to Array.reduce()
     *
     * @name coordReduce
     * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object
     * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)
     * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.
     * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.
     * @returns {*} The value that results from the reduction.
     * @example
     * var features = turf.featureCollection([
     *   turf.point([26, 37], {"foo": "bar"}),
     *   turf.point([36, 53], {"hello": "world"})
     * ]);
     *
     * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {
     *   //=previousValue
     *   //=currentCoord
     *   //=coordIndex
     *   //=featureIndex
     *   //=multiFeatureIndex
     *   //=geometryIndex
     *   return currentCoord;
     * });
     */
    function coordReduce(geojson, callback, initialValue, excludeWrapCoord) {
        var previousValue = initialValue;
        coordEach(geojson, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {
            if (coordIndex === 0 && initialValue === undefined) previousValue = currentCoord;
            else previousValue = callback(previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex);
        }, excludeWrapCoord);
        return previousValue;
    }

    /**
     * Callback for propEach
     *
     * @callback propEachCallback
     * @param {Object} currentProperties The current Properties being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     */

    /**
     * Iterate over properties in any GeoJSON object, similar to Array.forEach()
     *
     * @name propEach
     * @param {FeatureCollection|Feature} geojson any GeoJSON object
     * @param {Function} callback a method that takes (currentProperties, featureIndex)
     * @returns {void}
     * @example
     * var features = turf.featureCollection([
     *     turf.point([26, 37], {foo: 'bar'}),
     *     turf.point([36, 53], {hello: 'world'})
     * ]);
     *
     * turf.propEach(features, function (currentProperties, featureIndex) {
     *   //=currentProperties
     *   //=featureIndex
     * });
     */
    function propEach(geojson, callback) {
        var i;
        switch (geojson.type) {
        case 'FeatureCollection':
            for (i = 0; i < geojson.features.length; i++) {
                if (callback(geojson.features[i].properties, i) === false) break;
            }
            break;
        case 'Feature':
            callback(geojson.properties, 0);
            break;
        }
    }


    /**
     * Callback for propReduce
     *
     * The first time the callback function is called, the values provided as arguments depend
     * on whether the reduce method has an initialValue argument.
     *
     * If an initialValue is provided to the reduce method:
     *  - The previousValue argument is initialValue.
     *  - The currentValue argument is the value of the first element present in the array.
     *
     * If an initialValue is not provided:
     *  - The previousValue argument is the value of the first element present in the array.
     *  - The currentValue argument is the value of the second element present in the array.
     *
     * @callback propReduceCallback
     * @param {*} previousValue The accumulated value previously returned in the last invocation
     * of the callback, or initialValue, if supplied.
     * @param {*} currentProperties The current Properties being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     */

    /**
     * Reduce properties in any GeoJSON object into a single value,
     * similar to how Array.reduce works. However, in this case we lazily run
     * the reduction, so an array of all properties is unnecessary.
     *
     * @name propReduce
     * @param {FeatureCollection|Feature} geojson any GeoJSON object
     * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)
     * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.
     * @returns {*} The value that results from the reduction.
     * @example
     * var features = turf.featureCollection([
     *     turf.point([26, 37], {foo: 'bar'}),
     *     turf.point([36, 53], {hello: 'world'})
     * ]);
     *
     * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {
     *   //=previousValue
     *   //=currentProperties
     *   //=featureIndex
     *   return currentProperties
     * });
     */
    function propReduce(geojson, callback, initialValue) {
        var previousValue = initialValue;
        propEach(geojson, function (currentProperties, featureIndex) {
            if (featureIndex === 0 && initialValue === undefined) previousValue = currentProperties;
            else previousValue = callback(previousValue, currentProperties, featureIndex);
        });
        return previousValue;
    }

    /**
     * Callback for featureEach
     *
     * @callback featureEachCallback
     * @param {Feature<any>} currentFeature The current Feature being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     */

    /**
     * Iterate over features in any GeoJSON object, similar to
     * Array.forEach.
     *
     * @name featureEach
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object
     * @param {Function} callback a method that takes (currentFeature, featureIndex)
     * @returns {void}
     * @example
     * var features = turf.featureCollection([
     *   turf.point([26, 37], {foo: 'bar'}),
     *   turf.point([36, 53], {hello: 'world'})
     * ]);
     *
     * turf.featureEach(features, function (currentFeature, featureIndex) {
     *   //=currentFeature
     *   //=featureIndex
     * });
     */
    function featureEach(geojson, callback) {
        if (geojson.type === 'Feature') {
            callback(geojson, 0);
        } else if (geojson.type === 'FeatureCollection') {
            for (var i = 0; i < geojson.features.length; i++) {
                if (callback(geojson.features[i], i) === false) break;
            }
        }
    }

    /**
     * Callback for featureReduce
     *
     * The first time the callback function is called, the values provided as arguments depend
     * on whether the reduce method has an initialValue argument.
     *
     * If an initialValue is provided to the reduce method:
     *  - The previousValue argument is initialValue.
     *  - The currentValue argument is the value of the first element present in the array.
     *
     * If an initialValue is not provided:
     *  - The previousValue argument is the value of the first element present in the array.
     *  - The currentValue argument is the value of the second element present in the array.
     *
     * @callback featureReduceCallback
     * @param {*} previousValue The accumulated value previously returned in the last invocation
     * of the callback, or initialValue, if supplied.
     * @param {Feature} currentFeature The current Feature being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     */

    /**
     * Reduce features in any GeoJSON object, similar to Array.reduce().
     *
     * @name featureReduce
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object
     * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)
     * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.
     * @returns {*} The value that results from the reduction.
     * @example
     * var features = turf.featureCollection([
     *   turf.point([26, 37], {"foo": "bar"}),
     *   turf.point([36, 53], {"hello": "world"})
     * ]);
     *
     * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {
     *   //=previousValue
     *   //=currentFeature
     *   //=featureIndex
     *   return currentFeature
     * });
     */
    function featureReduce(geojson, callback, initialValue) {
        var previousValue = initialValue;
        featureEach(geojson, function (currentFeature, featureIndex) {
            if (featureIndex === 0 && initialValue === undefined) previousValue = currentFeature;
            else previousValue = callback(previousValue, currentFeature, featureIndex);
        });
        return previousValue;
    }

    /**
     * Get all coordinates from any GeoJSON object.
     *
     * @name coordAll
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object
     * @returns {Array<Array<number>>} coordinate position array
     * @example
     * var features = turf.featureCollection([
     *   turf.point([26, 37], {foo: 'bar'}),
     *   turf.point([36, 53], {hello: 'world'})
     * ]);
     *
     * var coords = turf.coordAll(features);
     * //= [[26, 37], [36, 53]]
     */
    function coordAll(geojson) {
        var coords = [];
        coordEach(geojson, function (coord) {
            coords.push(coord);
        });
        return coords;
    }

    /**
     * Callback for geomEach
     *
     * @callback geomEachCallback
     * @param {Geometry} currentGeometry The current Geometry being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     * @param {Object} featureProperties The current Feature Properties being processed.
     * @param {Array<number>} featureBBox The current Feature BBox being processed.
     * @param {number|string} featureId The current Feature Id being processed.
     */

    /**
     * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()
     *
     * @name geomEach
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object
     * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)
     * @returns {void}
     * @example
     * var features = turf.featureCollection([
     *     turf.point([26, 37], {foo: 'bar'}),
     *     turf.point([36, 53], {hello: 'world'})
     * ]);
     *
     * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {
     *   //=currentGeometry
     *   //=featureIndex
     *   //=featureProperties
     *   //=featureBBox
     *   //=featureId
     * });
     */
    function geomEach(geojson, callback) {
        var i, j, g, geometry, stopG,
            geometryMaybeCollection,
            isGeometryCollection,
            featureProperties,
            featureBBox,
            featureId,
            featureIndex = 0,
            isFeatureCollection = geojson.type === 'FeatureCollection',
            isFeature = geojson.type === 'Feature',
            stop = isFeatureCollection ? geojson.features.length : 1;

        // This logic may look a little weird. The reason why it is that way
        // is because it's trying to be fast. GeoJSON supports multiple kinds
        // of objects at its root: FeatureCollection, Features, Geometries.
        // This function has the responsibility of handling all of them, and that
        // means that some of the `for` loops you see below actually just don't apply
        // to certain inputs. For instance, if you give this just a
        // Point geometry, then both loops are short-circuited and all we do
        // is gradually rename the input until it's called 'geometry'.
        //
        // This also aims to allocate as few resources as possible: just a
        // few numbers and booleans, rather than any temporary arrays as would
        // be required with the normalization approach.
        for (i = 0; i < stop; i++) {

            geometryMaybeCollection = (isFeatureCollection ? geojson.features[i].geometry :
                (isFeature ? geojson.geometry : geojson));
            featureProperties = (isFeatureCollection ? geojson.features[i].properties :
                (isFeature ? geojson.properties : {}));
            featureBBox = (isFeatureCollection ? geojson.features[i].bbox :
                (isFeature ? geojson.bbox : undefined));
            featureId = (isFeatureCollection ? geojson.features[i].id :
                (isFeature ? geojson.id : undefined));
            isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;
            stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;

            for (g = 0; g < stopG; g++) {
                geometry = isGeometryCollection ?
                    geometryMaybeCollection.geometries[g] : geometryMaybeCollection;

                // Handle null Geometry
                if (geometry === null) {
                    if (callback(null, featureIndex, featureProperties, featureBBox, featureId) === false) return false;
                    continue;
                }
                switch (geometry.type) {
                case 'Point':
                case 'LineString':
                case 'MultiPoint':
                case 'Polygon':
                case 'MultiLineString':
                case 'MultiPolygon': {
                    if (callback(geometry, featureIndex, featureProperties, featureBBox, featureId) === false) return false;
                    break;
                }
                case 'GeometryCollection': {
                    for (j = 0; j < geometry.geometries.length; j++) {
                        if (callback(geometry.geometries[j], featureIndex, featureProperties, featureBBox, featureId) === false) return false;
                    }
                    break;
                }
                default:
                    throw new Error('Unknown Geometry Type');
                }
            }
            // Only increase `featureIndex` per each feature
            featureIndex++;
        }
    }

    /**
     * Callback for geomReduce
     *
     * The first time the callback function is called, the values provided as arguments depend
     * on whether the reduce method has an initialValue argument.
     *
     * If an initialValue is provided to the reduce method:
     *  - The previousValue argument is initialValue.
     *  - The currentValue argument is the value of the first element present in the array.
     *
     * If an initialValue is not provided:
     *  - The previousValue argument is the value of the first element present in the array.
     *  - The currentValue argument is the value of the second element present in the array.
     *
     * @callback geomReduceCallback
     * @param {*} previousValue The accumulated value previously returned in the last invocation
     * of the callback, or initialValue, if supplied.
     * @param {Geometry} currentGeometry The current Geometry being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     * @param {Object} featureProperties The current Feature Properties being processed.
     * @param {Array<number>} featureBBox The current Feature BBox being processed.
     * @param {number|string} featureId The current Feature Id being processed.
     */

    /**
     * Reduce geometry in any GeoJSON object, similar to Array.reduce().
     *
     * @name geomReduce
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object
     * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)
     * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.
     * @returns {*} The value that results from the reduction.
     * @example
     * var features = turf.featureCollection([
     *     turf.point([26, 37], {foo: 'bar'}),
     *     turf.point([36, 53], {hello: 'world'})
     * ]);
     *
     * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {
     *   //=previousValue
     *   //=currentGeometry
     *   //=featureIndex
     *   //=featureProperties
     *   //=featureBBox
     *   //=featureId
     *   return currentGeometry
     * });
     */
    function geomReduce(geojson, callback, initialValue) {
        var previousValue = initialValue;
        geomEach(geojson, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {
            if (featureIndex === 0 && initialValue === undefined) previousValue = currentGeometry;
            else previousValue = callback(previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId);
        });
        return previousValue;
    }

    /**
     * Callback for flattenEach
     *
     * @callback flattenEachCallback
     * @param {Feature} currentFeature The current flattened feature being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.
     */

    /**
     * Iterate over flattened features in any GeoJSON object, similar to
     * Array.forEach.
     *
     * @name flattenEach
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object
     * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)
     * @example
     * var features = turf.featureCollection([
     *     turf.point([26, 37], {foo: 'bar'}),
     *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})
     * ]);
     *
     * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {
     *   //=currentFeature
     *   //=featureIndex
     *   //=multiFeatureIndex
     * });
     */
    function flattenEach(geojson, callback) {
        geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {
            // Callback for single geometry
            var type = (geometry === null) ? null : geometry.type;
            switch (type) {
            case null:
            case 'Point':
            case 'LineString':
            case 'Polygon':
                if (callback(helpers.feature(geometry, properties, {bbox: bbox, id: id}), featureIndex, 0) === false) return false;
                return;
            }

            var geomType;

            // Callback for multi-geometry
            switch (type) {
            case 'MultiPoint':
                geomType = 'Point';
                break;
            case 'MultiLineString':
                geomType = 'LineString';
                break;
            case 'MultiPolygon':
                geomType = 'Polygon';
                break;
            }

            for (var multiFeatureIndex = 0; multiFeatureIndex < geometry.coordinates.length; multiFeatureIndex++) {
                var coordinate = geometry.coordinates[multiFeatureIndex];
                var geom = {
                    type: geomType,
                    coordinates: coordinate
                };
                if (callback(helpers.feature(geom, properties), featureIndex, multiFeatureIndex) === false) return false;
            }
        });
    }

    /**
     * Callback for flattenReduce
     *
     * The first time the callback function is called, the values provided as arguments depend
     * on whether the reduce method has an initialValue argument.
     *
     * If an initialValue is provided to the reduce method:
     *  - The previousValue argument is initialValue.
     *  - The currentValue argument is the value of the first element present in the array.
     *
     * If an initialValue is not provided:
     *  - The previousValue argument is the value of the first element present in the array.
     *  - The currentValue argument is the value of the second element present in the array.
     *
     * @callback flattenReduceCallback
     * @param {*} previousValue The accumulated value previously returned in the last invocation
     * of the callback, or initialValue, if supplied.
     * @param {Feature} currentFeature The current Feature being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.
     */

    /**
     * Reduce flattened features in any GeoJSON object, similar to Array.reduce().
     *
     * @name flattenReduce
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object
     * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)
     * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.
     * @returns {*} The value that results from the reduction.
     * @example
     * var features = turf.featureCollection([
     *     turf.point([26, 37], {foo: 'bar'}),
     *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})
     * ]);
     *
     * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {
     *   //=previousValue
     *   //=currentFeature
     *   //=featureIndex
     *   //=multiFeatureIndex
     *   return currentFeature
     * });
     */
    function flattenReduce(geojson, callback, initialValue) {
        var previousValue = initialValue;
        flattenEach(geojson, function (currentFeature, featureIndex, multiFeatureIndex) {
            if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === undefined) previousValue = currentFeature;
            else previousValue = callback(previousValue, currentFeature, featureIndex, multiFeatureIndex);
        });
        return previousValue;
    }

    /**
     * Callback for segmentEach
     *
     * @callback segmentEachCallback
     * @param {Feature<LineString>} currentSegment The current Segment being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.
     * @param {number} geometryIndex The current index of the Geometry being processed.
     * @param {number} segmentIndex The current index of the Segment being processed.
     * @returns {void}
     */

    /**
     * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()
     * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.
     *
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON
     * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)
     * @returns {void}
     * @example
     * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);
     *
     * // Iterate over GeoJSON by 2-vertex segments
     * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {
     *   //=currentSegment
     *   //=featureIndex
     *   //=multiFeatureIndex
     *   //=geometryIndex
     *   //=segmentIndex
     * });
     *
     * // Calculate the total number of segments
     * var total = 0;
     * turf.segmentEach(polygon, function () {
     *     total++;
     * });
     */
    function segmentEach(geojson, callback) {
        flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {
            var segmentIndex = 0;

            // Exclude null Geometries
            if (!feature.geometry) return;
            // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.
            var type = feature.geometry.type;
            if (type === 'Point' || type === 'MultiPoint') return;

            // Generate 2-vertex line segments
            var previousCoords;
            var previousFeatureIndex = 0;
            var previousMultiIndex = 0;
            var prevGeomIndex = 0;
            if (coordEach(feature, function (currentCoord, coordIndex, featureIndexCoord, multiPartIndexCoord, geometryIndex) {
                // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`
                if (previousCoords === undefined || featureIndex > previousFeatureIndex || multiPartIndexCoord > previousMultiIndex || geometryIndex > prevGeomIndex) {
                    previousCoords = currentCoord;
                    previousFeatureIndex = featureIndex;
                    previousMultiIndex = multiPartIndexCoord;
                    prevGeomIndex = geometryIndex;
                    segmentIndex = 0;
                    return;
                }
                var currentSegment = helpers.lineString([previousCoords, currentCoord], feature.properties);
                if (callback(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) === false) return false;
                segmentIndex++;
                previousCoords = currentCoord;
            }) === false) return false;
        });
    }

    /**
     * Callback for segmentReduce
     *
     * The first time the callback function is called, the values provided as arguments depend
     * on whether the reduce method has an initialValue argument.
     *
     * If an initialValue is provided to the reduce method:
     *  - The previousValue argument is initialValue.
     *  - The currentValue argument is the value of the first element present in the array.
     *
     * If an initialValue is not provided:
     *  - The previousValue argument is the value of the first element present in the array.
     *  - The currentValue argument is the value of the second element present in the array.
     *
     * @callback segmentReduceCallback
     * @param {*} previousValue The accumulated value previously returned in the last invocation
     * of the callback, or initialValue, if supplied.
     * @param {Feature<LineString>} currentSegment The current Segment being processed.
     * @param {number} featureIndex The current index of the Feature being processed.
     * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.
     * @param {number} geometryIndex The current index of the Geometry being processed.
     * @param {number} segmentIndex The current index of the Segment being processed.
     */

    /**
     * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()
     * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.
     *
     * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON
     * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)
     * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.
     * @returns {void}
     * @example
     * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);
     *
     * // Iterate over GeoJSON by 2-vertex segments
     * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {
     *   //= previousSegment
     *   //= currentSegment
     *   //= featureIndex
     *   //= multiFeatureIndex
     *   //= geometryIndex
     *   //= segmentInex
     *   return currentSegment
     * });
     *
     * // Calculate the total number of segments
     * var initialValue = 0
     * var total = turf.segmentReduce(polygon, function (previousValue) {
     *     previousValue++;
     *     return previousValue;
     * }, initialValue);
     */
    function segmentReduce(geojson, callback, initialValue) {
        var previousValue = initialValue;
        var started = false;
        segmentEach(geojson, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {
            if (started === false && initialValue === undefined) previousValue = currentSegment;
            else previousValue = callback(previousValue, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex);
            started = true;
        });
        return previousValue;
    }

    /**
     * Callback for lineEach
     *
     * @callback lineEachCallback
     * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed
     * @param {number} featureIndex The current index of the Feature being processed
     * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed
     * @param {number} geometryIndex The current index of the Geometry being processed
     */

    /**
     * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,
     * similar to Array.forEach.
     *
     * @name lineEach
     * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object
     * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)
     * @example
     * var multiLine = turf.multiLineString([
     *   [[26, 37], [35, 45]],
     *   [[36, 53], [38, 50], [41, 55]]
     * ]);
     *
     * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {
     *   //=currentLine
     *   //=featureIndex
     *   //=multiFeatureIndex
     *   //=geometryIndex
     * });
     */
    function lineEach(geojson, callback) {
        // validation
        if (!geojson) throw new Error('geojson is required');

        flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {
            if (feature.geometry === null) return;
            var type = feature.geometry.type;
            var coords = feature.geometry.coordinates;
            switch (type) {
            case 'LineString':
                if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false) return false;
                break;
            case 'Polygon':
                for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {
                    if (callback(helpers.lineString(coords[geometryIndex], feature.properties), featureIndex, multiFeatureIndex, geometryIndex) === false) return false;
                }
                break;
            }
        });
    }

    /**
     * Callback for lineReduce
     *
     * The first time the callback function is called, the values provided as arguments depend
     * on whether the reduce method has an initialValue argument.
     *
     * If an initialValue is provided to the reduce method:
     *  - The previousValue argument is initialValue.
     *  - The currentValue argument is the value of the first element present in the array.
     *
     * If an initialValue is not provided:
     *  - The previousValue argument is the value of the first element present in the array.
     *  - The currentValue argument is the value of the second element present in the array.
     *
     * @callback lineReduceCallback
     * @param {*} previousValue The accumulated value previously returned in the last invocation
     * of the callback, or initialValue, if supplied.
     * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.
     * @param {number} featureIndex The current index of the Feature being processed
     * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed
     * @param {number} geometryIndex The current index of the Geometry being processed
     */

    /**
     * Reduce features in any GeoJSON object, similar to Array.reduce().
     *
     * @name lineReduce
     * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object
     * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)
     * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.
     * @returns {*} The value that results from the reduction.
     * @example
     * var multiPoly = turf.multiPolygon([
     *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),
     *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])
     * ]);
     *
     * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {
     *   //=previousValue
     *   //=currentLine
     *   //=featureIndex
     *   //=multiFeatureIndex
     *   //=geometryIndex
     *   return currentLine
     * });
     */
    function lineReduce(geojson, callback, initialValue) {
        var previousValue = initialValue;
        lineEach(geojson, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {
            if (featureIndex === 0 && initialValue === undefined) previousValue = currentLine;
            else previousValue = callback(previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex);
        });
        return previousValue;
    }

    /**
     * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.
     *
     * Negative indexes are permitted.
     * Point & MultiPoint will always return null.
     *
     * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry
     * @param {Object} [options={}] Optional parameters
     * @param {number} [options.featureIndex=0] Feature Index
     * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index
     * @param {number} [options.geometryIndex=0] Geometry Index
     * @param {number} [options.segmentIndex=0] Segment Index
     * @param {Object} [options.properties={}] Translate Properties to output LineString
     * @param {BBox} [options.bbox={}] Translate BBox to output LineString
     * @param {number|string} [options.id={}] Translate Id to output LineString
     * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString
     * @example
     * var multiLine = turf.multiLineString([
     *     [[10, 10], [50, 30], [30, 40]],
     *     [[-10, -10], [-50, -30], [-30, -40]]
     * ]);
     *
     * // First Segment (defaults are 0)
     * turf.findSegment(multiLine);
     * // => Feature<LineString<[[10, 10], [50, 30]]>>
     *
     * // First Segment of 2nd Multi Feature
     * turf.findSegment(multiLine, {multiFeatureIndex: 1});
     * // => Feature<LineString<[[-10, -10], [-50, -30]]>>
     *
     * // Last Segment of Last Multi Feature
     * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});
     * // => Feature<LineString<[[-50, -30], [-30, -40]]>>
     */
    function findSegment(geojson, options) {
        // Optional Parameters
        options = options || {};
        if (!helpers.isObject(options)) throw new Error('options is invalid');
        var featureIndex = options.featureIndex || 0;
        var multiFeatureIndex = options.multiFeatureIndex || 0;
        var geometryIndex = options.geometryIndex || 0;
        var segmentIndex = options.segmentIndex || 0;

        // Find FeatureIndex
        var properties = options.properties;
        var geometry;

        switch (geojson.type) {
        case 'FeatureCollection':
            if (featureIndex < 0) featureIndex = geojson.features.length + featureIndex;
            properties = properties || geojson.features[featureIndex].properties;
            geometry = geojson.features[featureIndex].geometry;
            break;
        case 'Feature':
            properties = properties || geojson.properties;
            geometry = geojson.geometry;
            break;
        case 'Point':
        case 'MultiPoint':
            return null;
        case 'LineString':
        case 'Polygon':
        case 'MultiLineString':
        case 'MultiPolygon':
            geometry = geojson;
            break;
        default:
            throw new Error('geojson is invalid');
        }

        // Find SegmentIndex
        if (geometry === null) return null;
        var coords = geometry.coordinates;
        switch (geometry.type) {
        case 'Point':
        case 'MultiPoint':
            return null;
        case 'LineString':
            if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;
            return helpers.lineString([coords[segmentIndex], coords[segmentIndex + 1]], properties, options);
        case 'Polygon':
            if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;
            if (segmentIndex < 0) segmentIndex = coords[geometryIndex].length + segmentIndex - 1;
            return helpers.lineString([coords[geometryIndex][segmentIndex], coords[geometryIndex][segmentIndex + 1]], properties, options);
        case 'MultiLineString':
            if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;
            if (segmentIndex < 0) segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;
            return helpers.lineString([coords[multiFeatureIndex][segmentIndex], coords[multiFeatureIndex][segmentIndex + 1]], properties, options);
        case 'MultiPolygon':
            if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;
            if (geometryIndex < 0) geometryIndex = coords[multiFeatureIndex].length + geometryIndex;
            if (segmentIndex < 0) segmentIndex = coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;
            return helpers.lineString([coords[multiFeatureIndex][geometryIndex][segmentIndex], coords[multiFeatureIndex][geometryIndex][segmentIndex + 1]], properties, options);
        }
        throw new Error('geojson is invalid');
    }

    /**
     * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.
     *
     * Negative indexes are permitted.
     *
     * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry
     * @param {Object} [options={}] Optional parameters
     * @param {number} [options.featureIndex=0] Feature Index
     * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index
     * @param {number} [options.geometryIndex=0] Geometry Index
     * @param {number} [options.coordIndex=0] Coord Index
     * @param {Object} [options.properties={}] Translate Properties to output Point
     * @param {BBox} [options.bbox={}] Translate BBox to output Point
     * @param {number|string} [options.id={}] Translate Id to output Point
     * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point
     * @example
     * var multiLine = turf.multiLineString([
     *     [[10, 10], [50, 30], [30, 40]],
     *     [[-10, -10], [-50, -30], [-30, -40]]
     * ]);
     *
     * // First Segment (defaults are 0)
     * turf.findPoint(multiLine);
     * // => Feature<Point<[10, 10]>>
     *
     * // First Segment of the 2nd Multi-Feature
     * turf.findPoint(multiLine, {multiFeatureIndex: 1});
     * // => Feature<Point<[-10, -10]>>
     *
     * // Last Segment of last Multi-Feature
     * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});
     * // => Feature<Point<[-30, -40]>>
     */
    function findPoint(geojson, options) {
        // Optional Parameters
        options = options || {};
        if (!helpers.isObject(options)) throw new Error('options is invalid');
        var featureIndex = options.featureIndex || 0;
        var multiFeatureIndex = options.multiFeatureIndex || 0;
        var geometryIndex = options.geometryIndex || 0;
        var coordIndex = options.coordIndex || 0;

        // Find FeatureIndex
        var properties = options.properties;
        var geometry;

        switch (geojson.type) {
        case 'FeatureCollection':
            if (featureIndex < 0) featureIndex = geojson.features.length + featureIndex;
            properties = properties || geojson.features[featureIndex].properties;
            geometry = geojson.features[featureIndex].geometry;
            break;
        case 'Feature':
            properties = properties || geojson.properties;
            geometry = geojson.geometry;
            break;
        case 'Point':
        case 'MultiPoint':
            return null;
        case 'LineString':
        case 'Polygon':
        case 'MultiLineString':
        case 'MultiPolygon':
            geometry = geojson;
            break;
        default:
            throw new Error('geojson is invalid');
        }

        // Find Coord Index
        if (geometry === null) return null;
        var coords = geometry.coordinates;
        switch (geometry.type) {
        case 'Point':
            return helpers.point(coords, properties, options);
        case 'MultiPoint':
            if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;
            return helpers.point(coords[multiFeatureIndex], properties, options);
        case 'LineString':
            if (coordIndex < 0) coordIndex = coords.length + coordIndex;
            return helpers.point(coords[coordIndex], properties, options);
        case 'Polygon':
            if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;
            if (coordIndex < 0) coordIndex = coords[geometryIndex].length + coordIndex;
            return helpers.point(coords[geometryIndex][coordIndex], properties, options);
        case 'MultiLineString':
            if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;
            if (coordIndex < 0) coordIndex = coords[multiFeatureIndex].length + coordIndex;
            return helpers.point(coords[multiFeatureIndex][coordIndex], properties, options);
        case 'MultiPolygon':
            if (multiFeatureIndex < 0) multiFeatureIndex = coords.length + multiFeatureIndex;
            if (geometryIndex < 0) geometryIndex = coords[multiFeatureIndex].length + geometryIndex;
            if (coordIndex < 0) coordIndex = coords[multiFeatureIndex][geometryIndex].length - coordIndex;
            return helpers.point(coords[multiFeatureIndex][geometryIndex][coordIndex], properties, options);
        }
        throw new Error('geojson is invalid');
    }

    exports.coordEach = coordEach;
    exports.coordReduce = coordReduce;
    exports.propEach = propEach;
    exports.propReduce = propReduce;
    exports.featureEach = featureEach;
    exports.featureReduce = featureReduce;
    exports.coordAll = coordAll;
    exports.geomEach = geomEach;
    exports.geomReduce = geomReduce;
    exports.flattenEach = flattenEach;
    exports.flattenReduce = flattenReduce;
    exports.segmentEach = segmentEach;
    exports.segmentReduce = segmentReduce;
    exports.lineEach = lineEach;
    exports.lineReduce = lineReduce;
    exports.findSegment = findSegment;
    exports.findPoint = findPoint;
    });

    var bbox_1 = createCommonjsModule(function (module, exports) {
    Object.defineProperty(exports, "__esModule", { value: true });

    /**
     * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.
     *
     * @name bbox
     * @param {GeoJSON} geojson any GeoJSON object
     * @returns {BBox} bbox extent in [minX, minY, maxX, maxY] order
     * @example
     * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);
     * var bbox = turf.bbox(line);
     * var bboxPolygon = turf.bboxPolygon(bbox);
     *
     * //addToMap
     * var addToMap = [line, bboxPolygon]
     */
    function bbox(geojson) {
        var result = [Infinity, Infinity, -Infinity, -Infinity];
        meta.coordEach(geojson, function (coord) {
            if (result[0] > coord[0]) {
                result[0] = coord[0];
            }
            if (result[1] > coord[1]) {
                result[1] = coord[1];
            }
            if (result[2] < coord[0]) {
                result[2] = coord[0];
            }
            if (result[3] < coord[1]) {
                result[3] = coord[1];
            }
        });
        return result;
    }
    exports.default = bbox;
    });

    var bbox = /*@__PURE__*/getDefaultExportFromCjs(bbox_1);

    /**
     * Helper for Geojson data
     */
    class GeoJsonHelper {
        /**
         * Extract level from feature
         *
         * @param {GeoJSONFeature} feature geojson feature
         * @returns {LevelsRange | number | null} the level or the range of level.
         */
        static extractLevelFromFeature(feature) {
            if (!!feature.properties &&
                feature.properties.level !== null) {
                const propertyLevel = feature.properties['level'];
                if (typeof propertyLevel === 'string') {
                    const splitLevel = propertyLevel.split(';');
                    if (splitLevel.length === 1) {
                        const level = parseFloat(propertyLevel);
                        if (!isNaN(level)) {
                            return level;
                        }
                    }
                    else if (splitLevel.length === 2) {
                        const level1 = parseFloat(splitLevel[0]);
                        const level2 = parseFloat(splitLevel[1]);
                        if (!isNaN(level1) && !isNaN(level2)) {
                            return {
                                min: Math.min(level1, level2),
                                max: Math.max(level1, level2)
                            };
                        }
                    }
                }
            }
            return null;
        }
        /**
         * Extract levels range and bounds from geojson
         *
         * @param {GeoJSON} geojson the geojson
         * @returns {Object} the levels range and bounds.
         */
        static extractLevelsRangeAndBounds(geojson) {
            let minLevel = Infinity;
            let maxLevel = -Infinity;
            const boundsFromTurf = bbox(geojson).slice(0, 4);
            const bounds = new mapboxgl.LngLatBounds(boundsFromTurf);
            const parseFeature = (feature) => {
                const level = this.extractLevelFromFeature(feature);
                if (level === null) {
                    return;
                }
                if (typeof level === 'number') {
                    minLevel = Math.min(minLevel, level);
                    maxLevel = Math.max(maxLevel, level);
                }
                else if (typeof level === 'object') {
                    minLevel = Math.min(minLevel, level.min);
                    maxLevel = Math.max(maxLevel, level.max);
                }
            };
            if (geojson.type === 'FeatureCollection') {
                geojson.features.forEach(parseFeature);
            }
            else if (geojson.type === 'Feature') {
                parseFeature(geojson);
            }
            if (minLevel === Infinity || maxLevel === -Infinity) {
                throw new Error('No level found');
            }
            return {
                levelsRange: { min: minLevel, max: maxLevel },
                bounds
            };
        }
    }

    class IndoorMap {
        static fromGeojson(geojson, options = {}) {
            const { bounds, levelsRange } = GeoJsonHelper.extractLevelsRangeAndBounds(geojson);
            const map = new IndoorMap();
            map.geojson = geojson;
            map.layers = options.layers ? options.layers : Style.DefaultLayers;
            map.bounds = bounds;
            map.levelsRange = levelsRange;
            map.layersToHide = options.layersToHide ? options.layersToHide : [];
            map.beforeLayerId = options.beforeLayerId;
            map.defaultLevel = options.defaultLevel ? options.defaultLevel : 0;
            map.showFeaturesWithEmptyLevel = options.showFeaturesWithEmptyLevel ? options.showFeaturesWithEmptyLevel : false;
            return map;
        }
    }

    const MIN_ZOOM_TO_DOWNLOAD = 17;
    const AREA_TO_DOWNLOAD = 1000; // in terms of distance from user
    class MapServerHandler {
        constructor(serverUrl, map, indoorMapOptions) {
            this.loadMapsPromise = Promise.resolve();
            this.loadMapsIfNecessary = async () => {
                if (this.map.getZoom() < MIN_ZOOM_TO_DOWNLOAD) {
                    return;
                }
                const viewPort = this.map.getBounds();
                if (this.downloadedBounds !== null) {
                    if (this.downloadedBounds.contains(viewPort.getNorthEast()) &&
                        this.downloadedBounds.contains(viewPort.getSouthWest())) {
                        // Maps of the viewport have already been downloaded.
                        return;
                    }
                }
                const distanceEastWest = distance(viewPort.getNorthEast(), viewPort.getNorthWest());
                const distanceNorthSouth = distance(viewPort.getNorthEast(), viewPort.getSouthEast());
                // It is not necessary to compute others as we are at zoom >= 17, the approximation is enough.
                const maxDistanceOnScreen = Math.max(distanceEastWest, distanceNorthSouth);
                const bestSizeOfAreaToDownload = Math.max(AREA_TO_DOWNLOAD, maxDistanceOnScreen * 2);
                const center = this.map.getCenter();
                const dist = bestSizeOfAreaToDownload * Math.sqrt(2);
                const northEast = destinationPoint(center, dist, Math.PI / 4);
                const southWest = destinationPoint(center, dist, -3 * Math.PI / 4);
                const boundsToDownload = new mapboxgl.LngLatBounds(southWest, northEast);
                // TODO: I put this here because fetch is async and takes more time than the next call to loadMapsIfNecessary.
                this.downloadedBounds = boundsToDownload;
                await this.loadMapsPromise;
                this.loadMapsPromise = this.loadMapsInBounds(boundsToDownload);
            };
            this.loadMapsInBounds = async (bounds) => {
                const url = this.serverUrl + `/maps-in-bounds/${bounds.getWest()},${bounds.getSouth()},${bounds.getEast()},${bounds.getNorth()}`;
                const maps = await (await fetch(url)).json();
                const mapsToRemove = this.remoteMapsDownloaded.reduce((acc, map) => {
                    if (!maps.find(_map => _map.path === map.path)) {
                        acc.push(map);
                    }
                    return acc;
                }, []);
                const mapsToAdd = maps.reduce((acc, map) => {
                    if (!this.remoteMapsDownloaded.find(_map => _map.path === map.path)) {
                        acc.push(map);
                    }
                    return acc;
                }, []);
                mapsToAdd.forEach(this.addCustomMap);
                mapsToRemove.forEach(this.removeCustomMap);
            };
            this.addCustomMap = async (map) => {
                const geojson = await (await fetch(this.serverUrl + map.path)).json();
                map.indoorMap = IndoorMap.fromGeojson(geojson, this.indoorMapOptions);
                this.map.indoor.addMap(map.indoorMap);
                this.remoteMapsDownloaded.push(map);
            };
            this.removeCustomMap = async (map) => {
                this.map.indoor.removeMap(map.indoorMap);
                this.remoteMapsDownloaded.splice(this.remoteMapsDownloaded.indexOf(map), 1);
            };
            this.serverUrl = serverUrl;
            this.map = map;
            this.indoorMapOptions = indoorMapOptions;
            this.remoteMapsDownloaded = [];
            this.downloadedBounds = null;
            if (map.loaded) {
                this.loadMapsIfNecessary();
            }
            else {
                map.on('load', () => this.loadMapsIfNecessary());
            }
            map.on('move', () => this.loadMapsIfNecessary());
        }
        static manage(server, map, indoorMapOptions) {
            return new MapServerHandler(server, map, indoorMapOptions);
        }
    }

    Object.defineProperty(mapboxgl__default['default'].Map.prototype, 'indoor', {
        get: function () {
            if (!this._indoor) {
                this._indoor = new Indoor(this);
            }
            return this._indoor;
        }
    });

    exports.DefaultStyle = Style;
    exports.IndoorMap = IndoorMap;
    exports.MapServerHandler = MapServerHandler;

    Object.defineProperty(exports, '__esModule', { value: true });

})));
    
    
    
    
    
</script>

















    



    
    
    
    
    
    
    
 <style>   
    
    .marker {
  background-image: url('https://www.mapbox.com/help/demos/custom-markers-gl-js/mapbox-icon.png');
  background-size: cover;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  cursor: pointer;

}


  


.marker:hover,.marker.active{

}

.mapboxgl-popup {
  max-width: 250px;
}

.mapboxgl-popup-content {
  text-align: center;
  font-family: 'Montserrat', montserrat;
}



.mapboxgl-ctrl-map {
    background-image: url(https://www.emiia.ai/icon/e.svg);
    background-size: 28px 28px !important;
    background-position: 8.7px 8.2px !important;
    background-repeat: no-repeat !important;
}



.mapboxgl-ctrl-markers {
    background-image: url(https://www.emiia.ai/icon/e.svg);
    background-size: 28px 28px !important;
    background-position: 8.7px 8.2px !important;
    background-repeat: no-repeat !important;
}








.mapboxgl-ctrl.markers input{
  padding: 5px;
}




::-webkit-scrollbar {
    width: 5px;
    background-color: white;
    max-height: 0vh;
}





.mapboxgl-ctrl-group button {
    width: 44px;
    height: 44px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: transparent;
    cursor: pointer;
    font: 13px/20px Montserrat, montserrat;
    color: #383838;
}


.mapboxgl-ctrl-group {
    border-radius: 12px;
    background: #fff;
}


.mapboxgl-ctrl-group {
    box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
}




a.mapboxgl-ctrl-logo{
    width: 0;
    height: 0;
    margin: 0 0 -4px-4px;
    display: block;
    background-repeat: no-repeat;
    cursor: pointer;
    overflow: hidden;
    background-image: url(data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='0.9' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E);
}




.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl {
    margin: 10px 14px 25px 14px;
    float: right;
}










.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl {
    margin: -10px -10px 10px 10px;
    float: left;
}


    
 </style>    
    
    





    





<script>   
     
 /**
         * Indoor specific
         */

        // Where the indoor layers will be inserted.
        // Here, 'housenum-label' comes from streets-v10

 
    
          var beforeLayerId = 'building-number-label';

    // To avoid unwanted overlap from streets-v10 layers, some layers are hidden when an indoor map is shown
        const layersToHide = ['poi-scalerank4-l15', 'poi-scalerank4-l1', 'poi-scalerank3', 'road-label-small'];




         var customData;

        // Retrieve the geojson from the path and add the map
        fetch('https://www.emiia.ai/json/ofisgeojson29.geojson')
            .then(res => res.json())
            .then(geojson => {
                map.indoor.addMap(mapgl_indoor.IndoorMap.fromGeojson(geojson, { beforeLayerId, layersToHide }));
                customData = geojson;
            });

                



 
 
  </script> 






 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">






    
        <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>  
    
    
    
    
    
    
    
    
    





<link rel='stylesheet' href='https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css'>







<style>



@import url('https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');


@import url('https://www.emiia.ru/css.css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');
 
@import url('/css.css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');




body {

    
 
   

    line-height: 5.42857143;
    color: #333;
    background-color: #fff;
    





}



a , a:focus {
    color: #383838;
    text-decoration: none;
    
    
    line-height: 1.9em;     
    
    



    
}
a{
  dispaly:block;
  width:100%;
  height:25px;
  



}
a:hover {
    color: #2A6496;
    text-decoration: none;
  background-color:#eee;
 
  
}
.accordion12{
  position:relative;
  hight:30px;
  
    line-height: 1.9em;  

  
}

.list{
  padding-left:19px;
  background-color: #f8f9fa;
  list-style:none;
  

  
}
.list-item{
  display:block;
  padding-top: 3px;
  
  
 
  
}
.hight{
  padding-left:20px;
  hight:30px;

  
}

i { position:absolute;
  right: 10px;
  
 
  
  top:4px;
    -webkit-transition:all 300ms ease-in 0s;
    -moz-transition: all 300ms ease-in 0s;
    -o-transition: all 300ms ease-in 0s;
  transition: all 300ms ease-in 0s;}


.oppened i {
    
    -webkit-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
    transform: rotate(180deg);
    
   
}

.dropdown-menu > li > a:hover {
    background-color: #fff;
    background-image: none;
    color: #2A6496;

    
}









.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    z-index: 1000;
    display: none;
    float: left;
    min-width: 307.5px;
    max-width: 307.5px;
    padding: 0px 3px 0px 3px;
    margin: 3.8px 0 0;
    font-size: 17px;
    text-align: left;
    list-style: none;
    background-color: white;
    -webkit-background-clip: padding-box;
    background-clip: padding-box;
    border: 0px solid #ccc;
    border: 0px solid rgba(0,0,0,.15);
    border-radius: 4px;
    -webkit-box-shadow: 0 6px 12px rgba(0,0,0,.175);
    box-shadow: 0 6px 12px rgba(0,0,0,.175);
       
    
    border-radius: 12px 12px 12px 12px;
    box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
    
    
    cursor: pointer;
    

    font-family: 14px/19px Montserrat, montserrat !important;
    font:16px/20px 'Montserrat', montserrat !important; 
    
    

}
    
    
    









</style>


















<style>



.btn {
    
 
    width: 44px;
    height: 44px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: white;
    cursor: pointer;
    color: red;
    
    
    font-family: 12px/20px Montserrat, montserrat;
    font:12px/20px 'Montserrat', montserrat;
    


    
    background-image: url(https://www.emiia.ai/icon/e.svg);
    background-size: 28px 28px !important;
    background-position: 8.7px 8.2px !important;
    background-repeat: no-repeat !important;
    
    border-radius: 12px 12px 12px 12px;
    box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
    

    
}









.btn:focus,.btn:active:focus,.btn.active:focus,
.btn.focus,.btn:active.focus,.btn.active.focus {
    outline:  none;
    
  
         background-color:#eee;  

 } 
 
 
 
 



.small:focus,.small:active:focus,.small.active:focus,
.small.focus,.small:active.focus,.small.active.focus {
 outline: none;
 
  text-decoration: none;
    
background-color:#eee;
 } 



.mapboxgl-popup a {
    color: #3D85C6;
    text-decoration: none;
    
outline: none;

}




.mapboxgl-popup-content {
    position: relative;
    background: white;
    border-radius: 3px;
    box-shadow: 0 1px 2px rgb(0 0 0/10%);
    padding: 10px 10px 15px;
    pointer-events: auto;
    
   max-width: 330px;
   
   
    font-family: 12px/20px Montserrat, montserrat;
  font:12px/20px 'Montserrat', montserrat;

    
}











a {
    dispaly: block;
    width: 100%;
    height: 25px;
    

    
    
}


a, a:focus {
    color: #337ab7;
    text-decoration: none;
    
   
}
a {
    color: #337ab7;
    text-decoration: none;
    
    

    
    
}



.dropdown-menu {


max-height: 540px;

height: 540px;

overflow-y: auto;

background-color: white;


min-width: 304.0px;
max-width: 304.0px;




}




::-webkit-scrollbar {
    width: 0.1px;
    background-color: red;

    

    
}










.sticky {
    position: sticky;
    top: 0;
    
    z-index: 210000;
    
    

    

    

     background-color: white;
    
    border-top:20px solid white;
    
    border-bottom:0px solid white;
    
     
 

     
  

}









.sticky::before {
    position: absolute;
    top: -2.9ex;
    left: -1.0ex;

    
    

   background-color: white;
    cursor: pointer;
    font-weight: 580;
    content: "";
    
    z-index: -1;


 

    
    width: 60px;
    height: 52px;
    
    
border-radius: 0px 3px 3px 3px;




    
}















i {
    position: absolute;
    right: 14px;
    top: 4px;
    -webkit-transition: all 300ms ease-in 0s;
    -moz-transition: all 300ms ease-in 0s;
    -o-transition: all 300ms ease-in 0s;
    transition: all 300ms ease-in 0s;
}



 
        







hr {
display: block;
   

    margin-top: 0.9em;
    
    
     z-index: 230000;
    
    
    margin-bottom: 0.5em;
    margin-left: auto;
    margin-right: auto;
    border-style: inset;
    border-width: 1px;
    
    
    box-shadow: 0px 0px 10px 2px rgba(0, 0, 0, 0.1) !important;
    
    
    
    border-color: transparent;
    
}








 button#replay {
    margin: -15px;
  
}










#button777 {
    width: 44px;
    height: 44px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: white;
    cursor: pointer;
    font: 13px/20px Montserrat, montserrat;
    color: #383838;
    border-radius: 12px;
    
    
   border-bottom:0px 0px 1px 2px rgba(0, 0, 0, 0.1) !important;
   box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
   
   
   
   background-image: url(https://www.emiia.ai/icon/menu/mrv1.svg);
   
    
    background-size: 20px 20px !important;
    background-position: 11px 13px !important;
    
    
    
    
    background-repeat: no-repeat !important;
    
    
    
   position: fixed; top: 4.7em; right: 1.1em; z-index: +20000;
    
    
    
    
}














#button779 {
    width: 44px;
    height: 44px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: white;
    cursor: pointer;
    font: 13px/20px Montserrat, montserrat;
    color: #383838;
    border-radius: 12px;
    
    
   border-bottom:0px 0px 1px 2px rgba(0, 0, 0, 0.1) !important;
   box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
   
   

    
    
     background-image: url(https://www.emiia.ai/icon/menu/rdr.svg);
   
    
    
     background-size: 23px 23px !important;
    background-position: 10px 10px !important;
    background-repeat: no-repeat !important;
    
    
    
   
    position: fixed; top: 8.3em; right: 1.1em; z-index: +20000;
    
    
    
}











#button778 {
    width: 44px;
    height: 44px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: white;
    cursor: pointer;
    font: 13px/20px Montserrat, montserrat;
    color: #383838;
    border-radius: 12px;
    
    
   border-bottom:0px 0px 1px 2px rgba(0, 0, 0, 0.1) !important;
   box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
   
   
   
   

   
       background-image: url(https://www.emiia.ai/icon/menu/cam.svg);
       
        background-size: 20px 20px !important;
    background-position: 11px 10px !important;
    background-repeat: no-repeat !important;
       
   
    
    
    
    position: fixed; top: 11.9em; right: 1.1em; z-index: +20000;
   
   

    
    
    
  
   
    
    
    
    
}



















#button780 {
    width: 44px;
    height: 44px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: white;
    cursor: pointer;
    font: 13px/20px Montserrat, montserrat;
    color: #383838;
    border-radius: 12px;
    
    
   border-bottom:0px 0px 1px 2px rgba(0, 0, 0, 0.1) !important;
   box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
   
    
    background-image: url(https://www.emiia.ai/icon/menu/ar.svg);
    background-size: 24px 24px !important;
    background-position: 9px 10px !important;
    background-repeat: no-repeat !important;   
   position: fixed; top: 15.5em; right: 1.1em; z-index: +20000;
    
    
    
    
}








#button781 {
    width: 44px;
    height: 44px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: white;
    cursor: pointer;
    font: 13px/20px Montserrat, montserrat;
    color: #383838;
    border-radius: 12px;
    
    
   border-bottom:0px 0px 1px 2px rgba(0, 0, 0, 0.1) !important;
   box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
   
    
    background-image: url(https://www.emiia.ai/icon/menu/vr.svg);
    background-size: 24px 24px !important;
    background-position: 9px 10px !important;
    background-repeat: no-repeat !important;
    
    
    
   position: fixed; top: 19.1em; right: 1.1em; z-index: +20000;
    
    
    
    
}








.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon {
    background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0i0YDQtdC30LXRgNCyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOSIgaGVpZ2h0PSIyOSIgdmlld0JveD0iMCAwIDI5IDI5Ij4NCiAgPHRpdGxlPjEzPC90aXRsZT4NCiAgPGNpcmNsZSBjeD0iMTQuNzEiIGN5PSIxNC41MiIgcj0iMi43NyIgc3R5bGU9ImZpbGw6ICMzMzMiLz4NCiAgPGNpcmNsZSBjeD0iMTQuNzEiIGN5PSIxNC41MiIgcj0iMi43NyIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCiAgPHBhdGggZD0iTTIxLjU4LDEzLjY0SDE5LjY1YS4zLjMsMCwwLDEtLjI5LS4yMyw0LjgsNC44LDAsMCwwLTMuNTUtMy41NC4zLjMsMCwwLDEtLjIzLS4yOVY3LjY2YS4zMS4zMSwwLDAsMSwuMzItLjNoMGE3LjI2LDcuMjYsMCwwLDEsNiw1Ljk0LjMxLjMxLDAsMCwxLS4yOC4zNFoiIHN0eWxlPSJmaWxsOiAjNmI2YjY5Ii8+DQogIDxwYXRoIGQ9Ik0yNS4yOCwxMy42NGgtMS45YS4yOS4yOSwwLDAsMS0uMjktLjI2LDguNDYsOC40NiwwLDAsMC03LjI1LTcuMjQuMjkuMjksMCwwLDEtLjI2LS4yOVY0YS4zMS4zMSwwLDAsMSwuMzItLjNoMGExMSwxMSwwLDAsMSw5LjY3LDkuNjYuMzEuMzEsMCwwLDEtLjI5LjMzWiIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCiAgPHBhdGggZD0iTTIxLjg4LDE1Ljd2MGE3LjI5LDcuMjksMCwwLDEtNS42Nyw1Ljkxdi4xM2ExLjM3LDEuMzcsMCwwLDEtLjIxLjc1LDEuNSwxLjUsMCwwLDEtMi43OS0uNzV2LS4xNkE3LjI0LDcuMjQsMCwwLDEsNy42NCwxNmgtLjJhMS40NCwxLjQ0LDAsMCwxLS44Mi0uMjUsMS40OSwxLjQ5LDAsMCwxLDAtMi40OEExLjQ2LDEuNDYsMCwwLDEsNy40NCwxM0g3LjZhNy4yNCw3LjI0LDAsMCwxLDUuODktNS42Ni4zMS4zMSwwLDAsMSwuMzUuMjZ2MmEuMy4zLDAsMCwxLS4yMy4yOEE0LjczLDQuNzMsMCwwLDAsMTAuMTgsMTNhMS44MywxLjgzLDAsMCwwLS4wOC4yNSw0LjcsNC43LDAsMCwwLS4xNywxLjI0LDQuNTEsNC41MSwwLDAsMCwuMTgsMS4yNiwyLjQxLDIuNDEsMCwwLDAsLjA4LjI1QTQuODEsNC44MSwwLDAsMCwxNiwxOS4wOWwuMjEtLjA3YTQuNzYsNC43NiwwLDAsMCwzLjE1LTMuNDEuMjguMjgsMCwwLDEsLjI4LS4yM2gxLjk0QS4zLjMsMCwwLDEsMjEuODgsMTUuN1oiIHN0eWxlPSJmaWxsOiAjNmI2YjY5Ii8+DQo8L3N2Zz4NCg==);
    background-size: 27px 27px !important;
    background-repeat: no-repeat !important;
    background-position: 8px 9.5px !important;
}
.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon {
    background-image: url(data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E);
}






.mapboxgl-ctrl-top-right .mapboxgl-ctrl {
    margin: 14.9px 14px -10.6px 0px !important;
}




.mapboxgl-ctrl-map {
    background-image: url(https://www.emiia.ai/icon/h1.svg);
    background-size: 28px 28px !important;
    background-position: 7.7px 8.2px !important;
    background-repeat: no-repeat !important;
}




.mapboxgl-ctrl-markers {
    background-image: url(https://www.emiia.ai/icon/h.svg);
    background-size: 28px 28px !important;
    background-position: 7.7px 8.2px !important;
    background-repeat: no-repeat !important;
}




.mapboxgl-ctrl-bottom-left {
    /* position: fixed; */
    top: 11.25ex;
    left: 0;
    z-index: 200000;
}







.coordinates {
background: rgba(0, 0, 0, 0.5);
color: #fff;
position: absolute;
bottom: 40px;
left: 10px;
padding: 5px 10px;
margin: 0;
font-size: 11px;
line-height: 18px;
border-radius: 3px;
display: none;





</style>






    
    
    
    
    
    
    
    
    
    
    
    
    
    
<style>

#map canvas {
cursor: crosshair;
}


</style>    
    
    
    
    
    
    
    
    
    
          
    
  
  
  
  <script>
!function e(t,o,r){function i(s,a){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(n)return n(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){var o=t[s][1][e];return i(o||e)},c,c.exports,e,t,o,r)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,o){function r(e,t){if(!(this instanceof r))throw new Error("MapboxMarkers needs to be called with the new keyword");this.URLSearchParams=new URLSearchParams(new URL(window.location).search),this._sourceName="markerspec",this._geojson=e,this._rendered=!1,this.options=Object.assign({enabled:this.URLSearchParams.get("enabled")||!0,showControl:this.URLSearchParams.get("show-control")||!0,marker:{image:""},popup:{description:"<i></i>"},style:{label:"{name}",labelSize:10,color:this.URLSearchParams.get("style-color")||"transporent",size:2,opacity:1,icon:"marker",layers:null}},t),this.toggle=this.toggle.bind(this),this.render=this.render.bind(this),this._toggleLayers=this._toggleLayers.bind(this),this._updateMap=this._updateMap.bind(this),this._toggle=new i({show:this.options.showControl,onToggle:this.toggle.bind(this)})}function i(e){var t,o;e=Object.assign({show:!0,onToggle:function(){}},e),this._btn=((t=document.createElement("button")).className="mapboxgl-ctrl-icon mapboxgl-ctrl-markers",t.type="button",t["aria-label"]="Inspect",t),this._btn.onclick=e.onToggle,this._input=((o=document.createElement("input")).id="marker-search",o.type="text",o.placeholder="Marker Search",o.style.display="none",o),this.elem=function(e,t,o){var r=document.createElement("div");return r.className="mapboxgl-ctrl mapboxgl-ctrl-group markerspec",r.appendChild(e),o||(r.style.display="none"),r}(this._btn,this._input,e.show)}r.prototype.onAdd=function(e){return this._map=e,e.on("load",this.render),e.on("moveend",this._updateMap),this._toggle.elem},r.prototype.onRemove=function(){this._map.off("load",this.render);var e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0},r.prototype.toggle=function(){this.options.enabled=!this.options.enabled,this.render()},r.prototype.render=function(){if(!this._rendered){var e=this;if(this.URLSearchParams.get("data")){var t=new XMLHttpRequest;t.onreadystatechange=function(){t.readyState==XMLHttpRequest.DONE&&(e._geojson=JSON.parse(t.responseText),o())},t.open("GET",this.URLSearchParams.get("data"),!0),t.send(null)}else o();function o(){e._geojson.features.forEach(function(t){if("Point"==t.geometry.type){var o=document.createElement("div");o.className="markerspec marker",o.style=`background-image:url('${t.properties["marker-image"]||e.options.marker.image}')`,o.onclick=function(e){map.flyTo({center:t.geometry.coordinates})};var r=(void 0!==t.properties.title?`<h3>${t.properties.title}</h3>`:"")+(void 0!==t.properties.image?`<img src='${t.properties.image}' width=200 alt='${t.properties.title}'>`:"")+(void 0!==t.properties.description?`<p>${t.properties.description}</p>`:`<p>${e.options.popup.description}</p>`)+(void 0!==t.properties.website?`<a href='${t.properties.website}' target='_blank' class='button'>Website</a>`:`<a href='https://www.openstreetmap.org/?mlat=${t.geometry.coordinates[1]}&mlon=${t.geometry.coordinates[0]}' target='_blank' class='button'></a>`);


new mapboxgl.Marker(o).setLngLat(t.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:25}).setHTML(r)).addTo(map)}}),e._map.addSource("markerspec",{type:"geojson",data:e._geojson});var t,o,r=e._map.getStyle().layers.filter(function(e){return"road"===e["source-layer"]}),i=r[r.length-1].id;e.options.style.layers||(e.options.style.layers=(t=e._sourceName,o=e.options.style,[{id:`${t} fill`,type:"fill",source:`${t}`,paint:{"fill-color":o.color,"fill-opacity":o.opacity},filter:["==","$type","Polygon"]},{id:`${t} line`,type:"line",source:`${t}`,paint:{"line-color":o.color,"line-width":o.size,"line-opacity":o.opacity}},{id:`${t} circle`,type:"circle",source:`${t}`,paint:{"circle-color":o.color,"circle-radius":o.size,"circle-opacity":o.opacity}},{id:`${t} symbol`,type:"symbol",source:`${t}`,

layout:{"text-field":o.label,"text-size":o.labelSize,"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-anchor":"top","icon-image":"{icon}-15","icon-allow-overlap":!0}}]));var n=function(e,t,o){for(var r=0;r<e.layers.length;r++){var i=e.layers[r];if(o===i.id){var n=e.layers.slice(0,r).concat(t).concat(e.layers.slice(r));return Object.assign({},e,{layers:n})}}return e}(e._map.getStyle(),e.options.style.layers,i);e._map.setStyle(n),e._toggle._input.onkeypress=(t=>{if("Enter"===t.key)return e.options.query=e._toggle._input.value,e._updateMap(),!0})}this._rendered=!0}this.options.enabled?(this._toggleLayers(),this._toggle.setMapIcon()):(this._toggleLayers(),this._toggle.setPluginIcon())},r.prototype._updateMap=function(){this.options.enabled&&this.options._geojson&&console.log("Nothing to update")},i.prototype.setPluginIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-markers"},i.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"},r.prototype._toggleLayers=function(){var e=this.options.enabled;Array.from(document.getElementsByClassName("markerspec marker")).forEach(function(t){t.style.display=e?"inline":"none"});var t=new RegExp(this._sourceName),o=this._map.getStyle();o.layers.forEach(function(o){t.test(o.source)&&(o.layout=o.layout||{},o.layout.visibility=e?"visible":"none")}),this._map.setStyle(o),this._toggle._input.style.display=e?"inline":"none"},void 0!==t&&void 0!==t.exports?window.MapboxMarkers=r:t.exports=r},{}]},{},[1]); 




</script>
  
  




<script>

var exampleGeojson = {
  "type": "FeatureCollection",
  "features": [

   
   
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "small",
        "marker-symbol": "",
        "title": "No Style",
                
                "maxzoom": 10,
                "minzoom": 20
                
        
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
         37.173945684286,
          55.97705374444533
        ]
      }
      
       
      
    },
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-1.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17402267754301,55.97734208685483
        ]
        }

        },
        
        
        
        
      
        
        
        
        
        
        
        
        
        

        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-2.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174031569343356,55.97740876134685
        ]
        }

        },
        
        
        
        
        
      
      
      
              {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-3.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17404794726758,55.977454565337325
        ]
        }

        },
      
      
      
      
      
      
      
      
      
      
      
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-5.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17411452031047,55.97744897092298
        ]
        }

        },
      
      
      
      
        
    
    
    
    
    
    
    
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-6.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174177753615595,55.97743693054554
        ]
        }

        },
        
        
        
        
        
        
        
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/k-3.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17402875158575,55.97710596809998
        ]
        }

        },
        
        
        
        
    
    
    
    
    
    
    
    
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/k-4.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17402127300704,55.97738253515081
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-17.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17399981915969,55.97727658620613
        ]
        }

        },
        
        
        
        
        
        
                {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-7.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174151814772245,55.977405256853444
        ]
        }

        },
    
    
    
    
    
    
    
     
     
     
     
     
                     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-8.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17414278443073,55.97737218650559
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
    
    
    
    
                        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-9.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17413172686224,55.977330833110955
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
                            {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-10.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17411937320139,55.97728516961206
        ]
        }

        },
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-11.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17409643805479,55.97722017333308
        ]
        }

        },
        
        
        
        
        
        
        
         {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-12.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17407892718086,55.97715622404155
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
             {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-13.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17404257530973,55.9770359496456
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-14.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17394447947481,55.977044959494606
        ]
        }

        },
    
    
    
        
        
        
        
        
        
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-15.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17395275886895,55.977144055712756
        ]
        }

        },
       
        
        
        
        
        
        
        
        
        
             {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-16.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.1739751767891,55.97720024823093
        ]
        }

        },
        
        
        
        
        
        
        
        
        
        
        
        
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/toilet.svg",
        "title": "k3",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.1739214358588,55.97707402527169
        ]
        }

        },
        
        
        
        
        
   
   
   
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/toilet.svg",
        "title": "k4",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17400813814049,55.97735932135288
        ]
        }

        },
   
   
   
   
   
   
        

      



    
    
    
    
       
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "small",
        "marker-symbol": "",
        "title": "No Style",
                
           
                
        
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
         37.173945684286,
          55.97705374444533
        ]
      }
    },
    

    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/pg.svg",
        "title": "Rocket launching spot",
                
             
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17424921895804,55.97719261466261
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "small",
        "marker-symbol": "",
        "title": "No Style",
                
                "maxzoom": 10,
                "minzoom": 20
                
        
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
         37.173945684286,
          55.97705374444533
        ]
      }
    },
    

    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/ogne.svg",
        "title": "Огнетушитель К 3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17393733513461,55.97710711689581
        ]
        }

        },
    
    
    
    
    
    
    
    
    
   
   
   
   
   
   
         
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "small",
        "marker-symbol": "",
        "title": "No Style",
                
                "maxzoom": 10,
                "minzoom": 20
                
        
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
         37.173945684286,
          55.97705374444533
        ]
      }
    },
    

    
     
    
   
   {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/buttonfare.svg",
        "title": "Пожарная кнопка К 4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17406104519546,55.977392413504845
        ]
        }

        },

   
   
   
   
   
   
   
    
         {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/wave.svg",
        "title": "Пожарный (динамик) k4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17406246231633,55.97732800487847
        ]
        }

        },
    
    
    
    
      {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/wave.svg",
        "title": "Пожарный (динамик) k3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174080425032344,55.977127459597
        ]
        }

        },
    
    
    
   
   
   
   
   
   
   
   
   
            {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/7.svg",
        "title": "Пожарный шланг k4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174035451098916,55.977391709643825
        ]
        }

        },
        
        
        
        
        
        
         {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/7.svg",
        "title": "Пожарный шланг k3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17392887258575,55.97710888001177
        ]
        }

        },
   
   
   
   
   
   
   
   
   {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/5.svg",
        "title": "Разметка для пожарного автомобиля",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174254305715294,55.97721001931154
        ]
        }

        },
    
    

    
    
    
    
    
         {
      "type": "Feature",

      
      
      
      
      
      
       "properties": {
        
        
      "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/8.svg",
        "title": "Аптечка",
      },
      
      


      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17421449624442,55.97755720758096
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/9.svg",
        "title": "Бомбоубежище",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174230412299494,55.97756259720268
        ]
        }

        },
    
    
    
    
    
  
  
  
  
  
  
  
  
   
   {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/4.svg",
        "title": "Эвакуационный выход K4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17405080041851,55.97737075851455
        ]
        }

        },
        
        
        
        
        
        
        
        
        
        
        
        
               {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/buttonfare.svg",
        "title": "Пожарная кнопка К 3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
        
  37.17395096420728,55.97710842126787
        

        ]
        }

        }, 
        
        
        
        
        
        
        
        
        
        
       
       
       
       
       
       
  
       {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/ogne.svg",
        "title": "Огнетушитель К 4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17404417839646,55.977389404085784
        ]
        }

        }, 
       
        
        
        
        
        

  
  
         
  
  
    
    
    
    
    
    

  
    
    
  
       
        
        
        
        
        
        
        
        
        
        
         {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/4.svg",
        "title": "Эвакуационный выход К 3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.173957846693156,55.977086982526544
        ]
        }

        },
        
        
        
        
        
        
        
        
       
        
        
        
        
        

  
  
          {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/10.svg",
        
        "title": "Информаци к3",

      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17396370884546,55.977124297752994
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/10.svg",
        
        "title": "Информаци к4",

      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17408230964088,55.97738738250871
        ]
        }

        },
    
    
    
   

    
    
    
    
    
   
  ]
};











</script> 
    
    

    
    
    
    
    
    
    
    
    
    
    
    <style>
#marker {
background-image: url('https://analytics.emiia.ai/svg/pinnewwhite.svg');
background-size: cover;
width: 110px;  height: 48px;
border-radius: 0%;
cursor: pointer;

}
 
.mapboxgl-popup {
max-width: 200px;
}






.ele-info {
          position: absolute;
   
background: rgba(0, 0, 0, 0.5);
color: #fff;
bottom: 67px;
left: 11px;
padding: 5px 10px;
margin: 0;
font-size: 11px;
line-height: 18px;
border-radius: 12px;


 font-family: 'Montserrat', montserrat !important; 

      }


#map canvas {
cursor: crosshair;
}




.mapboxgl-canvas-container {
  cursor: url(https://www.emiia.ai/icon/cursor1.svg), auto !important;}


</style>
    
    
    
    
    
    
    
    

    
    
    
    
    
    
</head>

































<body>







    <div id="map"></div>
    
    
    

    

<button id="replay" ></button>














<div class="ele-info">
    
    <div>Lng:&nbsp;<span id="lng"></span> Lat:&nbsp;<span id="lat"></span></div>
      
       

      <div>Alt:&nbsp;<span id="ele"></span> Ml: id: #32345676 @34567 [Auto]&nbsp;</div>
      







<a href="https://www.emiia.ru/relise/ipssdk.html" title="IPS"><li id="button777" class="button777"></li></a>







<a href="https://www.emiia.ru/relise/rdrsdk.html" title="RDR"><li id="button779" class="button779"></li></a>




<a href="https://www.emiia.ru/relise/vcasdk.html" title="VCA"><li id="button778" class="button778"></li></a>



<a href="https://www.emiia.ru/relise/vrsdk.html" title="AR"><li id="button780" class="button780"></li></a>


<a href="https://www.emiia.ru/relise/arrsdk.html" title="VR"><li id="button781" class="button781"></li></a>
















 







<span>
<div class="dropdown dropdown-accordion" class="btn btn-outline-primary btn-lg btn-iconed btn-rounded" data-accordion=".accordion12" id="parent" style="position: fixed; top: 0.95em; left: 0.7em; z-index: +200000;" >
  <button  class="btn btn-light dropdown-toggle" class="btn btn-primary"  type="button" data-toggle="dropdown" ></button>
  
  
<ul class="dropdown-menu" role="menu"  >
  
  

   
  <li1 class="sticky" ><a href="https://www.emiia.ru/relise/mrv.html">
 

 <span> 
  

  <img src="https://www.emiia.ai/icon/menu/globe.svg" style="float:none; margin: -5px 0px 10px 6.4px;" title="GIS">
  


</span></a></li1>













 <li1 class="sticky" ><a href="https://www.emiia.ru/relise/bim.html" >
 
 
 <span> 
  


  <img src="https://www.emiia.ai/icon/menu/build.svg" style="float:none; margin: -5px 0px 11px 14px;" title="BIM">
  


</span></a></li1>










<li1 class="sticky" ><a href="https://www.emiia.ru/relise/edm.html" >
 
 
 <span> 
  


  <img src="https://www.emiia.ai/icon/menu/edm.svg" style="float:none; margin: -5px 0px 11px 14px;" title="EDM">
  


</span></a></li1>







 




<li1 class="sticky" ><a href="https://www.emiia.ru/ifc/18.html">
 
 
 <span> 
  


  <img src="https://www.emiia.ai/icon/menu/calendar.svg" style="float:none; margin: -6px 0px 11px 14px;" title="Tracker">
  


</span></a></li1>











<li1 class="sticky" ><a href="https://www.emiia.ru/relise/aai.html">
 
 
 <span> 
  


  <img src="https://www.emiia.ai/icon/menu/litics.svg" style="float:none; margin: -6px 0px 11px 14px;" title="AAI">
  


</span></a></li1>











<li1 class="sticky" ><a href="https://www.emiia.ru/ifc/18.html" >
 
 
 <span> 
  


  <img src="https://www.emiia.ai/icon/menu/cloud1.svg" style="float:none; margin: -5px 5px 11px 15px;" title="EMIIA.AI CLOUD ML PLATFORM">
  


</span></a></li1>














<li1 class="sticky" ><a href="https://t.me/EMIIAAIBOT">
 
 
 <span> 
  


  <img src="https://www.emiia.ai/icon/menu/bot.svg" style="float:none; margin: -5px 0px 11px 11px;" title="BOT">
  


</span></a></li1>














 
<hr>

















  
  
    <li>
										<div class="accordion12" id="accordion1"  style="vertical-align: middle" style="vertical-align: baseline">
                      <a href="#collapseOne" data-toggle="collapse" data-parent="#parent" >
											<div class="hight"> <span 
  style="vertical-align: -4.5px"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-broadcast" viewBox="0 0 16 16">
  <path d="M3.05 3.05a7 7 0 0 0 0 9.9.5.5 0 0 1-.707.707 8 8 0 0 1 0-11.314.5.5 0 0 1 .707.707zm2.122 2.122a4 4 0 0 0 0 5.656.5.5 0 1 1-.708.708 5 5 0 0 1 0-7.072.5.5 0 0 1 .708.708zm5.656-.708a.5.5 0 0 1 .708 0 5 5 0 0 1 0 7.072.5.5 0 1 1-.708-.708 4 4 0 0 0 0-5.656.5.5 0 0 1 0-.708zm2.122-2.12a.5.5 0 0 1 .707 0 8 8 0 0 1 0 11.313.5.5 0 0 1-.707-.707 7 7 0 0 0 0-9.9.5.5 0 0 1 0-.707zM10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
</svg></span> &nbsp;Радиоданные (MRV)<i class="fa fa-angle-down"></i>

											</div>
                        </a>
											<div class="panel-collapse collapse" id="collapseOne">

												<ul class="list">
                                                
                                                
                                                
                                                
                                                
                                                
                                                

                                                      

                                                                                                            
                                                       
                                                                                                              <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Люди</a></li>
                                                                                                              
                                                                                                               <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123">&nbsp;Животные</a></li>
                                                                                                               
                                                                                                               
   <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Устройства</a></li>  
   
   
<p></p>
   
   
   <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Аналитика</a></li>   
   
   
   
   
   
   
 <p></p>  
   
   
   
   
                           <li role="presentation" style="padding: 0px 0px; color: #6B6B69;">&nbsp;&nbsp;<a role="menuitem" tabindex="-1" href="https://www.emiia.ru/relise/mrvsdk#18.37/55.977162/37.174262/141.7/38" style="padding: 5px 8px;"> <span 
  style="vertical-align: -4.5px; color: #6B6B69;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
</svg></span>SDK/API (Radio MRV)</a></li> 




                          <li role="presentation" style="padding: 0px 0px; color: #6B6B69;">&nbsp;&nbsp;<a role="menuitem" tabindex="-1" href="https://www.emiia.ru/relise/rdrsdk#18.37/55.977162/37.174262/141.7/38" style="padding: 5px 8px;"> <span 
  style="vertical-align: -4.5px; color: #6B6B69;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
</svg></span>SDK/API (Radar RDR)</a></li> 




 <li role="presentation" style="padding: 0px 0px; color: #6B6B69;">&nbsp;&nbsp;<a role="menuitem" tabindex="-1" href="https://www.emiia.ru/relise/ipssdk#18.37/55.977162/37.174262/141.7/38" style="padding: 5px 8px;"> <span 
  style="vertical-align: -4.5px; color: #6B6B69;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
</svg></span>SDK/API (Indoor IPS)</a></li> 
   
   
   
   
   
   
   
   
   <p></p> 

<li><a href="https://www.emiia.ru/relise/ips.html" > <div> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/> 
</svg>&nbsp;Настройки </div></a></li>
                    
                                                                                               
                                                    
                                                    
                                                    
													
												</ul>

											</div>

										</div>

    </li>
    
    

    <li>
										<div class="accordion12" id="accordion2" >
                      <a href="#collapseTwo" data-toggle="collapse" data-parent="#parent">
											<div class="hight">

   
													<span 
  style="vertical-align: -4.5px"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-camera-video" viewBox="-0 0 16 16">
  <path fill-rule="evenodd" d="M0 5a2 2 0 0 1 2-2h7.5a2 2 0 0 1 1.983 1.738l3.11-1.382A1 1 0 0 1 16 4.269v7.462a1 1 0 0 1-1.406.913l-3.111-1.382A2 2 0 0 1 9.5 13H2a2 2 0 0 1-2-2V5zm11.5 5.175 3.5 1.556V4.269l-3.5 1.556v4.35zM2 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h7.5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H2z"/>
</svg></span> &nbsp;Видеоданные (VCA)<i class="fa fa-angle-down"></i>

											</div>
                        </a>
											<div class="panel-collapse collapse" id="collapseTwo">
                                            
                                            
                                            
                                            
                                            <ul class="list">

												
                                                
                                                
                  <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Видеокамеры</a></li>
                                                                                                              
                                                                                                               <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Лидарные камеры</a></li>
                                                                                                               
                                                                                                               
   <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" value="" aria-label="123">&nbsp;Тепловые камеры</a></li>  
   
   
      <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" value="" aria-label="123">&nbsp;Аудиопотоки</a></li>  
   
   
   
   
<p></p>
   
   
   <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Аналитика</a></li>   
   
   
   
   
   
 <p></p>  
   
   
   
   <li role="presentation" style="padding: 0px 0px; color: #6B6B69;">&nbsp;&nbsp;<a role="menuitem" tabindex="-1" href="https://www.emiia.ru/relise/videosdk#18.37/55.977162/37.174262/141.7/38" style="padding: 5px 8px;"> <span 
  style="vertical-align: -4.5px; color: #6B6B69;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
</svg></span>SDK/API (Video VCA)</a></li> 
   
   
   
   
   
   
   
   
   <p></p> 
   

<li><a href="#" > <div> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/> 
</svg>&nbsp;Настройки </div></a></li>
                                                  
                                                
                                                
                                    
													
												</ul>                                   
           

											</div>

										</div>

    </li>
    
    
    
    
    
    
    
    
    
    
    
    
        <li>
										<div class="accordion12"  id="accordion3">
                      <a href="#collapseThree" data-toggle="collapse" data-parent="#parent">
											<div class="hight">

													<span 
  style="vertical-align: -4.5px"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-globe" viewBox="0 0 16 16">
  <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z"/>
</svg></span> &nbsp;Геоданные (GIS)<i class="fa fa-angle-down"></i>

											</div>
                        </a>
											<div class="panel-collapse collapse" id="collapseThree">

												<ul class="list">
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
        <li1><a href="#" style="color: #6B6B69; padding-left: 1.5em;" value="option1" checked><input    class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" checked/>&nbsp;Карта</a></li1>
      
      
            <li1><a href="#" style="color: #6B6B69; padding-left: 2em;"  value="option2" ><input    class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1"/>&nbsp;Спутник</a></li1>
            
            <br>
            
            
        <li1><a href="#" style="color: #6B6B69; padding-left: 1.5em;" value="option1" disabled><input    class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" disabled/>&nbsp;Радар</a></li1>
      
      
            <li1><a href="#" style="color: #6B6B69; padding-left: 1.75em;"  value="option2" checked><input    class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1"/>&nbsp;Гибрид</a></li1>
                                                
                                                
                                                
                                                
                                                
  
  
   <p></p>
   
   
   <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123" checked>&nbsp;Панель поиска</a></li>
   
   
   
   <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123" checked>&nbsp;Панель навигации</a></li>
   
   
   
      <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123" checked>&nbsp;Панель Indoor (IPS)</a></li>
   
   
   
     <p></p>
  
  
  

												
                                                
                                                
                  <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123">&nbsp;Качество воздуха</a></li>
                                                                                                              
                                                                                                               <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123">&nbsp;Паркоместа</a></li>
                                                                                                               
                                                                                                               
                                                                                                                                                                                                                              <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123">&nbsp;Спортплощадки</a></li>
                                                                                                                                                                                                                              
                                                                                                                                                                                                                              
                                                                                                                                                                                                                               <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123">&nbsp;Лесные пожары</a></li>
                                                                                                                                                                                                                              
                                                                                                                                                                                                                              
                                                                                                                                    <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;ТИМ-модели (BIM)</a></li> 
                                                                                                                                    
                                                                                                                                    
                                                                                                                                    
                                                                                                                                    
                                                                                                                                            <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123">&nbsp;ТИМ-инструменты (BIM)</a></li>
                                                      
                                                      
                                                       <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Indoor-инструменты (IPS)</a></li> 
                                                                                                                                    
                                                                                                                                    
                                                                                                                                    
                                                                                                                                    
                                                                                                                                    <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" disabled value="" aria-label="123">&nbsp;Радары (фото-tile)</a></li> 
                                                                                                                                    
                                                                                                                                    
                                                                                                                                    <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" disabled value="" aria-label="123">&nbsp;Радары (онлайн данные)</a></li>
                                                                                                                                    
                                                                                                                                                                                                                              <p></p>
                                                                                                               
                                                                                                               
   <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;МЧС (объекты)</a></li>  
   
   
                                           <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;МЧС (данные)</a></li>

   
   
<p></p>






<li role="presentation" style="padding: 0px 0px; color: #6B6B69;">&nbsp;&nbsp;<a role="menuitem" tabindex="-1" href="https://www.emiia.ru/relise/messdk#18.37/55.977162/37.174262/141.7/38" style="padding: 5px 8px;"> <span 
  style="vertical-align: -4.5px; color: #6B6B69;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
</svg></span>SDK/API (МЧС)</a></li> 



 <p></p>  
   
   <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123">&nbsp;Аналитика</a></li>   
   
   
   
   
   
   
   
   
   

   
   
   
   
   
   
   
   
   
   
   
   
   <p></p> 

<li><a href="#" > <div> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/> 
</svg>&nbsp;Настройки </div></a></li>
                                                  
                                                
                                                
                                    
													
												</ul>  
                                                
                                                
                                                
											</div>

										</div>
                                        
                                        
                       

    </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
 <li role="presentation" class="divider"></li>  
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
        <li>
										<div class="accordion12"  id="accordion60"  >
                      <a href="#collapseFour" data-toggle="collapse" data-parent="#parent">
											<div class="hight">

													<span 
  style="vertical-align: -4.5px"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-diagram-3" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"/>
</svg></span> &nbsp;Базы данных (API)<i class="fa fa-angle-down"></i>

											</div>
                        </a>
											<div class="panel-collapse collapse" id="collapseFour">

												<ul class="list">
                                                
                                                
   <li><a href="#" > <div> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cloud-download" viewBox="0 0 16 16">
  <path d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z"/>
  <path d="M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z"/>
</svg>&nbsp;Вход данных: </div></a></li>
                                                                                                                                                   
                                                      <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;EMIIA.AI CLOUD</a></li>
                                                      
                                                      
                                                       <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;GitHub</a></li>
                                                       
                                                       
                                                       <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;TelegramBot</a></li>
                                                       
                                                       
                                                       <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;OpenStreetMap</a></li>
                                                       
                                                       
                                                                                                              <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;ChatGPT</a></li>
                                                       
                                                       
                                                   
     <p></p> 
     
     
     
     
    
    
    
    
    
     <li><a href="#" > <div> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cloud-upload" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z"/>
  <path fill-rule="evenodd" d="M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z"/>
</svg>&nbsp;Выход данных: </div></a></li>




<li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;EMIIA.AI CLOUD</a></li>





<li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;EMIIA.AI CLOUD ML</a></li>




<p></p> 

<li><a href="#" > <div> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/> 
</svg>&nbsp;Настройки </div></a></li>
    
    
                                                    
													
												</ul>

											</div>

										</div>
                                        
                                        
                       

    </li>
   
   
 
 
 
 
 
 
 
 
 
  
  

  
  
    <li>
										<div class="accordion12" id="accordion40" >
                      <a href="#collapseOne40" data-toggle="collapse" data-parent="#parent">
											<div class="hight">
                                            
                                            <span 
  style="vertical-align: -4.5px"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-code-slash" viewBox="0 0 16 16">
  <path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"/>
</svg></span> &nbsp;Генерация кода<i class="fa fa-angle-down"></i>

											</div>
                        </a>
											<div class="panel-collapse collapse" id="collapseOne40">

												<ul class="list">
                                                
                                                
                                                
                                                
                                                
                                                
                                                

                                                      

                                                                                                            
                                                       
                                                                                                              <li><a href="#"  value="option6" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="" aria-label="123">&nbsp;Python</a></li>
                                                                                                              
                                                                                                              
                                                                                                                 <li><a href="#"  value="option8" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="125" aria-label="123">&nbsp;Dart</a></li> 
                                                                                                              
                                                                                                         
                                                                                                               <li><a href="#"  value="option7" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="124" aria-label="123">&nbsp;TypeScript</a></li>
                                                                                                               
                                                                         <p></p>                                                                                                                                                 
                                                                         
                                                                         <li><a href="#"  value="option7" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel"  value="124" aria-label="123">&nbsp;TopoJSON</a></li>
                                                                         
                                                                         <li><a href="#"  value="option7" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="124" aria-label="123">&nbsp;GeoJSON</a></li>
                                                                         
                                                                         
                                                                         <li><a href="#"  value="option7" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="124" aria-label="123">&nbsp;JSON</a></li>
                    
                                                    
                                                    
   <p></p>      
   
   
   <li><a href="#"  value="option7" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="124" aria-label="123">&nbsp;Cинхронизация</a></li>



   
   
   
<p></p>
   
   
   
   
   

   
   
   
   
   <li><a href="#" > <div> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-zip" viewBox="0 0 16 16">
  <path d="M5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.11 0l-.929-.62a1 1 0 0 1-.415-1.074L5 8.438V7.5zm2 0H6v.938a1 1 0 0 1-.03.243l-.4 1.598.93.62.929-.62-.4-1.598A1 1 0 0 1 7 8.438V7.5z"/>
  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1h-2v1h-1v1h1v1h-1v1h1v1H6V5H5V4h1V3H5V2h1V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
</svg>&nbsp;Загрузить архив (ZIP) </div></a></li>




<p></p> 

<li><a href="#" > <div> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/> 
</svg>&nbsp;Настройки </div></a></li>

   
   

                                                    
                                                    
													
												</ul>

											</div>

										</div>

    </li>
    
    

    
    
    
    
    
    
    
    
    
    
    
    
   
   
   
   
   
   
   
   
   
   
      
    
    
    
    
    
    
    
   
    
    
    










                      
  




                                        
                                                       
                                                       
                                                       
                                                       
                                                       
                                                       
                                                       
                                                       
                                                       
                                                       
       <li role="presentation" class="divider"></li>   





<li>
										<div class="accordion12"  id="accordion62">
                      <a href="#collapseFour62" data-toggle="collapse" data-parent="#parent">
											<div class="hight">

													<span 
  style="vertical-align: -3.5px; padding-left: 1.0px;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
</svg></span> &nbsp;Условные обозначения<i class="fa fa-angle-down"></i>

											</div>
                        </a>
											<div class="panel-collapse collapse" id="collapseFour62">

												<ul class="list">
                                                
                                                

                                                                                                                                                   
                                                      <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Радиоданные (MRV)</a></li>
                                                      
                                                      
                                                       <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Видеоданные (CTV)</a></li>
                                                       
                                                       
                                                                                                 
                                                       
                                                       
                                    
                                                    
													
												</ul>

											</div>

										</div>
                                        
                                        
                       

    </li>
                                                   
                                                       
                                                       
                                                       
                                                       
                                                       
                                                       
                                                       
                                                       
                                                       




    
     
          <li role="presentation" class="divider"></li>                      
                        
                        <li role="presentation" style="padding: 0px 0px; color: #6B6B69;"><a role="menuitem" tabindex="-1" href="#" style="padding: 3px 8px;"> <span 
  style="vertical-align: -4.5px; color: #6B6B69;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
</svg></span> Справочник SDK</a></li>     



                        <li role="presentation" style="padding: 0px 0px; color: #6B6B69;"><a role="menuitem" tabindex="-1" href="#" style="padding: 3px 8px;"> <span 
  style="vertical-align: -4.5px; color: #6B6B69;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
</svg></span> Справочник API</a></li>  
                        
  
 



                        <li role="presentation" style="padding: 0px 0px; color: #6B6B69;"><a role="menuitem" tabindex="-1" href="#" style="padding: 3px 8px;"> <span 
  style="vertical-align: -4.5px; color: #6B6B69;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dot" viewBox="0 0 16 16">
  <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/>
</svg></span> Документация</a></li>  
    


    
    
    
    





 <li role="presentation" class="divider"></li>   





<li>
										<div class="accordion12"  id="accordion63">
                      <a href="#collapseFour63" data-toggle="collapse" data-parent="#parent">
											<div class="hight">

													<span 
  style="vertical-align: -3.5px;"><svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">
  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/> 
</svg></span> &nbsp;Аккаунт<i class="fa fa-angle-down"></i>

											</div>
                        </a>
											<div class="panel-collapse collapse" id="collapseFour63">

												<ul class="list">
                                                
                                                

                                                                                                                                                   
                                                      <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Радиоданные (MRV)</a></li>
                                                      
                                                      
                                                       <li><a href="#"  value="option5" checked>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="form-check-input" type="checkbox" id="checkboxNoLabel" checked value="" aria-label="123">&nbsp;Видеоданные (CTV)</a></li>
                                                       
                                                       

                                                       
                                    
                                                    
													
												</ul>

											</div>

										</div>
                                        
                                        
                       

    </li>
   




          
          
          
          
          
          <li role="presentation" class="divider"></li>                      
                        
                        <li role="presentation" style="padding: 0px 0px; color: #6B6B69;"><a role="menuitem" tabindex="-1" href="#" style="padding: 3px 12px;"> <span 
  style="vertical-align: -4.5px; color: #6B6B69;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
  <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
</svg></span> Выход</a></li>




                   
                        

                        
                        
<li role="presentation" class="divider"></li>   

          
          
          
          

          <li role="presentation"><a role="menuitem" tabindex="-1" href="#" style="color: #3d85c6; font-size:9px;">© EMIIA.AI MRV (SDK/API) Version (B2B): 00000000109.12.01</a></li>

          

         
          
    
    
  </ul>






















<script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
    



























    
    
<script>

	// import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/build/three.module.js';
	// import {OrbitControls} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/controls/OrbitControls.js';
	// import {GLTFLoader} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/loaders/GLTFLoader.js';
    
    
    const monument = [37.174052531268444,55.97741907825389];


	mapboxgl.accessToken = 'pk.eyJ1IjoiZW1paWFhaSIsImEiOiJja21icnU4bHkyNGRwMnFrbjVvNXdtdGJ0In0.TcfxV21Ov7zOgvWvgPxzlA';
	var map = (window.map = new mapboxgl.Map({
		container: 'map',
        
        
        
		style: 'mapbox://styles/emiiaai/ckv9cvgm062s515nz08d6ceq0',
        

        
		zoom: 18,
		center: [37.173764, 55.977719],
		pitch: 60,
        
        
        attributionControl: false,
        
		antialias: true // create the gl context with MSAA antialiasing, so custom layers are antialiased
	}));
    
    
    
    
    
    
    
    
    
     let lng;
      let lat;
      const lngDisplay = document.getElementById('lng');
      const latDisplay = document.getElementById('lat');
      const eleDisplay = document.getElementById('ele');

      const marker = new mapboxgl.Marker({
        'color': ''
      });
      
      
      
      

      
    map.on('mousemove', (event) => {
    

        // Use the returned LngLat object to set the marker location
        // https://docs.mapbox.com/mapbox-gl-js/api/#lnglat
        marker.setLngLat(event.lngLat).addTo(map);

        lng = event.lngLat.lng;
        lat = event.lngLat.lat;

        getElevation();
      });
      
      

      
      

      async function getElevation() {
        // Construct the API request
        const query = await fetch(
          `https://api.mapbox.com/v4/mapbox.mapbox-terrain-v2/tilequery/${lng},${lat}.json?layers=contour&limit=50&access_token=${mapboxgl.accessToken}`,
          { method: 'GET' }
        );
        if (query.status !== 200) return;
        const data = await query.json();
        // Display the longitude and latitude values
        lngDisplay.textContent = lng.toFixed(14);
        latDisplay.textContent = lat.toFixed(14);
        // Get all the returned features
        const allFeatures = data.features;
        // For each returned feature, add elevation data to the elevations array
        const elevations = allFeatures.map((feature) => feature.properties.ele);
        // In the elevations array, find the largest value
        const highestElevation = Math.max(...elevations);
        // Display the largest elevation value
        eleDisplay.textContent = `${highestElevation} meters`;
      }
      
      
    map.on('crosshair', (e) => {
document.getElementById('info').innerHTML =
// `e.point` is the x, y coordinates of the `mousemove` event
// relative to the top-left corner of the map.
JSON.stringify(e.point) +
'<br />' +
// `e.lngLat` is the longitude, latitude geographical position of the event.
JSON.stringify(e.lngLat.wrap());  
      
});
    
    
    
    


    
    
    
    
    
    // Add geolocate control to the map.
map.addControl(
new mapboxgl.GeolocateControl({
positionOptions: {
enableHighAccuracy: true
},
// When active the map will receive updates to the device's location as it changes.
trackUserLocation: true,
// Draw an arrow next to the location dot to indicate which direction the device is heading.
showUserHeading: true
})
);
    
    
    


    

    
  
    
    
  
 
    



// Add the specific control
        map.addControl(map.indoor.control, 'bottom-right');
 





map.addControl(new MapboxMarkers(exampleGeojson), "bottom-left");





  
    
     mapboxgl.setRTLTextPlugin('https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js');
map.addControl(new MapboxLanguage({
  defaultLanguage: 'ru'
}));









</script>

    
    
    
    
    
    
    





<script>  
    
    // create the popup
const popup = new mapboxgl.Popup({ offset: 25 })
   .setHTML("<iframe top:0;left:0;position:absolute;  allowfullscreen:true; width=335 height=500  frameborder='0'   src=https://www.emiia.ru/relise/i.html></iframe>")
   

// create DOM element for the marker
var el = document.createElement('div');
el.id = 'marker';



// create the marker
new mapboxgl.Marker(el)
.setLngLat(monument)
.setPopup(popup) // sets a popup on this marker
.addTo(map);



    
 </script>  

    









   <script src="https://cdn.jsdelivr.net/gh/jscastro76/threebox@v.2.2.2/dist/threebox.min.js" type="text/javascript"></script>
   
   
   
   <script src="https://cdnjs.cloudflare.com/ajax/libs/three.meshline/1.4.0/THREE.MeshLine.js" integrity="sha512-CNumL3RLkfw0m0RcHHv67JdGVqchvvNOPZnX9WP2gNzkyk82/jKCgK1kVGJV8U3Cr+mEFOFAxY6L63mUGj3TIA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
   
   
   
   
   
   <script type="x-shader/x-vertex" id="vertexShader">

			attribute vec3 center;
			varying vec3 vCenter;

			void main() {

				vCenter = center;

				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			}

		</script>

   
   
   
   
   
   
   
   


<script>




// parameters to ensure the model is georeferenced correctly on the map
var modelOrigin = [37.17409849995867,55.97737925266699]//[2.318, 48.850];
var modelAltitude = -0;
var modelRotate = [0.57, 0.16, -501.259];










   

var modelAsMercatorCoordinate = mapboxgl.MercatorCoordinate.fromLngLat(
  modelOrigin,
  modelAltitude
);





// transformation parameters to position, rotate and scale the 3D model onto the map
var modelTransform = {
  translateX: modelAsMercatorCoordinate.x,
  translateY: modelAsMercatorCoordinate.y,
  translateZ: modelAsMercatorCoordinate.z,
  rotateX: modelRotate[0],
  rotateY: modelRotate[1],
  rotateZ: modelRotate[2],
  /* Since our 3D model is in real world meters, a scale transform needs to be
   * applied since the CustomLayerInterface expects units in MercatorCoordinates.
   */
  scale: modelAsMercatorCoordinate.meterInMercatorCoordinateUnits()
};


























var THREE = window.THREE;

// configuration of the custom layer for a 3D model per the CustomLayerInterface
var customLayer = {
  id: "3d-model",
  type: "custom",
            wireframe: true,
  renderingMode: "3d",
  onAdd: function (map, gl) {
    this.camera = new THREE.Camera();
    this.scene = new THREE.Scene();
    
    
    
    
     // create two three.js lights to illuminate the model
    var directionalLight = new THREE.DirectionalLight(0xffffff);
    directionalLight.position.set(0, 0, 0).normalize();
    this.scene.add(directionalLight);

    var directionalLight2 = new THREE.DirectionalLight(0xffffff);
    directionalLight2.position.set(0, 0, 0).normalize();
    this.scene.add(directionalLight2);
    
    
    
    

    
    

    // use the three.js GLTF loader to add the 3D model to the three.js scene
    var loader = new THREE.OBJLoader();
    
    
    
    
    
    
    
    
    
    
    
             loader.load(
    "https://www.emiia.ru/relise/modeOBJ-4.obj" , 
    
    
 

      
    (mesh) => {
        
        
      
      
 // Лесничная площадка.     
                    
                                mesh.children[0].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        // Контуры стен.
                    
                                mesh.children[1].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFffff,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
         // Стены.     
                    
                                mesh.children[2].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
                 // ?.     
                    
                                mesh.children[3].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFF0000,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
                         // ?.     
                    
                                mesh.children[4].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFF0000,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
         // Окна ленты.     
                    
                                mesh.children[5].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        

        
        
        



        
        
        
     
        
        this.scene.add(mesh);
      }
    );
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    



    
     loader.load(
    "https://www.emiia.ru/relise/modeOBJ-2.obj" , 
    
    
   

      

      
    (mesh) => {
        
        
        
        
       
        
        
        
    
        

        
      
      
      
      
 // Лесничная площадка.     
                    
                                mesh.children[0].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 0.95,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        // Верхние грани.     
                    
                                mesh.children[1].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xffFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
        
        
             // Стены.     
                    
                                mesh.children[2].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xE8E8E8,
          opacity: 0.83,
          transparent: true,
          fog: false
        });
        
        
        
   
 
              // Внутренние грани наружных окон.     
                    
                                mesh.children[3].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
        
        
         
              // Унитаз и умывальник.     
                    
                                mesh.children[4].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
 
        
        
        
        
        
                    // Рамы внешних окон.     
                    
                                mesh.children[5].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
                            // Вертикальные ребра стен (стыки).     
                    
                                mesh.children[6].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xE8E8E8,
          opacity: 0.8,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
                                    //Смеситель.     
                    
                                mesh.children[7].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFffff,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
  
  
  
  
  
                                      //Стекла окон на лестничных площадках.     
                    
                                mesh.children[8].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFF0000,
          opacity: 0,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
        
        
        
         //Внутренние грани окон на лестничных площадках.
        
        
                                       mesh.children[9].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
        
        
        
        
        
        
                                             //Внутренние грани внешних окон.     
                    
                                mesh.children[10].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
                                                     //Стекла внешних окон.     
                    
                                mesh.children[11].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 0,
          transparent: true,
          fog: false
        });
        
        
        
        
  
  
  
  
  
  
  
  
    
                                      //Полотно внутренних дверей.     
                    
                                mesh.children[12].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFFFFF,
          opacity: 0.9,
          transparent: true,
          fog: false
        });
  
  
  
  
  
  
  
                                        //Внутренний наличник дверей внутри.     
                    
                                mesh.children[13].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xd3d3d3,
          opacity: 1,
          transparent: true,
          fog: false
        });
  
  
  
  
  
  
    
                                        //Внутренние двери (внутренние грани1).     
                    
                                mesh.children[14].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
  
  
  
  
  
  
  
  
  
      
                                        //Внутренние двери (внутренние грани2).     
                    
                                mesh.children[15].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
  
  
  
  
                                          //Пожарный оповещатель.     
                    
                                mesh.children[16].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
   
 
 
 
 
 
 
 

   
 
 
 
 
 
 
        
        
        this.scene.add(mesh);
      }
    );
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
   
    this.map = map;

    // use the Mapbox GL JS map canvas for three.js
    this.renderer = new THREE.WebGLRenderer({
      canvas: map.getCanvas(),
      context: gl,
                wireframe: true,
                
               
                
                
                
      antialias: true
    });
       
    
    

    

    
     this.renderer.autoClear = false;
  },
  render: function (gl, matrix) {
    var rotationX = new THREE.Matrix4().makeRotationAxis(
      new THREE.Vector3(0, 0, 0),
      modelTransform.rotateX
    );
    var rotationY = new THREE.Matrix4().makeRotationAxis(
      new THREE.Vector3(0, 0, 0),
      modelTransform.rotateY
    );
    var rotationZ = new THREE.Matrix4().makeRotationAxis(
      new THREE.Vector3(0, 0, 1),
      modelTransform.rotateZ
    );
    
    
    


    var m = new THREE.Matrix4().fromArray(matrix);
    var l = new THREE.Matrix4()
      .makeTranslation(
        modelTransform.translateX,
        modelTransform.translateY,
        modelTransform.translateZ
      )
      .scale(
        new THREE.Vector3(
          modelTransform.scale,
          -modelTransform.scale,
          modelTransform.scale
        )
      )
      .multiply(rotationX)
      .multiply(rotationY)
      .multiply(rotationZ);

    this.camera.projectionMatrix = m.multiply(l);
    this.renderer.resetState();
    this.renderer.render(this.scene, this.camera);
    this.map.triggerRepaint();
  }
};

    

   

map.on("style.load", () => {
  map.addLayer(customLayer, "waterway-label");
});











     

</script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  
    

    
    
    
    
    
    
    
    
    



    

    
    
    

    
    
    

 
     
 <script> 
    
 map.on('load', () => {
// Insert the layer beneath any symbol layer.
const layers = map.getStyle().layers;
const labelLayerId = layers.find(
(layer) => layer.type === 'symbol' && layer.layout['text-field']
).id;
 
// The 'building' layer in the Mapbox Streets
// vector tileset contains building height data
// from OpenStreetMap.
map.addLayer(
{
'id': 'add-3d-buildings',
'source': 'composite',
'source-layer': 'building',
'filter': ['==', 'extrude', 'true'],
'type': 'fill-extrusion',


'minzoom': 14,
'maxzoom': 19,



'paint': {
'fill-extrusion-color': '#aaa',
 
// Use an 'interpolate' expression to
// add a smooth transition effect to
// the buildings as the user zooms in.
'fill-extrusion-height': [
'interpolate',
['linear'],
['zoom'],
15,
0,
15.05,
['get', 'height']
],
'fill-extrusion-base': [
'interpolate',
['linear'],
['zoom'],
15,
0,
15.05,
['get', 'min_height']
],
'fill-extrusion-opacity': 0.2





}
},
labelLayerId
);
});


map.on('style.load', function () {
			map.addLayer(createCustomLayer('3d-model', modelOrigin), '');
            
   
		});
    
    
  </script> 
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
 
 

 

    
    

    
    
    
   <script>


      map.on('load', () => {
        map.addSource('trees', {
          'type': 'geojson',
          'data': 'https://raw.githubusercontent.com/EMIIA/www.emiia.ai/master/json/circlegeojson1.geojson'
        });

        map.addLayer(
          {
            'id': 'trees-heat',
            'type': 'heatmap',
            'source': 'trees',
            
            'minzoom': 10,
'maxzoom': 23,
            

            'paint': {
              // increase weight as diameter breast height increases
              'heatmap-weight': {
                'property': 'dbh',
                'type': 'exponential',
                'stops': [
                  [3, 0],
                  [3, 0]
                ]
              },
              // increase intensity as zoom level increases
              'heatmap-intensity': {
                'stops': [
                  [3, 0],
                  [3, 0]
                ]
              },
              // use sequential color palette to use exponentially as the weight increases
              'heatmap-color': [
                'interpolate',
                ['linear'],
                ['heatmap-density'],
                40,
                'rgba(293,209,234,80)',
                0.1,
                'rgb(103,169,207,80)',
                0.2,
                'rgb(166,189,219,80)',
                0.3,
                'rgb(103,169,207,80)',
                0.4,
                'rgb(28,144,153,80)'
                
            
              ],
              // increase radius as zoom increases
              'heatmap-radius': {
                'stops': [
                  [3, 2],
                  [3, 2]
                ]
              },
              // decrease opacity to transition into the circle layer
              'heatmap-opacity': {
                'default': 1,
                'stops': [
                  [3, 1],
                  [3, 0]
                ]
              }
            }
          },
          'waterway-label'
        );

        map.addLayer(
          {
            'id': 'trees-point',
            'type': 'circle',
            'source': 'trees',
            'maxzoom': 0,
            'paint': {
              // increase the radius of the circle as the zoom level and dbh value increases
              'circle-radius': {
                'property': 'dbh',
                'type': 'exponential',
                'stops': [
 [{ zoom: 2, value: 20 }, 100],

                ]
              },
              'circle-color': {
                'property': 'dbh',
                'type': 'exponential',
                'stops': [
                  [50, 'rgba(222,58,88,0.2)']


                ]
              },
              'circle-stroke-color': 'transparent',
              'circle-stroke-width': 0.1,
            
           
              'circle-opacity': {
                'stops': [
                  [0, 0],
                  [3, 1]
                ]
              }
            }
          },
          'waterway-label'
        );
        
        
        map.setLayerZoomRange('trees-point', 0, 19);
        
      });

     
      
      
    </script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    





    
    
    
    
    


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <script>


 
// A simple line from origin to destination.
const route = {
'type': 'FeatureCollection',
'id': '888',
'features': [
{
'type': 'Feature',
'id': '888',
'geometry': {
'type': 'LineString',
'coordinates': [[37.17417951425341,55.97743710357804], [37.17415334020461,55.977424607030116], [37.17408685623059,55.977430543896844], [37.17405923582942,55.97735488266653],[37.1740015268208,55.97736016541478], [37.17405923582942,55.97735488266653], [37.17408685623059,55.977430543896844], [37.17415334020461,55.977424607030116],[37.17417951425341,55.97743710357804],[37.17415334020461,55.977424607030116], [37.17408685623059,55.977430543896844], [37.17405923582942,55.97735488266653],[37.1740015268208,55.97736016541478], [37.17405923582942,55.97735488266653], [37.17408685623059,55.977430543896844], [37.17415334020461,55.977424607030116],[37.17417951425341,55.97743710357804]]
}
}
]
};




// A single point that animates along the route.
// Coordinates are initially set to origin.
const point = {
'type': 'FeatureCollection',
'id': '888',
'features': [
{
'type': 'Feature',
'properties': {},
'geometry': {
'type': 'Point',
'coordinates': origin
}
}
]
};
 
// Calculate the distance in kilometers between route start/end point.
const lineDistance = turf.length(route.features[0]);
 
const arc = [];
 
// Number of steps to use in the arc and animation, more steps means
// a smoother arc and animation, but too many steps will result in a
// low frame rate
const steps = 300000;
 
// Draw an arc between the `origin` & `destination` of the two points
for (let i = 0; i < lineDistance; i += lineDistance / steps) {
const segment = turf.along(route.features[0], i);
arc.push(segment.geometry.coordinates);
}
 
// Update the route with calculated arc coordinates
route.features[0].geometry.coordinates = arc;
 
// Used to increment the value of the point measurement against the route.
let counter = 0;
 
map.on('load', () => {
// Add a source and layer displaying a point which will be animated in a circle.
map.addSource('route', {
'type': 'geojson',
'data': route
});








    



 
map.addSource('point', {
'type': 'geojson',
'data': point
});
 
map.addLayer({
'id': 'route',
'source': 'route',
'type': 'line',
'paint': {
'line-width': 0,
'line-color': '#007cbf'







}







});
 
map.addLayer({
'id': 'point',
'source': 'point',

'minzoom': 19,






'type': 'symbol',
'layout': {
// This icon is a part of the Mapbox Streets style.
// To view all images available in a Mapbox style, open
// the style in Mapbox Studio and click the "Images" tab.
// To add a new image to the style at runtime see
// https://docs.mapbox.com/mapbox-gl-js/example/add-image/
'icon-image': 'pulsing-dot',
'icon-size': 0.6,

'icon-rotate': ['get', 'bearing'],

'icon-allow-overlap': true,
'icon-ignore-placement': true
}
}, 'road-label-navigation');



function animate() {
const start =
route.features[0].geometry.coordinates[
counter >= steps ? counter - 0 : counter
];
const end =
route.features[0].geometry.coordinates[
counter >= steps ? counter : counter + 0
];
if (!start || !end) return;
 
// Update point geometry to a new position based on counter denoting
// the index to access the arc
point.features[0].geometry.coordinates =
route.features[0].geometry.coordinates[counter];
 
// Calculate the bearing to ensure the icon is rotated to match the route arc
// The bearing is calculated between the current point and the next point, except
// at the end of the arc, which uses the previous point and the current point
point.features[0].properties.bearing = turf.bearing(
turf.point(start),
turf.point(end)
);
 
// Update the source with this new data
map.getSource('point').setData(point);
 
// Request the next frame of animation as long as the end has not been reached
if (counter < steps) {
requestAnimationFrame(animate);
}
 
 
 

 
 
counter = counter + 30;
}
 
document.getElementById('replay').addEventListener('click', () => {
// Set the coordinates of the original point back to origin
point.features[0].geometry.coordinates = origin;
 
// Update the source layer
map.getSource('point').setData(point);
 
// Reset the counter
counter = 0;


 
// Restart the animation
animate(counter);
});
 
// Start the animation
animate(counter);
});





 
const size = 180;
 
// This implements `StyleImageInterface`
// to draw a pulsing dot icon on the map.
const pulsingDot = {
width: size,
height: size,
data: new Uint8Array(size * size * 4),
 
// When the layer is added to the map,
// get the rendering context for the map canvas.
onAdd: function () {
const canvas = document.createElement('canvas');
canvas.width = this.width;
canvas.height = this.height;
this.context = canvas.getContext('2d');
},
 
// Call once before every frame where the icon will be used.
render: function () {
const duration = 1000;
const t = (performance.now() % duration) / duration;
 
const radius = (size / 2) * 0.3;
const outerRadius = (size / 2) * 0.7 * t + radius;
const context = this.context;
 
// Draw the outer circle.
context.clearRect(0, 0, this.width, this.height);
context.beginPath();
context.arc(
this.width / 2,
this.height / 2,
outerRadius,
0,
Math.PI * 0
);
context.fillStyle = `rgba(255, 200, 200, ${1 - t})`;
context.fill();
 
// Draw the inner circle.
context.beginPath();
context.arc(
this.width / 2,
this.height / 2,
radius,
0,
Math.PI * 2
);
context.fillStyle = '#3d85c6';
context.strokeStyle = 'white';
context.lineWidth = 5 + 4 * (1 - t);
context.fill();
context.stroke();
 
// Update this image's data with data from the canvas.
this.data = context.getImageData(
0,
0,
this.width,
this.height
).data;
 
// Continuously repaint the map, resulting
// in the smooth animation of the dot.
map.triggerRepaint();
 
// Return `true` to let the map know that the image was updated.
return true;
}
};
 
map.on('load', () => {
map.addImage('pulsing-dot', pulsingDot, { pixelRatio: 2 });
 
map.addSource('dot-point', {
'type': 'geojson',
'data': {
'type': 'FeatureCollection',
'id': '888',
'features': [
{
'type': 'Feature',
'id': '888',
'geometry': {
'type': 'Point',
'coordinates': [0, 0] // icon position [lng, lat]
}
}
]
}
});





});
</script>
        
        
        
        
        
        
        
        
        
        
        
        
         













        
        
        
       
        
        
        
    <script>  
    
    
    
    
    
    
     
        map.on('load', async () => {
// Get the initial location of the International Space Station (ISS).
const geojson = await getLocation();
// Add the ISS location as a source.
map.addSource('iss', {
type: 'geojson',
data: geojson
});
    
    
    
        
       
// Add the rocket symbol layer to the map.
map.addLayer({
'id': 'iss',
'type': 'symbol',

'minzoom': 19,


'source': 'iss',
'layout': {
// This icon is a part of the Mapbox Streets style.
// To view all images available in a Mapbox style, open
// the style in Mapbox Studio and click the "Images" tab.
// To add a new image to the style at runtime see
// https://docs.mapbox.com/mapbox-gl-js/example/add-image/
'icon-image': 'pulsing-dot',
'icon-size': 0.6,
'icon-rotate': ['get', 'bearing'],


'icon-allow-overlap': true,
'icon-ignore-placement': true
}
}, 'road-label-navigation');
 
// Update the source from the API every 2 seconds.
const updateSource = setInterval(async () => {
const geojson = await getLocation(updateSource);
map.getSource('iss').setData(geojson);
}, 10000000);
 
async function getLocation(updateSource) {
// Make a GET request to the API and return the location of the ISS.
try {
const response = await fetch(
'https://www.emiia.ru/osm/25544.json',
{ method: 'GET' }
);


const { latitude, longitude } = await response.json();


// Fly the map to the location.
map.flyTo({
center: [longitude, latitude],
speed: 0.0

});




// Return the location of the ISS as GeoJSON.
return {
'type': 'FeatureCollection',
'features': [
{
'type': 'Feature',
'geometry': {
'type': 'Point',
'coordinates': [longitude, latitude]
}
}
]
};







} catch (err) {
// If the updateSource interval is defined, clear the interval to stop updating the source.
if (updateSource) clearInterval(updateSource);
throw new Error(err);
}
}
});





</script>
    
    

    
    
    
    
    
        <script>  
    
    
    
    
    
    
     
        map.on('load', async () => {
// Get the initial location of the International Space Station (ISS).
const geojson = await getLocation();
// Add the ISS location as a source.
map.addSource('iss1', {
type: 'geojson',
data: geojson
});
    
    
    
        
       
// Add the rocket symbol layer to the map.
map.addLayer({
'id': 'iss1',
'type': 'symbol',

'minzoom': 19,

'source': 'iss1',
'layout': {
// This icon is a part of the Mapbox Streets style.
// To view all images available in a Mapbox style, open
// the style in Mapbox Studio and click the "Images" tab.
// To add a new image to the style at runtime see
// https://docs.mapbox.com/mapbox-gl-js/example/add-image/
'icon-image': 'pulsing-dot',
'icon-size': 0.6,
'icon-rotate': ['get', 'bearing'],


'icon-allow-overlap': true,
'icon-ignore-placement': true
}
}, 'road-label-navigation');



 
// Update the source from the API every 2 seconds.
const updateSource = setInterval(async () => {
const geojson = await getLocation(updateSource);
map.getSource('iss1').setData(geojson);
}, 10000000);
 
async function getLocation(updateSource) {
// Make a GET request to the API and return the location of the ISS.
try {
const response = await fetch(
'https://www.emiia.ru/osm/25545.json',
{ method: 'GET' }
);


const { latitude, longitude } = await response.json();


// Fly the map to the location.
map.flyTo({
center: [longitude, latitude],
speed: 0.0

});




// Return the location of the ISS as GeoJSON.
return {
'type': 'FeatureCollection',
'features': [
{
'type': 'Feature',
'geometry': {
'type': 'Point',
'coordinates': [longitude, latitude]
}
}
]
};







} catch (err) {
// If the updateSource interval is defined, clear the interval to stop updating the source.
if (updateSource) clearInterval(updateSource);
throw new Error(err);
}
}
});





</script>
    
    
    
    
    
    <script>

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SXCK9F16F5');
  
  
  
  let tg = window.Telegram.WebApp; //получаем объект webapp телеграма target="_blank"  

   tg.expand(); //расширяем на все окно  
  
</script>












<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js'></script>


<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>







<script>
   
    $("[data-toggle='collapse']").on('click', function () {
      $("[data-toggle='collapse']").removeClass('current');
      $(this).addClass("current");
  $(this).toggleClass("oppened"); 
       $("[data-toggle='collapse']").not('.current').removeClass('oppened');
});



// Collapse accordion every time dropdown is shown
$('.dropdown-accordion').on('show.bs.dropdown', function (event) {
  var accordion1 = $(this).find($(this).data('accordion'));
  accordion1.find('.panel-collapse.in').collapse('hide');
  $("[data-toggle='collapse']").removeClass('oppened');
});

// Prevent dropdown to be closed when we click on an accordion link
$('.dropdown-accordion').on('click', 'a[data-toggle="collapse"]', function (event) {
  event.preventDefault();
  event.stopPropagation();
  $($(this).data('parent')).find('.panel-collapse.in').collapse('hide');
  $($(this).attr('href')).collapse('show');
  
});



// Close Nav When Link Is Selected
$('.panel-body a[href^="#section"], a[href^="#section"]').on('click', function(){
    $('.navbar-collapse').collapse('hide');
	$('.dropdown-toggle').click();
});


//Smooth Scrolling For Internal Page Links
$(function() {
  $('.list-group a[href*=#]:not([href=#]), a[href="#toTop"]').click(function() {
	if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
	  var target = $(this.hash);
	  target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
	  if (target.length) {
		$('html,body').animate({
		  scrollTop: target.offset().top
		}, 1000);
		return false;
	  }
	}
  });
});

</script>
    








<style>

#map canvas {
cursor: crosshair;
}


</style>







    
    


</body>

</html>












































































