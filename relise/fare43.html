

































<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  

 
 
 <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
 
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        



<meta name="apple-mobile-web-app-capable" content="yes">


<meta name="format-detection" content="telephone=no">

        
        
        
    <title>EMIIA.AI MRV: SDK/API - em_70.3388_675_it_98342234...</title>    
        

	
	<link rel="manifest" href="manifest.json">

<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="application-name" content="EMIIA.AI MRV">
<meta name="apple-mobile-web-app-title" content="EMIIA.AI MRV">
	<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="theme-color" content="#fff">
<meta name="msapplication-starturl" content="https://www.emiia.ru/relise/fare43.html">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/mchs.png">
	
	
	
	<link rel="manifest" href="/manifest.json">
    
    
    
    
    
    
    
    
    
    
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script> <!--Подключаем скрипт от телеграм-->
    
    
    
    
    
    
    
    
	
	







        
	

    








    
    

 
    
    

    
    
    
    
    
    

    
    
    
    
    
    

<style>
@import url('https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');
</style>

	<style>
@import url('https://www.emiia.ru/css.css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');
</style>

  <style>  
@import url('/css.css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');
</style>

<link rel="stylesheet" href="https://www.emiia.ru/cssfamily=Montserrat.css">
<link rel="stylesheet" href="/cssfamily=Montserrat.css">
    
    
   
    
    

    
    

    
    

    
    
    
    














    
    
    


    
 
    
    
<script src="./emiijs.js" type="text/javascript"></script>  


    
<script src="https://www.emiia.ru/relise/emiijs.js" type="text/javascript"></script>
    
    
    
    

    
    
 <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
   
      


<script src="https://dl.dropboxusercontent.com/s/p4pzuar2waqsn7m/map-gl-indoor.umd.js"></script>  

















<script crossorigin src="https://unpkg.com/react@17.0.0/umd/react.production.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/jscastro76/threebox@v.2.2.7/dist/threebox.min.js" type="text/javascript"></script>
<link href="https://cdn.jsdelivr.net/gh/jscastro76/threebox@v.2.2.7/dist/threebox.css" rel="stylesheet">

<script src='https://api.mapbox.com/mapbox.js/plugins/turf/v2.0.2/turf.min.js'></script>


<script src="https://unpkg.com/@turf/turf@6.5.0/turf.min.js"></script>   
    
    
    
    
    
 <style>   
    
    .marker {
  background-image: url('https://www.mapbox.com/help/demos/custom-markers-gl-js/mapbox-icon.png');
  background-size: cover;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  cursor: pointer;

}


  


.marker:hover,.marker.active{

}

.mapboxgl-popup {
  max-width: 250px;
}

.mapboxgl-popup-content {
  text-align: center;
  font-family: 'Montserrat', montserrat;
}



.mapboxgl-ctrl-map {
    background-image: url(https://www.emiia.ai/icon/e.svg);
    background-size: 28px 28px !important;
    background-position: 8.7px 8.2px !important;
    background-repeat: no-repeat !important;
}



.mapboxgl-ctrl-markers {
    background-image: url(https://www.emiia.ai/icon/e.svg);
    background-size: 28px 28px !important;
    background-position: 8.7px 8.2px !important;
    background-repeat: no-repeat !important;
}








.mapboxgl-ctrl.markers input{
  padding: 5px;
}




::-webkit-scrollbar {
    width: 5px;
    background-color: white;
    max-height: 0vh;
}





.mapboxgl-ctrl-group button {
    width: 44px;
    height: 44px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: transparent;
    cursor: pointer;
    font: 13px/20px Montserrat, montserrat;
    color: #383838;
}


.mapboxgl-ctrl-group {
    border-radius: 12px;
    background: #fff;
}


.mapboxgl-ctrl-group {
    box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
}




a.mapboxgl-ctrl-logo{
    width: 0;
    height: 0;
    margin: 0 0 -4px-4px;
    display: block;
    background-repeat: no-repeat;
    cursor: pointer;
    overflow: hidden;
    background-image: url(data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='0.9' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E);
}




.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl {
    margin: 10px 14px 25px 14px;
    float: right;
}










.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl {
    margin: -10px -10px 10px 10px;
    float: left;
}


    
 </style>    
    
    





    










 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">






    
        <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>  
    
    
    
    
    
    
    
    
    





<link rel='stylesheet' href='https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css'>







<style>



@import url('https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');


@import url('https://www.emiia.ru/css.css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');
 
@import url('/css.css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap&subset=cyrillic');




body {

    
 
   

    line-height: 5.42857143;
    color: #333;
    background-color: #fff;
    





}






a , a:focus {
    color: #383838;
    text-decoration: none;
    
    
    line-height: 1.9em;     
    
    



    
}



a{
  dispaly:block;
  width:100%;
  height:25px;
  



}
a:hover {
    color: #2A6496;
    text-decoration: none;
  background-color:#eee;
 
  
}
.accordion12{
  position:relative;
  hight:30px;
  
    line-height: 1.9em;  

  
}

.list{
  padding-left:19px;
  background-color: #f8f9fa;
  list-style:none;
  

  
}
.list-item{
  display:block;
  padding-top: 3px;
  
  
 
  
}
.hight{
  padding-left:20px;
  hight:30px;

  
}

i { position:absolute;
  right: 10px;
  
 
  
  top:4px;
    -webkit-transition:all 300ms ease-in 0s;
    -moz-transition: all 300ms ease-in 0s;
    -o-transition: all 300ms ease-in 0s;
  transition: all 300ms ease-in 0s;}


.oppened i {
    
    -webkit-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
    transform: rotate(180deg);
    
   
}




.dropdown-menu > li > a:hover {
    background-color: #fff;
    background-image: none;
    color: white;

    
}






.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    z-index: 1000;
    display: none;
    float: left;
    min-width: 307.5px;
    max-width: 307.5px;
    padding: 0px 0px 0px 0px;
    margin: 3.8px 0 0;
    font-size: 17px;
    text-align: left;
    list-style: none;
    background-color: white;
    -webkit-background-clip: padding-box;
    
    
    background-clip: padding-box;
    border: 0px solid #ccc;
    border: 0px solid rgba(0,0,0,.15);
    
    border-radius: 4px;
    -webkit-box-shadow: 0 6px 12px rgba(0,0,0,.175);
    box-shadow: 0 6px 12px rgba(0,0,0,.175);
       
    
    border-radius: 12px 12px 12px 12px;
    box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
    
    
    cursor: pointer;
    

    font-family: 14px/19px Montserrat, montserrat !important;
    font:16px/20px 'Montserrat', montserrat !important; 
    
    

}
    
    
    









</style>


















<style>



.btn {
    
 
    width: 44px;
    height: 44px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: white;
    cursor: pointer;
    color: red;
    
    
    font-family: 12px/20px Montserrat, montserrat;
    font:12px/20px 'Montserrat', montserrat;
    


    
    background-image: url(https://www.emiia.ai/icon/e.svg);
    background-size: 28px 28px !important;
    background-position: 8.7px 8.2px !important;
    background-repeat: no-repeat !important;
    
    border-radius: 12px 12px 12px 12px;
    box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1) !important;
    

    
}









.btn:focus,.btn:active:focus,.btn.active:focus,
.btn.focus,.btn:active.focus,.btn.active.focus {
    outline:  none;
    
  
         background-color:#eee;  

 } 
 
 
 
 



.small:focus,.small:active:focus,.small.active:focus,
.small.focus,.small:active.focus,.small.active.focus {
 outline: none;
 
  text-decoration: none;
    
background-color:#eee;
 } 



.mapboxgl-popup a {
    color: #3D85C6;
    text-decoration: none;
    
outline: none;

}




.mapboxgl-popup-content {
    position: relative;
    background: white;
    border-radius: 3px;
    box-shadow: 0 1px 2px rgb(0 0 0/10%);
    padding: 10px 10px 15px;
    pointer-events: auto;
    
   max-width: 330px;
   
   
    font-family: 12px/20px Montserrat, montserrat;
  font:12px/20px 'Montserrat', montserrat;

    
}











a {
    dispaly: block;
    width: 100%;
    height: 25px;
    

    
    
}


a, a:focus {
    color: #337ab7;
    text-decoration: none;
    
   
}
a {
    color: #337ab7;
    text-decoration: none;
    
    

    
    
}









hr {
display: block;
   

    margin-top: 0.7em;
    
    
     z-index: 230000;
    
    
    margin-bottom: 0.5em;
    margin-left: auto;
    margin-right: auto;
    border-style: inset;
    border-width: 1px;
    
    
   
    
    

    border-color: #dcdcd934;
    
}











.dropdown-menu {


max-height: 227px;

height: 227px;

overflow-y: auto;

background-color: white;


min-width: 44.0px;
max-width: 44.0px;


margin: 52.0px 0 0;


outline: 5px;

border-top: 8px solid white;

border-bottom: 8px solid white;




}




::-webkit-scrollbar {
    width: 0.1px;
    background-color: red;

    

    
}










.sticky {
    position: sticky;
    top: 0;
    
    z-index: 210000;
    
    

    

    

     background-color: white;
    
    border-top:20px solid white;
    
    border-bottom:0px solid white;
    
     
 

     
  

}









.sticky::before {
    position: absolute;
    top: -2.9ex;
    left: -1.0ex;

    
    

   background-color: white;
    cursor: pointer;
    font-weight: 580;
    content: "";
    
    z-index: -1;


 

    
    width: 60px;
    height: 52px;
    
    
border-radius: 0px 3px 3px 3px;




    
}















i {
    position: absolute;
    right: 14px;
    top: 4px;
    -webkit-transition: all 300ms ease-in 0s;
    -moz-transition: all 300ms ease-in 0s;
    -o-transition: all 300ms ease-in 0s;
    transition: all 300ms ease-in 0s;
}



 
        
















 button#replay {
    margin: -15px;
  
}






























.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon {
    background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0i0YDQtdC30LXRgNCyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOSIgaGVpZ2h0PSIyOSIgdmlld0JveD0iMCAwIDI5IDI5Ij4NCiAgPHRpdGxlPjEzPC90aXRsZT4NCiAgPGNpcmNsZSBjeD0iMTQuNzEiIGN5PSIxNC41MiIgcj0iMi43NyIgc3R5bGU9ImZpbGw6ICMzMzMiLz4NCiAgPGNpcmNsZSBjeD0iMTQuNzEiIGN5PSIxNC41MiIgcj0iMi43NyIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCiAgPHBhdGggZD0iTTIxLjU4LDEzLjY0SDE5LjY1YS4zLjMsMCwwLDEtLjI5LS4yMyw0LjgsNC44LDAsMCwwLTMuNTUtMy41NC4zLjMsMCwwLDEtLjIzLS4yOVY3LjY2YS4zMS4zMSwwLDAsMSwuMzItLjNoMGE3LjI2LDcuMjYsMCwwLDEsNiw1Ljk0LjMxLjMxLDAsMCwxLS4yOC4zNFoiIHN0eWxlPSJmaWxsOiAjNmI2YjY5Ii8+DQogIDxwYXRoIGQ9Ik0yNS4yOCwxMy42NGgtMS45YS4yOS4yOSwwLDAsMS0uMjktLjI2LDguNDYsOC40NiwwLDAsMC03LjI1LTcuMjQuMjkuMjksMCwwLDEtLjI2LS4yOVY0YS4zMS4zMSwwLDAsMSwuMzItLjNoMGExMSwxMSwwLDAsMSw5LjY3LDkuNjYuMzEuMzEsMCwwLDEtLjI5LjMzWiIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCiAgPHBhdGggZD0iTTIxLjg4LDE1Ljd2MGE3LjI5LDcuMjksMCwwLDEtNS42Nyw1Ljkxdi4xM2ExLjM3LDEuMzcsMCwwLDEtLjIxLjc1LDEuNSwxLjUsMCwwLDEtMi43OS0uNzV2LS4xNkE3LjI0LDcuMjQsMCwwLDEsNy42NCwxNmgtLjJhMS40NCwxLjQ0LDAsMCwxLS44Mi0uMjUsMS40OSwxLjQ5LDAsMCwxLDAtMi40OEExLjQ2LDEuNDYsMCwwLDEsNy40NCwxM0g3LjZhNy4yNCw3LjI0LDAsMCwxLDUuODktNS42Ni4zMS4zMSwwLDAsMSwuMzUuMjZ2MmEuMy4zLDAsMCwxLS4yMy4yOEE0LjczLDQuNzMsMCwwLDAsMTAuMTgsMTNhMS44MywxLjgzLDAsMCwwLS4wOC4yNSw0LjcsNC43LDAsMCwwLS4xNywxLjI0LDQuNTEsNC41MSwwLDAsMCwuMTgsMS4yNiwyLjQxLDIuNDEsMCwwLDAsLjA4LjI1QTQuODEsNC44MSwwLDAsMCwxNiwxOS4wOWwuMjEtLjA3YTQuNzYsNC43NiwwLDAsMCwzLjE1LTMuNDEuMjguMjgsMCwwLDEsLjI4LS4yM2gxLjk0QS4zLjMsMCwwLDEsMjEuODgsMTUuN1oiIHN0eWxlPSJmaWxsOiAjNmI2YjY5Ii8+DQo8L3N2Zz4NCg==);
    background-size: 27px 27px !important;
    background-repeat: no-repeat !important;
    background-position: 8px 9.5px !important;
}
.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon {
    background-image: url(data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E);
}






.mapboxgl-ctrl-top-right .mapboxgl-ctrl {
    margin: 9.8px 12px -4.5px 0px !important;
}


.mapboxgl-ctrl-top-left .mapboxgl-ctrl {
    margin: 58.5px 14px -54px 13px !important;
}







.mapboxgl-ctrl-map {
    background-image: url(https://www.emiia.ai/icon/h1.svg);
    background-size: 28px 28px !important;
    background-position: 7.7px 8.2px !important;
    background-repeat: no-repeat !important;
}




.mapboxgl-ctrl-markers {
    background-image: url(https://www.emiia.ai/icon/h.svg);
    background-size: 28px 28px !important;
    background-position: 7.7px 8.2px !important;
    background-repeat: no-repeat !important;
}




.mapboxgl-ctrl-bottom-left {
    /* position: fixed; */
    top: 11.25ex;
    left: 0;
    z-index: 200000;
}



.marker {
    background-image: url(https://www.mapbox.com/help/demos/custom-markers-gl-js/mapbox-icon.png);
    background-size: cover;
    width: 30px;
    height: 30px;
    border-radius: 0%;
    cursor: pointer;
}









</style>






    
    
    
    
    
    
      <style>
  body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0;  width: 100%; }
    
    </style>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
          
 
  
  
  <script>
!function e(t,o,r){function i(s,a){if(!o[s]){if(!t[s])


{var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(n)return n(s,!0);var p=new Error("Cannot find module '"+s+"'");



throw p.code="MODULE_NOT_FOUND",p}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){var o=t[s][1][e];return i(o||e)},c,c.exports,e,t,o,r)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,o){function r(e,t){if(!(this instanceof r))


throw new Error("MapboxMarkers needs to be called with the new keyword");this.URLSearchParams=new URLSearchParams(new URL(window.location).search),this._sourceName="markerspec",this._geojson=e,this._rendered=!1,this.options=Object.assign(




{disabled:this.URLSearchParams.get("disabled")||!0,showControl:this.URLSearchParams.get("show-control")||!0,marker:{image:""},



popup:{description:"<i></i>"},style:{label:"{name}",labelSize:10,color:this.URLSearchParams.get("style-color")||"transporent",size:2,opacity:1,icon:"marker",layers:null}},t),this.toggle=this.toggle.bind(this),this.render=this.render.bind(this),this._toggleLayers=this._toggleLayers.bind(this),this._updateMap=this._updateMap.bind(this),this._toggle=new i({show:this.options.showControl,onToggle:this.toggle.bind(this)})}function i(e){var t,o;e=Object.assign({show:!0,onToggle:function(){}},e),this._btn=((t=document.createElement("button")).className="mapboxgl-ctrl-icon mapboxgl-ctrl-markers",t.type="button",t["aria-label"]="Inspect",t),this._btn.onclick=e.onToggle,this._input=((o=document.createElement("input")).id="marker-search",o.type="text",o.placeholder="Marker Search",o.style.display="none",o),this.elem=function(e,t,o){var r=document.createElement("div");return r.className="mapboxgl-ctrl mapboxgl-ctrl-group markerspec",r.appendChild(e),o||(r.style.display="none"),r}(this._btn,this._input,e.show)}r.prototype.onAdd=function(e){return this._map=e,e.on("load",this.render),e.on("moveend",this._updateMap),this._toggle.elem},r.prototype.onRemove=function(){this._map.off("load",this.render);var e=this._toggle.elem;e.parentNode.removeChild(e),this._map=void 0},r.prototype.toggle=function(){this.options.enabled=!this.options.enabled,this.render()},r.prototype.render=function(){if(!this._rendered){var e=this;if(this.URLSearchParams.get("data")){var t=new XMLHttpRequest;t.onreadystatechange=function(){t.readyState==XMLHttpRequest.DONE&&(e._geojson=JSON.parse(t.responseText),o())},t.open("GET",this.URLSearchParams.get("data"),!0),t.send(null)}else o();function o(){e._geojson.features.forEach(function(t){if("Point"==t.geometry.type){var o=document.createElement("div");


o.className="markerspec marker",o.style=`background-image:url('${t.properties["marker-image"]||e.options.marker.image}')`,o.onclick=function(e){map.flyTo({center:t.geometry.coordinates})};var r=(void 0!==t.properties.title?`<h3>${t.properties.title}</h3>`:"")+(void 0!==t.properties.image?`<img src='${t.properties.image}' width=200 alt='${t.properties.title}'>`:"")+(void 0!==t.properties.description?`<p>${t.properties.description}</p>`:`<p>${e.options.popup.description}</p>`)+(void 0!==t.properties.website?`<a href='${t.properties.website}' target='_blank' class='button'>Website</a>`:`<a href='https://www.openstreetmap.org/?mlat=${t.geometry.coordinates[1]}&mlon=${t.geometry.coordinates[0]}' target='_blank' class='button'></a>`);


new mapboxgl.Marker(o).setLngLat(t.geometry.coordinates).setPopup(new mapboxgl.Popup({offset:25}).setHTML(r)).addTo(map)}}),e._map.addSource("markerspec",{type:"geojson",data:e._geojson});var t,o,r=e._map.getStyle().layers.filter(function(e){return"building"===e["source-layer"]}),i=r[r.length-1].id;e.options.style.layers||(e.options.style.layers=(t=e._sourceName,o=e.options.style,[{id:`${t} fill`,type:"fill",source:`${t}`,paint:{"fill-color":o.color,"fill-opacity":o.opacity},filter:["==","$type","Polygon"]},{id:`${t} line`,type:"line",source:`${t}`,paint:{"line-color":o.color,"line-width":o.size,"line-opacity":o.opacity}},{id:`${t} circle`,type:"circle",source:`${t}`,paint:{"circle-color":o.color,"circle-radius":o.size,"circle-opacity":o.opacity}},{id:`${t} symbol`,type:"symbol",source:`${t}`,





layout:{"text-field":o.label,"text-size":o.labelSize,"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-anchor":"top","icon-image":"{icon}-25","road-label-navigation":!0}}]));var n=function(e,t,o){for(var r=0;r<e.layers.length;r++)






{var i=e.layers[r];if(o===i.id){var n=e.layers.slice(0,r).concat(t).concat(e.layers.slice(r));return Object.assign({},e,{layers:n})}}return e}(e._map.getStyle(),e.options.style.layers,i);e._map.setStyle(n),e._toggle._input.onkeypress=(t=>{if("Enter"===t.key)return e.options.query=e._toggle._input.value,e._updateMap(),!0})}this._rendered=!0}this.options.enabled?(this._toggleLayers(),this._toggle.setMapIcon()):(this._toggleLayers(),this._toggle.setPluginIcon())},r.prototype._updateMap=function(){this.options.enabled&&this.options._geojson&&console.log("Nothing to update")},i.prototype.setPluginIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-markers"},i.prototype.setMapIcon=function(){this._btn.className="mapboxgl-ctrl-icon mapboxgl-ctrl-map"},r.prototype._toggleLayers=function(){var e=this.options.enabled;Array.from(document.getElementsByClassName("markerspec marker")).forEach(function(t){t.style.display=e?"inline":"none"});var t=new RegExp(this._sourceName),o=this._map.getStyle();o.layers.forEach(function(o){t.test(o.source)&&(o.layout=o.layout||{},o.layout.visibility=e?"visible":"none")}),this._map.setStyle(o),this._toggle._input.style.display=e?"inline":"none"},void 0!==t&&void 0!==t.exports?window.MapboxMarkers=r:t.exports=r},{}]},{},[1]); 




</script>
  
  




<script>

var exampleGeojson = {
  "type": "FeatureCollection",
  "features": [

   
   
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "small",
        "marker-symbol": "",
        "title": "No Style",
                
                "maxzoom": 10,
                "minzoom": 20
                
        
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
         37.173945684286,
          55.97705374444533
        ]
      }
      
       
      
    },
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-1.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17402267754301,55.97734208685483
        ]
        }

        },
        
        
        
        
        
        
        
        
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-2.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174031569343356,55.97740876134685
        ]
        }

        },
        
        
        
        
        
      
      
      
              {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-3.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17404794726758,55.977454565337325
        ]
        }

        },
      
      
      
      
      
      
      
      
      
      
      
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-5.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17411452031047,55.97744897092298
        ]
        }

        },
      
      
      
      
        
    
    
    
    
    
    
    
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-6.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174177753615595,55.97743693054554
        ]
        }

        },
        
        
        
        
        
        
        
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/k-3.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17402875158575,55.97710596809998
        ]
        }

        },
        
        
        
        
    
    
    
    
    
    
    
    
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/k-4.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17402127300704,55.97738253515081
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-17.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17399981915969,55.97727658620613
        ]
        }

        },
        
        
        
        
        
        
                {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-7.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174151814772245,55.977405256853444
        ]
        }

        },
    
    
    
    
    
    
    
     
     
     
     
     
                     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-8.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17414278443073,55.97737218650559
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
    
    
    
    
                        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-9.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17413172686224,55.977330833110955
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
                            {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-10.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17411937320139,55.97728516961206
        ]
        }

        },
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-11.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17409643805479,55.97722017333308
        ]
        }

        },
        
        
        
        
        
        
        
         {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-12.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17407892718086,55.97715622404155
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
             {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-13.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17404257530973,55.9770359496456
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-14.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17394447947481,55.977044959494606
        ]
        }

        },
    
    
    
        
        
        
        
        
        
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-15.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17395275886895,55.977144055712756
        ]
        }

        },
       
        
        
        
        
        
        
        
        
        
             {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/14-16.svg",
        "title": "Rocket launching spot",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.1739751767891,55.97720024823093
        ]
        }

        },
        
        
        
        
        
        
        
        
        
        
        
        
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/toilet.svg",
        "title": "k3",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.1739214358588,55.97707402527169
        ]
        }

        },
        
        
        
        
        
   
   
   
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/toilet.svg",
        "title": "k4",
                
           
      },
     
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17400813814049,55.97735932135288
        ]
        }

        },
   
   
   
   
   
   
        

      



    
    
    
    
       
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "small",
        "marker-symbol": "",
        "title": "No Style",
                
           
                
        
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
         37.173945684286,
          55.97705374444533
        ]
      }
    },
    

    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/pg.svg",
        "title": "Rocket launching spot",
                
             
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17424921895804,55.97719261466261
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "small",
        "marker-symbol": "",
        "title": "No Style",
                
                "maxzoom": 10,
                "minzoom": 20
                
        
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
         37.173945684286,
          55.97705374444533
        ]
      }
    },
    

    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/ogne.svg",
        "title": "Огнетушитель К 3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17393733513461,55.97710711689581
        ]
        }

        },
    
    
    
    
    
    
    
    
    
   
   
   
   
   
   
         
        {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "small",
        "marker-symbol": "",
        "title": "No Style",
                
                "maxzoom": 10,
                "minzoom": 20
                
        
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
         37.173945684286,
          55.97705374444533
        ]
      }
    },
    

    
     
    
   
   {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/buttonfare.svg",
        "title": "Пожарная кнопка К 4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17406104519546,55.977392413504845
        ]
        }

        },

   
   
   
   
   
   
   
    
         {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/wave.svg",
        "title": "Пожарный (динамик) k4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17406246231633,55.97732800487847
        ]
        }

        },
    
    
    
    
      {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/wave.svg",
        "title": "Пожарный (динамик) k3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174080425032344,55.977127459597
        ]
        }

        },
    
    
    
   
   
   
   
   
   
   
   
   
            {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/7.svg",
        "title": "Пожарный шланг k4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174035451098916,55.977391709643825
        ]
        }

        },
        
        
        
        
        
        
         {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/7.svg",
        "title": "Пожарный шланг k3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17392887258575,55.97710888001177
        ]
        }

        },
   
   
   
   
   
   
   
   
   {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/5.svg",
        "title": "Разметка для пожарного автомобиля",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174254305715294,55.97721001931154
        ]
        }

        },
    
    

    
    
    
    
    
         {
      "type": "Feature",

      
      
      
      
      
      
       "properties": {
        
        
      "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/8.svg",
        "title": "Аптечка",
      },
      
      


      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17421449624442,55.97755720758096
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/9.svg",
        "title": "Бомбоубежище",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.174230412299494,55.97756259720268
        ]
        }

        },
    
    
    
    
    
  
  
  
  
  
  
  
  
   
   {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/4.svg",
        "title": "Эвакуационный выход K4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17405080041851,55.97737075851455
        ]
        }

        },
        
        
        
        
        
        
        
        
        
        
        
        
               {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/buttonfare.svg",
        "title": "Пожарная кнопка К 3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
        
  37.17395096420728,55.97710842126787
        

        ]
        }

        }, 
        
        
        
        
        
        
        
        
        
        
       
       
       
       
       
       
  
       {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/ogne.svg",
        "title": "Огнетушитель К 4",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17404417839646,55.977389404085784
        ]
        }

        }, 
       
        
        
        
        
        

  
  
         
  
  
    
    
    
    
    
    

  
    
    
  
       
        
        
        
        
        
        
        
        
        
        
         {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/4.svg",
        "title": "Эвакуационный выход К 3",
                
                "maxzoom": 10,
                "minzoom": 20
      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.173957846693156,55.977086982526544
        ]
        }

        },
        
        
        
        
        
        
        
        
       
        
        
        
        
        

  
  
          {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/10.svg",
        
        "title": "Информаци к3",

      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17396370884546,55.977124297752994
        ]
        }

        },
    
    
    
    
    
    
    
    
    
    
     {
      "type": "Feature",
      "properties": {
        "marker-color": "#7e7e7e",
        "marker-size": "medium",
        "marker-symbol": "",
        "marker-image": "https://www.emiia.ai/icon/menu/10.svg",
        
        "title": "Информаци к4",

      },

      
      "geometry": {
        "type": "Point",
        "coordinates": [
37.17408230964088,55.97738738250871
        ]
        }

        },
    
    
    
   

    
    
    
    
    
   
  ]
};












</script> 
    
    

    
    
    
    
    
    
    
    
    
    
    
    <style>
#marker {
background-image: url('https://analytics.emiia.ai/svg/pinnewwhite.svg');
background-size: cover;
width: 110px;  height: 48px;
border-radius: 0%;
cursor: pointer;

}
 
.mapboxgl-popup {
max-width: 200px;
}














.ele-info {
          position: absolute;
   
background: transparent;
color: #3d85c6;

bottom: 20px;
left: 220px;
padding: 5px 10px;
margin: 0;
font-size: 11px;
line-height: 11px;
border-radius: 12px;


 font-family: 'Montserrat', montserrat !important; 

      }


#map canvas {
cursor: crosshair;
}




.mapboxgl-canvas-container {
  cursor: url(https://www.emiia.ai/icon/cursor1.svg), auto !important;}





.calculation-box {
height: 30px;
width: 350px;
position: absolute;
bottom: 25px;
left: 0px;
background-color: transparent;
padding: 9.5px;

font-family: 'Montserrat', montserrat !important; 
}
 
p {
font-family: 'Montserrat';
margin: 0px;
font-size: 10px;
}






#button778 {
    width: 41px;
    height: 43px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: white;
    cursor: pointer;
    font: 13px/20px Montserrat, montserrat;
    color: #383838;
    border-radius: 12px;
    
    
   border-bottom:0px 0px 1px 2px rgba(0, 0, 0, 0.1) !important;
   box-shadow: 0 0 10px 0.1px rgba(0, 0, 0, 0.1) !important;
   

   
              background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4NCiAgPHRpdGxlPtCX0L3QsNGH0LrQuCDRgNCw0LTQsNGAINC4INGC0L88L3RpdGxlPg0KICA8cGF0aCBkPSJNMTkuMDcsNC4wOEExLjI0LDEuMjQsMCwwLDAsMTcuODYsNEwxMC4wNyw3Ljc2YTEuMjUsMS4yNSwwLDAsMC0uNzEsMS4xMlYxMS41TDQsMTMuNGExLjI0LDEuMjQsMCwwLDAtLjgzLDEuMTdWMjBhMS4yNSwxLjI1LDAsMCwwLDEuMjUsMS4yNUgxNC42NmwtLjEyLS4wOGExLjc0LDEuNzQsMCwwLDEtLjQ4LTIuMi40LjQsMCwwLDAsMC0uMjJIMTEuODZWOS42N2w1LjI5LTIuNTV2My4wNmExLjgyLDEuODIsMCwwLDEsLjkxLjcxLjQyLjQyLDAsMCwwLC4zNC4yLjQuNCwwLDAsMCwuMzMtLjE4LDEuNjYsMS42NiwwLDAsMSwuOTItLjczVjUuMTNBMS4yNSwxLjI1LDAsMCwwLDE5LjA3LDQuMDhaTTkuMzYsMTguNzhINS42OVYxNS40NWwzLjY3LTEuMzFaIiBzdHlsZT0iZmlsbDogIzZiNmI2OSIvPg0KICA8cGF0aCBkPSJNMjAuMjEsMTEuMjhhLjYuNiwwLDAsMSwuMjMsMCw1LjA4LDUuMDgsMCwwLDEsMS4wOS42NC41Ni41NiwwLDAsMSwuMTQuNzFBMS42LDEuNiwwLDAsMCwyMywxNWEuNTYuNTYsMCwwLDEsLjU0LjQ3LDUuMTEsNS4xMSwwLDAsMSwwLDEuMjkuNTUuNTUsMCwwLDEtLjU0LjQ2LDEuNjEsMS42MSwwLDAsMC0xLjM1LDIuMzIuNTQuNTQsMCwwLDEtLjE0LjcsNS4wOSw1LjA5LDAsMCwxLTEuMTEuNjUuNTEuNTEsMCwwLDEtLjIsMCwuNTcuNTcsMCwwLDEtLjQ4LS4yNywxLjYxLDEuNjEsMCwwLDAtMi42OSwwLC41OC41OCwwLDAsMS0uNDguMjguNTEuNTEsMCwwLDEtLjIsMCw1LjA5LDUuMDksMCwwLDEtMS4xMS0uNjUuNTQuNTQsMCwwLDEtLjE0LS43LDEuNjEsMS42MSwwLDAsMCwwLTEuNTIsMS41OCwxLjU4LDAsMCwwLTEuMzEtLjguNTUuNTUsMCwwLDEtLjU0LS40Niw2LDYsMCwwLDEsMC0xLjI5LjU2LjU2LDAsMCwxLC41NC0uNDcsMS41OSwxLjU5LDAsMCwwLDEuMzUtMi4zMi41NS41NSwwLDAsMSwuMTQtLjcxLDQuOTMsNC45MywwLDAsMSwxLjExLS42NC41My41MywwLDAsMSwuMiwwLC41Ny41NywwLDAsMSwuNDguMjcsMS42LDEuNiwwLDAsMCwyLjcyLDAsLjQ5LjQ5LDAsMCwxLC40NC0uMjNtLTEuODEsNi45YTIuMDcsMi4wNywwLDEsMC0yLjA3LTIuMDcsMi4wNywyLjA3LDAsMCwwLDIuMDcsMi4wNyIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCjwvc3ZnPg0K);
       
background-size: 23px 23px !important;
    background-position: 8.5px 9px !important;
    background-repeat: no-repeat !important;
       
   

    
    position: fixed; bottom: 1.9em; right: 1.15em; z-index: +200000;
   
   

    
}












#button779 {
    width: 59px;
    height: 43px;
    display: block;
    padding: 0px;
    outline: none;
    border: 0;
    
    
    background-repeat: no-repeat;
   
    background-color: transparent;
    cursor: pointer;
    font: 13px/20px Montserrat, montserrat;
    color: #383838;
    border-radius: 2px 12px 12px 2px;
    
    
   border-bottom:0px 0px 1px 2px rgba(0, 0, 0, 0.1) !important;
   box-shadow: 0 0 10px 0.1px rgba(0, 0, 0, 0.1) !important;
   

   
       background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4NCiAgPHRpdGxlPtCX0L3QsNGH0LrQuCDRgNCw0LTQsNGAINC4INGC0L88L3RpdGxlPg0KICA8cGF0aCBkPSJNMTQuOTIsMTkuNTdBMS4yNSwxLjI1LDAsMCwxLDE0LDE5LjJMOC4yMiwxMy4zOGExLjI1LDEuMjUsMCwwLDEsMC0xLjc3TDE0LDUuOEExLjI1LDEuMjUsMCwwLDEsMTUuOCw3LjU2TDEwLjg3LDEyLjVsNC45NCw0Ljk0YTEuMjUsMS4yNSwwLDAsMS0uODgsMi4xM1oiIHN0eWxlPSJmaWxsOiAjM2Q4NWM2Ii8+DQo8L3N2Zz4NCg==);
       
background-size: 25px 25px !important;
    background-position: 23px 10px !important;
    background-repeat: no-repeat !important;
       
   

    
    position: fixed; bottom: 8.8em; left: 0.0em; z-index: +200000;
   
   

    
}


















.measure-ctrl-group .mapboxgl-ctrl-icon {
    background-size: 24px;
    background-repeat: no-repeat;
    background-position: center;
    background-position: 8.5px 10px !important;
}


.measure-ctrl-group .mapboxgl-ctrl-measure-off{
  
  background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4NCiAgPHRpdGxlPtCX0L3QsNGH0LrQuCDRgNCw0LTQsNGAINC4INGC0L88L3RpdGxlPg0KICA8cGF0aCBkPSJNMTIuNSwyMC40M2gwYTIuMTIsMi4xMiwwLDAsMS0xLjc2LS45M2wtMS0xLjM5SDguMzRBMy41MywzLjUzLDAsMCwxLDQuODEsMTQuNlY4LjM5QTMuNTMsMy41MywwLDAsMSw4LjM0LDQuODdoOC4zM2EzLjUyLDMuNTIsMCwwLDEsMy41MiwzLjUyVjE0LjZhMy41MiwzLjUyLDAsMCwxLTMuNTIsMy41MkgxNS4yM2wtMSwxLjRBMi4xMiwyLjEyLDAsMCwxLDEyLjUsMjAuNDNabS0uMy0yLjM0aDBabS42LDBoMFpNOC4zNCw3LjM3YTEsMSwwLDAsMC0xLDFWMTQuNmExLDEsMCwwLDAsMSwxaDIuMDhhMS4yNSwxLjI1LDAsMCwxLDEsLjUzbDEuMDUsMS41MSwxLjA1LTEuNTFhMS4yNSwxLjI1LDAsMCwxLDEtLjUzaDIuMDlhMSwxLDAsMCwwLDEtMVY4LjM5YTEsMSwwLDAsMC0xLTFaIiBzdHlsZT0iZmlsbDogIzZiNmI2OSIvPg0KICA8ZyBpZD0iZG90Ij4NCiAgICA8cGF0aCBkPSJNMTIuNTEsOC43MmEzLDMsMCwwLDEsMS44LjU5LDMsMywwLDEsMS0xLjgtLjU5IiBzdHlsZT0iZmlsbDogIzZiNmI2OSIvPg0KICA8L2c+DQo8L3N2Zz4NCg==);
  
  
  
  background-size: 26.5px 26.5px !important;
  
  
}









.measure-ctrl-group .mapboxgl-ctrl-measure-on {
  background-image: url('https://www.emiia.ai/icon/menu/rule-c.svg');
}








.mapboxgl-ctrl-map {
    background-image: url(https://www.emiia.ai/icon/h1.svg);
    background-size: 28px 28px !important;
    background-position: 7.7px 8.2px !important;
    background-repeat: no-repeat !important;
}













.mapboxgl-ctrl-traffic {
    background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4NCiAgPHRpdGxlPtCX0L3QsNGH0LrQuCDRgNCw0LTQsNGAINC4INGC0L88L3RpdGxlPg0KICA8ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIj4NCiAgICA8cGF0aCBkPSJNMTQuMTgsMTAuNXY5LjA5YS41MS41MSwwLDAsMS0uNS41aC0yYS41LjUsMCwwLDEtLjUtLjVWMTIuMzFoLS45MmEuNS41LDAsMCwxLS41LS41VjEwLjVhLjUuNSwwLDAsMSwuNS0uNWgzLjQ2QS41LjUsMCwwLDEsMTQuMTgsMTAuNVoiIHN0eWxlPSJmaWxsOiAjNmI2YjY5Ii8+DQogICAgPHBhdGggZD0iTTE0LjE4LDYuNTR2MmEuNS41LDAsMCwxLS41LjVoLTJhLjUuNSwwLDAsMS0uNS0uNXYtMmEuNS41LDAsMCwxLC41LS41aDJBLjUuNSwwLDAsMSwxNC4xOCw2LjU0WiIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCiAgPC9nPg0KPC9zdmc+DQo=);
    
    
    
    background-size: 27px 27px !important;

    background-repeat: no-repeat !important;

background-position: 8px 9px !important;

}









.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon {
    background-image: url(https://www.emiia.ai/icon/compass.svg);
    background-size: 16px 16px !important;
    background-position: 13.5px 13.5px !important;
    background-repeat: no-repeat !important;
}












.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon {
    background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0i0YDQtdC30LXRgNCyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOSIgaGVpZ2h0PSIyOSIgdmlld0JveD0iMCAwIDI5IDI5Ij4KICA8dGl0bGU+0LzQtdGB0YLQvtC/0L7Qu9C+0LbQtdC90LjQtTwvdGl0bGU+CiAgPGNpcmNsZSBjeD0iMTQuNzEiIGN5PSIxNC41MiIgcj0iMi43NyIgc3R5bGU9ImZpbGw6ICMzMzMiLz4KICA8Y2lyY2xlIGN4PSIxNC43MSIgY3k9IjE0LjUyIiByPSIyLjc3IiBzdHlsZT0iZmlsbDogIzNEODVDNiIvPgogIDxwYXRoIGQ9Ik0yMS41OCwxMy42NEgxOS42NWEuMy4zLDAsMCwxLS4yOS0uMjMsNC44LDQuOCwwLDAsMC0zLjU1LTMuNTQuMy4zLDAsMCwxLS4yMy0uMjlWNy42NmEuMzEuMzEsMCwwLDEsLjMyLS4zaDBhNy4yNiw3LjI2LDAsMCwxLDYsNS45NC4zMS4zMSwwLDAsMS0uMjguMzRaIiBzdHlsZT0iZmlsbDogIzNEODVDNiIvPgogIDxwYXRoIGQ9Ik0yNS4yOCwxMy42NGgtMS45YS4yOS4yOSwwLDAsMS0uMjktLjI2LDguNDYsOC40NiwwLDAsMC03LjI1LTcuMjQuMjkuMjksMCwwLDEtLjI2LS4yOVY0YS4zMS4zMSwwLDAsMSwuMzItLjNoMGExMSwxMSwwLDAsMSw5LjY3LDkuNjYuMzEuMzEsMCwwLDEtLjI5LjMzWiIgc3R5bGU9ImZpbGw6ICMzRDg1QzYiLz4KICA8cGF0aCBkPSJNMjEuOTQsMTUuNjdhNy4zLDcuMywwLDAsMS02LDYuMDUuMzEuMzEsMCwwLDEtLjM1LS4zVjE5LjQ4YS4yOS4yOSwwLDAsMSwuMjMtLjI5LDQuODEsNC44MSwwLDAsMCwzLjU2LTMuNjMuMy4zLDAsMCwxLC4yOS0uMjRoMS45M0EuMzEuMzEsMCwwLDEsMjEuOTQsMTUuNjdaIiBzdHlsZT0iZmlsbDogIzNEODVDNiIvPgogIDxwYXRoIGQ9Ik0xMy45NCwxOS41MXYxLjk0YS4zMS4zMSwwLDAsMS0uMzUuMyw3LjMsNy4zLDAsMCwxLTYuMTEtNi4wOC4zMS4zMSwwLDAsMSwuMy0uMzVIOS43MmEuMjkuMjksMCwwLDEsLjI5LjI0LDQuODEsNC44MSwwLDAsMCwzLjY5LDMuNjZBLjI5LjI5LDAsMCwxLDEzLjk0LDE5LjUxWiIgc3R5bGU9ImZpbGw6ICMzRDg1QzYiLz4KICA8cGF0aCBkPSJNMTMuOTQsNy41OVY5LjUzYS4zLjMsMCwwLDEtLjI0LjI5QTQuOCw0LjgsMCwwLDAsMTAsMTMuNDFhLjI5LjI5LDAsMCwxLS4yOS4yM0g3LjhhLjMxLjMxLDAsMCwxLS4zLS4zNSw3LjMxLDcuMzEsMCwwLDEsNi4wOS02QS4zMS4zMSwwLDAsMSwxMy45NCw3LjU5WiIgc3R5bGU9ImZpbGw6ICMzRDg1QzYiLz4KPC9zdmc+Cg==);






  background-size: 28px 28px !important;

  background-repeat: no-repeat !important;

  background-position: 8px 10px !important;
        
    
    


    
    
}

































</style>



    
    
    
    
    
    
    
      <style>
  body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0;  width: 100%; }
    
    </style>
    
    
    
    
    
    
    
    
    <script src='https://mapbox.github.io/mapbox-gl-traffic/mapbox-gl-traffic.js'></script>
        




    







    
        
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v1.4.0/mapbox-gl-draw.css" type="text/css">

<script src='https://www.emiia.ru/relise/draw.js'></script>


















    
    
    
    
    
    
 <style>   
    
    
    
    
    
    
    .mapbox-gl-draw_combine {
    background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4NCiAgPHRpdGxlPtCX0L3QsNGH0LrQuCDRgNCw0LTQsNGAINC4INGC0L88L3RpdGxlPg0KICA8cGF0aCBkPSJNMjEsMTguNTFhMi4xMywyLjEzLDAsMCwxLTIuMTMsMi4xNCwyLjEsMi4xLDAsMCwxLTEuNzMtLjg5SDguNTVhMi4xLDIuMSwwLDAsMS0xLjcyLjg5LDIuMTQsMi4xNCwwLDAsMS0xLjI4LTMuODVoMFY4LjJhMi4wOSwyLjA5LDAsMCwxLS44OC0xLjcyQTIuMTMsMi4xMywwLDAsMSw2LjgzLDQuMzRhMi4xMSwyLjExLDAsMCwxLDEuMjYuNDEsMi4xNiwyLjE2LDAsMCwxLC40OS41MUgxNS44bC0yLjUsMi41SDguNTJhMS44OCwxLjg4LDAsMCwxLS40NS40NHY4LjU4aDBhMi4wNSwyLjA1LDAsMCwxLC40Ni40N2g4LjU2YTIuMTMsMi4xMywwLDAsMSwuNDQtLjQ2aDB2LTQuN2wyLjUtMi41djcuMTloMEEyLjE1LDIuMTUsMCwwLDEsMjEsMTguNTFaIiBzdHlsZT0iZmlsbDogIzZiNmI2OSIvPg0KICA8Zz4NCiAgICA8cGF0aCBkPSJNMjEuODIsNi40NSwyMC43Niw3LjUxLDE3Ljg1LDQuNTlsMS4wNS0xLjA1YTEuMDcsMS4wNywwLDAsMSwxLjUxLDBsMS40LDEuNEExLjA3LDEuMDcsMCwwLDEsMjEuODIsNi40NVoiIHN0eWxlPSJmaWxsOiAjNmI2YjY5Ii8+DQogICAgPHBhdGggZD0iTTE3LjI5LDUuMTUsMjAuMiw4LjA3bC02LjM2LDYuMzZhMSwxLDAsMCwxLS41LjI3TDExLDE1LjI2YS43MS43MSwwLDAsMS0uODQtLjg0bC41NS0yLjRhMS4wOCwxLjA4LDAsMCwxLC4yNy0uNVoiIHN0eWxlPSJmaWxsOiAjNmI2YjY5Ii8+DQogIDwvZz4NCjwvc3ZnPg0K);
    
    background-size: 24px 24px !important;
    background-position: 9.2px 10px !important;
    
}






.mapbox-gl-draw_uncombine {
    background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4NCiAgPHRpdGxlPtCX0L3QsNGH0LrQuCDRgNCw0LTQsNGAINC4INGC0L88L3RpdGxlPg0KICA8cGF0aCBkPSJNMTkuODgsOC40NSwxNyw1LjU2YTIuMjcsMi4yNywwLDAsMC0xLjU5LS42Nkg2Ljk0QTIuMjQsMi4yNCwwLDAsMCw0LjcsNy4xM1YxOC41MWEyLjI0LDIuMjQsMCwwLDAsMi4yNCwyLjI1SDE4LjNhMi4yNCwyLjI0LDAsMCwwLDIuMjQtMi4yNVYxMEEyLjE4LDIuMTgsMCwwLDAsMTkuODgsOC40NVpNMTAuMyw3LjM5aDEuODJ2MUgxMC4zWm00LjA4LDEwLjg2SDEwLjg2VjE1LjQxaDMuNTJabTMuNjYsMEgxNi44OHYtMy4yYTIuMTQsMi4xNCwwLDAsMC0yLjE1LTIuMTRIMTAuNWEyLjE0LDIuMTQsMCwwLDAtMi4xNCwyLjE0djMuMkg3LjJWNy4zOWguNlY4Ljc2YTIuMTIsMi4xMiwwLDAsMCwyLjExLDIuMTFIMTIuNWEyLjEyLDIuMTIsMCwwLDAsMi4xMi0yLjExVjcuMzloLjY3TDE4LDEwLjE0WiIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCjwvc3ZnPg0K);
    
    
    
    background-size: 26px 26px !important;
background-position: 9.07px 9px !important;
    
}

    
    
    
    
.mapbox-gl-draw_polygon {
    background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4NCiAgPHRpdGxlPtCX0L3QsNGH0LrQuCDRgNCw0LTQsNGAINC4INGC0L88L3RpdGxlPg0KICA8ZyBpZD0iZG90Ij4NCiAgICA8cGF0aCBkPSJNMTIuODMsOS40N2EzLDMsMCwwLDEsMS44LjU5LDMsMywwLDEsMS0xLjgtLjU5WiIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCiAgPC9nPg0KICA8Zz4NCiAgICA8cGF0aCBkPSJNMTcuMTEsMTcuMjZIOC41NWEyLjExLDIuMTEsMCwwLDEsMCwyLjVIMTcuMWEyLjA4LDIuMDgsMCwwLDEtLjQxLTEuMjVBMiwyLDAsMCwxLDE3LjExLDE3LjI2WiIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCiAgICA8cGF0aCBkPSJNMjEsMTguNTFhMi4xMywyLjEzLDAsMCwxLTIuMTMsMi4xNCwyLjEsMi4xLDAsMCwxLTEuNzMtLjg5LDIuMDgsMi4wOCwwLDAsMS0uNDEtMS4yNSwyLDIsMCwwLDEsLjQyLTEuMjUsMi4xMywyLjEzLDAsMCwxLC40NC0uNDZsMCwwVjguMmEyLjA4LDIuMDgsMCwwLDEtLjQ1LS40NEg4LjUyYTEuODQsMS44NCwwLDAsMS0uNDQuNDR2OC41OGEwLDAsMCwwLDAsMCwwLDIuMDUsMi4wNSwwLDAsMSwuNDYuNDcsMi4xNCwyLjE0LDAsMCwxLTEuNzIsMy4zOSwyLjE0LDIuMTQsMCwwLDEtMS4yOC0zLjg1bDAsMFY4LjJhMi4xMiwyLjEyLDAsMCwxLS44OS0xLjczQTIuMTMsMi4xMywwLDAsMSw2LjgzLDQuMzRhMi4xMSwyLjExLDAsMCwxLDEuMjYuNDEsMi4xNiwyLjE2LDAsMCwxLC40OS41MWg4LjQ5YTIuMjgsMi4yOCwwLDAsMSwuNDgtLjUsMi4xNiwyLjE2LDAsMCwxLDEuMjgtLjQyLDIuMTEsMi4xMSwwLDAsMSwxLjI2LjQxLDIuMTQsMi4xNCwwLDAsMSwwLDMuNDV2OC41OGEwLDAsMCwwLDAsMCwwQTIuMTUsMi4xNSwwLDAsMSwyMSwxOC41MVoiIHN0eWxlPSJmaWxsOiAjNmI2YjY5Ii8+DQogIDwvZz4NCjwvc3ZnPg0K);
    
    
background-size: 25px 25px !important;


 background-position: 9.3px 10px !important;
    

}






.mapbox-gl-draw_line {
    background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4NCiAgPHRpdGxlPtCX0L3QsNGH0LrQuCDRgNCw0LTQsNGAINC4INGC0L88L3RpdGxlPg0KICA8cGF0aCBkPSJNMTkuOCwyMC4yOUg2LjcyQTEuMjUsMS4yNSwwLDAsMSw1LjQ3LDE5VjZBMS4yNSwxLjI1LDAsMCwxLDcuNiw1LjA4bDMuNjksMy42OWExLjI1LDEuMjUsMCwwLDEsLjM3Ljg4VjE0LjFoNC40NWExLjI1LDEuMjUsMCwwLDEsLjg4LjM3bDMuNjksMy42OWExLjI1LDEuMjUsMCwwLDEtLjg4LDIuMTNaTTgsMTcuNzloOC44MUwxNS41OSwxNi42SDEwLjQxYTEuMjUsMS4yNSwwLDAsMS0xLjI1LTEuMjVWMTAuMTdMOCw5WiIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCjwvc3ZnPg0K);
    
    
    
     background-size: 23px 23px !important;
    background-position: 10px 12px !important;
}







.mapbox-gl-draw_point {
    background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4KICA8dGl0bGU+0JfQvdCw0YfQutC4INGA0LDQtNCw0YAg0Lgg0YLQvzwvdGl0bGU+CiAgPGc+CiAgICA8cGF0aCBkPSJNMTguNTUsMTEuOWExLjQ1LDEuNDUsMCwwLDEtMS40NS0xLjQ1VjguMWEuMTkuMTksMCwwLDAtLjE5LS4xOUgxNC41NWExLjQ1LDEuNDUsMCwwLDEsMC0yLjloMi4zNkEzLjEsMy4xLDAsMCwxLDIwLDguMXYyLjM2QTEuNDUsMS40NSwwLDAsMSwxOC41NSwxMS45WiIgc3R5bGU9ImZpbGw6ICMzRDg1QzYiLz4KICAgIDxwYXRoIGQ9Ik02LjQ1LDExLjlBMS40NSwxLjQ1LDAsMCwxLDUsMTAuNDVWOC4xQTMuMSwzLjEsMCwwLDEsOC4wOSw1aDIuMzZhMS40NSwxLjQ1LDAsMCwxLDAsMi45SDguMDlhLjE5LjE5LDAsMCwwLS4xOS4xOXYyLjM2QTEuNDUsMS40NSwwLDAsMSw2LjQ1LDExLjlaIiBzdHlsZT0iZmlsbDogIzNEODVDNiIvPgogICAgPHBhdGggZD0iTTE2LjkxLDIwSDE0LjU1YTEuNDUsMS40NSwwLDEsMSwwLTIuOWgyLjM2YS4xOS4xOSwwLDAsMCwuMTktLjE5VjE0LjU1YTEuNDUsMS40NSwwLDAsMSwyLjksMFYxNi45QTMuMSwzLjEsMCwwLDEsMTYuOTEsMjBaIiBzdHlsZT0iZmlsbDogIzNEODVDNiIvPgogICAgPHBhdGggZD0iTTEwLjQ1LDIwSDguMDlBMy4xLDMuMSwwLDAsMSw1LDE2LjlWMTQuNTVhMS40NSwxLjQ1LDAsMCwxLDIuOSwwVjE2LjlhLjE5LjE5LDAsMCwwLC4xOS4xOWgyLjM2YTEuNDUsMS40NSwwLDAsMSwwLDIuOVoiIHN0eWxlPSJmaWxsOiAjM0Q4NUM2Ii8+CiAgPC9nPgogIDxnIGlkPSJkb3QiPgogICAgPHBhdGggZD0iTTEyLjUxLDkuNjRhMi44LDIuOCwwLDAsMSwxLjY4LjU2LDIuODQsMi44NCwwLDEsMS0xLjY4LS41NiIgc3R5bGU9ImZpbGw6ICMzRDg1QzYiLz4KICA8L2c+Cjwvc3ZnPgo=);
    
    
    
    background-size: 27px 27px !important;


  background-position: 8.5px 10px !important;
        
}




.mapbox-gl-draw_trash {
    background-image: url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNSIgaGVpZ2h0PSIyNSIgdmlld0JveD0iMCAwIDI1IDI1Ij4NCiAgPHRpdGxlPtCX0L3QsNGH0LrQuCDRgNCw0LTQsNGAINC4INGC0L88L3RpdGxlPg0KICA8cGF0aCBkPSJNMjEuMDksMTMuODFhOC41OSw4LjU5LDAsMCwxLTE3LjE3LDAsOC41MSw4LjUxLDAsMCwxLDEuNjMtNSwxLjI1LDEuMjUsMCwwLDEsMiwxLjQ2LDYsNiwwLDAsMC0xLjE2LDMuNTZBNi4wOSw2LjA5LDAsMSwwLDE0LjI4LDh2Ljc2YTEsMSwwLDAsMS0uNTkuOTEsMSwxLDAsMCwxLS40MS4wOSwxLDEsMCwwLDEtLjY2LS4yNEwxMCw3LjIzYTEsMSwwLDAsMS0uMzUtLjc2QTEsMSwwLDAsMSwxMCw1LjcybDIuNjEtMi4yN2ExLDEsMCwwLDEsMS42Ni43NVY1LjRBOC42MSw4LjYxLDAsMCwxLDIxLjA5LDEzLjgxWiIgc3R5bGU9ImZpbGw6ICM2YjZiNjkiLz4NCiAgPHBhdGggZD0iTTE0LjkyLDE0LjQ1QTEuMjUsMS4yNSwwLDAsMSwxNCwxNi41OGExLjIxLDEuMjEsMCwwLDEtLjg4LS4zN2wtLjY0LS42NC0uNjUuNjRhMS4yMSwxLjIxLDAsMCwxLS44OC4zNywxLjI1LDEuMjUsMCwwLDEtLjg5LTIuMTNsLjY1LS42NS0uNjUtLjY0YTEuMjcsMS4yNywwLDAsMSwwLTEuNzcsMS4yNSwxLjI1LDAsMCwxLDEuNzcsMGwuNjUuNjUuNjQtLjY1YTEuMjUsMS4yNSwwLDEsMSwxLjc3LDEuNzdsLS42NS42NFoiIHN0eWxlPSJmaWxsOiAjNmI2YjY5Ii8+DQo8L3N2Zz4NCg==);
    
        
    background-size: 24px 24px !important;
    
    background-position: 9.5px 10px !important;

}









.map-overlay {






position: absolute;


top: -10em; right: 0em; z-index: -100000;






}




 









#slider {
  -webkit-appearance: none;
  appearance: none;
  height: 6px !important;
  width: 99%;
  border-radius: 20em;
  background-color: #6b6b6933;
  outline: none;

 
border: 0.1px solid #f8f9fa;

   
}


#slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 17.0px;
  height: 17.0px;
  border-radius: 42%;
  background: #3D85C6;
  cursor: pointer;
  border: 2.0px solid #f8f9fa;

  

  
}










.mapboxgl-ctrl-top-left .mapboxgl-ctrl {
    margin: 59px 14px -6.5px 13px !important;
}


.mapboxgl-ctrl-bottom-left  .mapboxgl-ctrl {
    margin: 37.5px 14px -33px 13px !important;
}













.mapboxgl-ctrl-top-left {
    left: 12.87em;
    top: 0;
}


</style>








    
    
    
</head>





















<body>



<div class="map-overlay ">


<div class="map-overlay-inner">





<input id="slider" type="range"  class="vranger" min="0" max="100" step="0" value="100">
</div>

</div>





<div id="map"></div>
       

<button id="replay" ></button>


<div class="ele-info">
    
<div>Lng:&nbsp;<span id="lng"></span> Lat:&nbsp;<span id="lat"></span></div>
      
       

<div>Alt:&nbsp;<span id="ele"></span> &nbsp;Hei: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m &nbsp;Dis: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m &nbsp;Spe: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;km &nbsp;</div>














<div class="calculation-box">
<p>SDK/API: <strong>EMIIA.AI MRV (EDM, BIM, RADIO DATA) </strong></p>

<div id="calculated-area">

</div>














<a href="https://remotedesktop.google.com/access/session/2caeba10-ed70-dc23-fa80-bcd569114d7a" title="ALL"><li id="button778" class="button778"></li></a>












 







<span>

<div class="dropdown dropdown-accordion" class="btn btn-outline-primary btn-lg btn-iconed btn-rounded" data-accordion=".accordion12" id="parent" style="position: fixed; top: 0.95em; left: 15.22em; z-index: +200000;" >
  <button  class="btn btn-light dropdown-toggle" class="btn btn-primary"  type="button" data-toggle="dropdown" ></button>
  
  
<ul class="dropdown-menu" role="menu"  >




  
  

   

   



<li role="presentation" style="padding: 0px 0px; color: #6B6B69; "><a role="menuitem" tabindex="-10" href="#" style="padding: 3px 9px;" ><span 
  style="vertical-align: -8.5px; color: #6B6B69; ">
  
  
  
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25">
  <title>Навигация</title>
  <path d="M19.76,10.59A3.77,3.77,0,0,1,16,14.35H9.32a1.26,1.26,0,1,0,0,2.51h5A3.27,3.27,0,0,0,14,18.11a3.47,3.47,0,0,0,.23,1.25h-5a3.76,3.76,0,1,1,0-7.51H16a1.26,1.26,0,0,0,0-2.52H10.72a3.43,3.43,0,0,0,.23-1.25,3.27,3.27,0,0,0-.24-1.25H16A3.77,3.77,0,0,1,19.76,10.59Z" style="fill: #3D85C6"/>
  <path d="M19.69,18.11a2.15,2.15,0,0,1-2.15,2.15,2.14,2.14,0,0,1-1.73-3.4,2.14,2.14,0,0,1,3.88,1.25Z" style="fill: #3D85C6"/>
  <g>
    <path d="M7.46,10.23a2.15,2.15,0,0,1,0-4.29,2.12,2.12,0,0,1,1.74.89,2.08,2.08,0,0,1,.41,1.25,2.17,2.17,0,0,1-2.15,2.15Z" style="fill: #1d1d1b"/>
    <g>
      <path d="M7.46,10.23a2.15,2.15,0,0,1,0-4.29,2.12,2.12,0,0,1,1.74.89,2.08,2.08,0,0,1,.41,1.25,2.17,2.17,0,0,1-2.15,2.15Z" style="fill: #3D85C6"/>
      <path d="M9.61,8.08a2.17,2.17,0,0,1-2.15,2.15,2.15,2.15,0,0,1,0-4.29,2.12,2.12,0,0,1,1.74.89A2.08,2.08,0,0,1,9.61,8.08Z" style="fill: none"/>
    </g>
  </g>
</svg>




</span></a></li>

          
          
          
          <hr>
          
                              
                        
                         <li role="presentation" style="padding: 0px 0px; color: #6B6B69;"><a role="menuitem" tabindex="-10" href="#" style="padding: 3px 9px;"><span 
  style="vertical-align: -8.5px; color: #6B6B69;">
  
  
  
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25">
  <title>Сообщения</title>
  <path d="M20,11v3.22a3.5,3.5,0,0,1-3.48,3.48H11.72a4.09,4.09,0,0,0-2,.55L6.73,20a.88.88,0,0,1-.44.12.82.82,0,0,1-.82-.82V9.37A3.48,3.48,0,0,1,8.95,5.89h6.2a3.87,3.87,0,0,0-.26,1.4A4,4,0,0,0,15,8.39H8.95a1,1,0,0,0-1,1v7l.44-.26a6.62,6.62,0,0,1,3.31-.89H16.5a1,1,0,0,0,1-1V11a3.71,3.71,0,0,0,1.34.24A3.66,3.66,0,0,0,20,11Z" style="fill: #6b6b69"/>
  <g>
    <path d="M20,9.42a2.52,2.52,0,0,1-1.16.29,2.41,2.41,0,0,1-2.43-2.42A2.43,2.43,0,1,1,20,9.42Z" style="fill: #6b6b69"/>
    <path d="M20,9.42a2.52,2.52,0,0,1-1.16.29,2.41,2.41,0,0,1-2.43-2.42A2.43,2.43,0,1,1,20,9.42Z" style="fill: #6b6b69"/>
    <path d="M21.25,7.29A2.43,2.43,0,0,1,20,9.42a2.52,2.52,0,0,1-1.16.29,2.41,2.41,0,0,1-2.43-2.42,2.43,2.43,0,0,1,4.86,0Z" style="fill: red"/>
  </g>
</svg>




</span></a></li>




                   
      <hr>                  

                        
                        




                              
                        
                         <li role="presentation" style="padding: 0px 0px; color: #6B6B69;"><a role="menuitem" tabindex="-10" href="#" style="padding: 3px 9px;"><span 
  style="vertical-align: -8.5px; color: #6B6B69;">
  
  
  
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25">
  <title>Микрофон</title>
  <path d="M12.56,6a1.92,1.92,0,0,1,2,1.82v4a1.92,1.92,0,0,1-2,1.82,1.92,1.92,0,0,1-2-1.82v-4a1.92,1.92,0,0,1,2-1.82m0-2.5A4.42,4.42,0,0,0,8.05,7.85v4a4.42,4.42,0,0,0,4.51,4.32,4.42,4.42,0,0,0,4.51-4.32v-4a4.42,4.42,0,0,0-4.51-4.32Z" style="fill: #3D85C6"/>
  <path d="M20.44,13.21a8,8,0,0,1-6.63,6.32v1.16a1.25,1.25,0,0,1-2.5,0V19.53a8,8,0,0,1-6.63-6.32,1.25,1.25,0,0,1,2.44-.5,5.56,5.56,0,0,0,10.88,0,1.25,1.25,0,0,1,2.44.5Z" style="fill: #3D85C6"/>
</svg>




</span></a></li>

















          <hr>
          
          
          
          
          
          
          
     <li role="presentation" style="padding: 0px 0px; color: #6B6B69;"><a role="menuitem" tabindex="-10" href="#" style="padding: 0px 9px;"><span 
  style="vertical-align: -9.5px; color: #6B6B69;">      
          
          
   

  
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25">
  <title>Динамик</title>
  <path d="M14.88,7.86v9.47l-3.62-2.84-.68-.54H8V11.24h2.54l.68-.54,3.62-2.84m.73-3.29A1.73,1.73,0,0,0,14.53,5L9.72,8.74H6.48a.94.94,0,0,0-.94.94v5.84a.94.94,0,0,0,.94.94H9.72l4.81,3.79a1.73,1.73,0,0,0,1.08.38,1.76,1.76,0,0,0,1.77-1.76V6.34a1.76,1.76,0,0,0-1.77-1.76Z" style="fill: #3D85C6"/>
</svg>




</span></a></li>




                   
      <hr>   





 









 <li role="presentation" style="padding: 0px 0px; color: #6B6B69;"><a role="menuitem" tabindex="-10" href="#" style="padding: 0px 9px;"><span 
  style="vertical-align: -9.5px; color: #6B6B69;">      
          
          
   

  
<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25">
  <title>Настройки</title>
  <g>
    <path d="M18.53,7.52H17.6a2.26,2.26,0,0,0-2.22-1.85H13.69a2.25,2.25,0,0,0-2.21,1.85h-5a1.25,1.25,0,0,0,0,2.5h5a2.24,2.24,0,0,0,2.21,1.84h1.69A2.25,2.25,0,0,0,17.6,10h.93a1.25,1.25,0,0,0,0-2.5ZM15.64,9.61a.26.26,0,0,1-.26.25H13.69a.25.25,0,0,1-.25-.25V7.92a.25.25,0,0,1,.25-.25h1.69a.26.26,0,0,1,.26.25Z" style="fill: #6b6b69"/>
    <path d="M18.53,14.41h-5a2.24,2.24,0,0,0-2.21-1.84H9.58a2.24,2.24,0,0,0-2.21,1.84H6.51a1.25,1.25,0,1,0,0,2.5h.86a2.25,2.25,0,0,0,2.21,1.85h1.69a2.25,2.25,0,0,0,2.21-1.85h5a1.25,1.25,0,1,0,0-2.5Zm-7,2.1a.25.25,0,0,1-.25.25H9.58a.25.25,0,0,1-.25-.25V14.82a.25.25,0,0,1,.25-.25h1.69a.25.25,0,0,1,.25.25Z" style="fill: #6b6b69"/>
  </g>
</svg>





</span></a></li>




                   
      <hr>   

























<script>   
     
 /**
         * Indoor specific
         */

        // Where the indoor layers will be inserted.
        // Here, 'housenum-label' comes from streets-v10

 
    
          var beforeLayerId = 'building-number-label';

    // To avoid unwanted overlap from streets-v10 layers, some layers are hidden when an indoor map is shown
        const layersToHide = ['poi-scalerank4-l15', 'poi-scalerank4-l1', 'poi-scalerank3', 'road-label-small'];




         var customData;

        // Retrieve the geojson from the path and add the map
        fetch('https://www.emiia.ai/json/ofisgeojson-3level.geojson')
            .then(res => res.json())
            .then(geojson => {
                map.indoor.addMap(mapgl_indoor.IndoorMap.fromGeojson(geojson, { beforeLayerId, layersToHide }));
                customData = geojson;
            });

                



 
 
  </script> 





























<script>

	// import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/build/three.module.js';
	// import {OrbitControls} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/controls/OrbitControls.js';
	// import {GLTFLoader} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/loaders/GLTFLoader.js';
    
    
  const monument = [37.174052531268444,55.97741907825389];


	mapboxgl.accessToken = 'pk.eyJ1IjoiZG15dHJpaTE5ODgiLCJhIjoiY2xseHI4cnF4MHBnbTNlbGZ0dm85dmp5bCJ9.R4SOzESaigrXD2_MnzyCSw';
	var map = (window.map = new mapboxgl.Map({
		container: 'map',
        
        
    
    
    
    style: 'mapbox://styles/dmytrii1988/cllxs0vta00kl01qy8irg2g2s',
        
    

		

 zoom: 18,

        maxZoom: 30,
        
        
		center: [37.173764, 55.977719],
        
        
         pitch: 30, // pitch in degrees
   
        
        


        
        
        attributionControl: false,
        
		antialias: true // create the gl context with MSAA antialiasing, so custom layers are antialiased
	}));
    
    
    
    
    
    
    
    
    
    
    
    


    
    
    


    

    
    

    
    
    
 
 
    
   
   
    
   let lng;
      let lat;
      const lngDisplay = document.getElementById('lng');
      const latDisplay = document.getElementById('lat');
      const eleDisplay = document.getElementById('ele');

      const marker = new mapboxgl.Marker({
        'color': '#ff0000ff'
      });

      
      
      
  

      
    map.on('mousemove', (event) => {
    

        // Use the returned LngLat object to set the marker location
        // https://docs.mapbox.com/mapbox-gl-js/api/#lnglat
        marker.setLngLat(event.lngLat).addTo(map);

        lng = event.lngLat.lng;
        lat = event.lngLat.lat;

        getElevation();
      });
      
      

      
      

      async function getElevation() {
        // Construct the API request
        const query = await fetch(
          `https://api.mapbox.com/v4/mapbox.mapbox-terrain-v2/tilequery/${lng},${lat}.json?layers=contour&limit=50&access_token=${mapboxgl.accessToken}`,
          { method: 'GET' }
        );
        if (query.status !== 200) return;
        const data = await query.json();
        // Display the longitude and latitude values
        lngDisplay.textContent = lng.toFixed(11);
        latDisplay.textContent = lat.toFixed(11);
        // Get all the returned features
        const allFeatures = data.features;
        // For each returned feature, add elevation data to the elevations array
        const elevations = allFeatures.map((feature) => feature.properties.ele);
        // In the elevations array, find the largest value
        const highestElevation = Math.max(...elevations);
        // Display the largest elevation value
        eleDisplay.textContent = `${highestElevation} m`;
      }
      
      
    map.on('crosshair', (e) => {
document.getElementById('info').innerHTML =
// `e.point` is the x, y coordinates of the `mousemove` event
// relative to the top-left corner of the map.
JSON.stringify(e.point) +
'<br />' +
// `e.lngLat` is the longitude, latitude geographical position of the event.
JSON.stringify(e.lngLat.wrap());  
      
});  
   
   

   
   
   
   

    
  
    
    
    
  


    



    
    
    
    
    
    


map.addControl(new MapboxMarkers(exampleGeojson), "top-left");










 // Add geolocate control to the map.
map.addControl(
new mapboxgl.GeolocateControl({
positionOptions: {
enableHighAccuracy: true
},
// When active the map will receive updates to the device's location as it changes.
trackUserLocation: true,
// Draw an arrow next to the location dot to indicate which direction the device is heading.
showUserHeading: true
})
);
    
    
    
    
    
  


    

map.addControl(new MapboxTraffic());

    
    
     map.addControl(new mapboxgl.NavigationControl({
  visualizePitch: true,
  showZoom: false
}));  











    



// Add the specific control
        map.addControl(map.indoor.control, 'bottom-right');
 










  
    
     mapboxgl.setRTLTextPlugin('https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js');
map.addControl(new MapboxLanguage({
  defaultLanguage: 'ru'
}));





 
    
    












</script>












<script>


map.on('load', function () {
    map.addSource("geojson2", {
        "type": "geojson",
        "data": 'https://www.emiia.ru/relise/kuka8.geojson'
        
        
        
    });
    

    
    map.addSource("hover2", {"type": "geojson", "data": {"type": "FeatureCollection", "features": []}});
    
    


    map.addLayer({
        "id": "geojson-fills2",
        "type": "fill",
        'minzoom': 0,
        'maxzoom': 24,
        "source": "geojson2",
        "layout": {},
        "paint": {
            "fill-color": "red",
            "fill-opacity": 0.3
        }
    }, 'road-label-navigation');
    
    


    map.addLayer({
        "id": "geojson-borders2",
       'minzoom': 0,
        'maxzoom': 24,
        "type": "line",
        "source": "geojson2",
        "layout": {},
        "paint": {
            "line-color": "red",
            "line-width": 2,
            "fill-opacity": 0.5
        }
    }, 'road-label-navigation');

    map.addLayer({
        "id": "geojson-hover2",
       'minzoom': 0,
        'maxzoom': 24,
        "type": "fill",
        "source": "hover2",
        "layout": {},
        "paint": {
            "fill-color": "red",
            "fill-opacity": 0.5
        }
    }, 'road-label-navigation');

    map.on("mousemove", function(e) {
        var features = map.queryRenderedFeatures(e.point, { layers: ["geojson-fills2"] });
        map.getSource("hover2").setData({"type": "FeatureCollection", "features": features.map(function(f) { return {"type": "Feature", "geometry": f.geometry}})});
    });
});
 


</script>



































    
    
    
    
 

 
 
 
    
    

       <script>




map.on('style.load', function(){
  map.addSource('projects', {
    'type': 'geojson',
    
  
    
    
    'data': elevated_points
  });

  

 map.addLayer({
    'id': 'projects-pulse',
    'type': 'circle',
    'minzoom': 19,
    'source': 'projects',
    "paint": {
            "circle-radius": 15,
            "circle-color": "#3d85c6"
        }
  }, 'road-label-navigation')





  
 
  


 map.addLayer({
    'id': 'projects',
    'type': 'circle',
     'minzoom': 19,
    'source': 'projects',
    "paint": {
            "circle-radius": 8,
            "circle-opacity": 1,
            "circle-color": "#3D85C6"
        }
  }, 'road-label-navigation');
  
  
  




map.setPaintProperty('projects-pulse', 'circle-color', '#3D85C6')
  map.setPaintProperty('projects-pulse', 'circle-radius', 2)
  var framesPerSecond = 1;
  var multiplier = 0.01;
  var opacity = 0.3;
  var circleRadius = 3;

  function pulseMarker(timestamp){
    setTimeout(function() {
      requestAnimationFrame(pulseMarker)
      multiplier += .1;
      opacity -= ( .3/ framesPerSecond );
      circleRadius += ( 2/ framesPerSecond );

      map.setPaintProperty('projects-pulse', 'circle-opacity', opacity)
      map.setPaintProperty('projects-pulse', 'circle-radius', circleRadius)

      if (opacity <= 0.3) {
        opacity = 3;
        circleRadius = 5;
      }

    }, 150 / framesPerSecond );
  }

  pulseMarker(0);

})

</script> 


   


 

   
   
   
   
   
   
   

   
   
   
   
   
  
   
   
   
   
   
   
   
   
   
   









 
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
   
   
   
   
   
   <script type="x-shader/x-vertex" id="vertexShader">

			attribute vec3 center;
			varying vec3 vCenter;

			void main() {

				vCenter = center;

				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			}

		</script>
        
        
        
        
        
        
        
        
        
        

        
       
   
   
   
   
   
   
   


<script>




// parameters to ensure the model is georeferenced correctly on the map
var modelOrigin = [37.17409849995867,55.97737925266699]//[2.318, 48.850];
var modelAltitude = -0;
var modelRotate = [0.57, 0.16, -501.259];










   

var modelAsMercatorCoordinate = mapboxgl.MercatorCoordinate.fromLngLat(
  modelOrigin,
  modelAltitude
);





// transformation parameters to position, rotate and scale the 3D model onto the map
var modelTransform = {
  translateX: modelAsMercatorCoordinate.x,
  translateY: modelAsMercatorCoordinate.y,
  translateZ: modelAsMercatorCoordinate.z,
  rotateX: modelRotate[0],
  rotateY: modelRotate[1],
  rotateZ: modelRotate[2],
  /* Since our 3D model is in real world meters, a scale transform needs to be
   * applied since the CustomLayerInterface expects units in MercatorCoordinates.
   */
  scale: modelAsMercatorCoordinate.meterInMercatorCoordinateUnits()
};


























var THREE = window.THREE;

// configuration of the custom layer for a 3D model per the CustomLayerInterface
var customLayer = {
  id: "3d-model",
  type: "custom",
            wireframe: true,
  renderingMode: "3d",
  onAdd: function (map, gl) {
    this.camera = new THREE.Camera();
    this.scene = new THREE.Scene();
    
    
    
    
     // create two three.js lights to illuminate the model
    var directionalLight = new THREE.DirectionalLight(0xffffff);
    directionalLight.position.set(0, 0, 0).normalize();
    this.scene.add(directionalLight);

    var directionalLight2 = new THREE.DirectionalLight(0xffffff);
    directionalLight2.position.set(0, 0, 0).normalize();
    this.scene.add(directionalLight2);
    
    
    
    

    
    

    // use the three.js GLTF loader to add the 3D model to the three.js scene
    var loader = new THREE.OBJLoader();
    
    
    
    
    
    
    
    
    
    
    
    
     
    
    
   
    
    
    
    
    
    
    
    
    
    
    
    
   
        
      
    
     loader.load(
    "https://www.emiia.ru/relise/kuka8.2.obj", 
    
    
 

      
    (mesh) => {
    
    
    
    
    
    
    
    
     // ?.     
                    
                                mesh.children[0].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFF0000,
          opacity: 0.7,
          transparent: true,
          fog: false
        });
        
        
        
       
        
      

        
        
    
    
    
      this.scene.add(mesh);
      }
    );
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
     loader.load(
    "https://www.emiia.ru/relise/kuka8.2.obj", 
    
    
 

      
    (mesh) => {
    
    
    
    
    
    
    
    
     // ?.     
                    
                                mesh.children[0].material = new THREE.MeshBasicMaterial({
    wireframe: true,
          color: 0xFFFFFF,
          opacity: 0.3,
          transparent: true,
          fog: false
        });
        
        
        
       
        
      

        
        
    
    
    
      this.scene.add(mesh);
      }
    );
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      loader.load(
    "https://www.emiia.ru/relise/kuka8.1.obj", 
    
    
 

      
    (mesh) => {
    
    
    
    
    
    
    
    
     // ?.     
                    
                                mesh.children[0].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xBABABA,
          opacity: 0.8,
          transparent: true,
          fog: false
        });
        
        
        
       
        
      

        
        
    
    
    
      this.scene.add(mesh);
      }
    );
    
    
    
    
    
    
    
    
    
    
    
    
         loader.load(
    "https://www.emiia.ru/relise/kuka8.1.obj", 
    
    
 

      
    (mesh) => {
    
    
    
    
    
    
    
    
     // ?.     
                    
                                mesh.children[0].material = new THREE.MeshBasicMaterial({
    wireframe: true,
          color: 0xFFFFFF,
          opacity: 0.3,
          transparent: true,
          fog: false
        });
        
        
        
       
        
      

        
        
    
    
    
      this.scene.add(mesh);
      }
    );
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
             loader.load(
    "https://www.emiia.ru/relise/modeOBJ-5.obj" , 
    
    
 

      
    (mesh) => {
        
        
      
      
 // ?.     
                    
                                mesh.children[0].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        // Контуры стен.
                    
                                mesh.children[1].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
         // Стены.     
                    
                                mesh.children[2].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
                 // ?.     
                    
                                mesh.children[3].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
                         // ?.     
                    
                                mesh.children[4].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
         // ?.     
                    
                                mesh.children[5].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xffFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        

        
      // Y.     
                    
                                mesh.children[6].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0x66ff00,
          opacity: 1,
          transparent: true,
          fog: false
        });  
        



    
     // X.     
                    
                                mesh.children[7].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xff2400 ,
          opacity: 1,
          transparent: true,
          fog: false
        });  
    
    
    
    
    
    //Z.     
                    
                                mesh.children[8].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0x3D85C6,
          opacity: 1,
          transparent: true,
          fog: false
        });  
        
        
        
        
        
        
         //Основная решетка.     
                    
                                mesh.children[9].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });  
    
        
        
     
        
        this.scene.add(mesh);
      }
    );
    
    
    
    
    
    
    

    
    
   
      
    
    
    
    
    
    
    
    
    



    
     loader.load(
    "https://www.emiia.ru/relise/modeOBJ-2.obj" , 
    
    
   

      

      
    (mesh) => {
        
        
        
        
       
        
        
        
    
        

        
      
      
      
      
 // Лесничная площадка.     
                    
                                mesh.children[0].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xFFFFFF,
          opacity: 0.95,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        // Верхние грани.     
                    
                                mesh.children[1].material = new THREE.MeshBasicMaterial({
    wireframe: false,
          color: 0xffFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
        
        
             // Стены.     
                    
                                mesh.children[2].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xE8E8E8,
          opacity: 0.83,
          transparent: true,
          fog: false
        });
        
        
        
   
 
              // Внутренние грани наружных окон.     
                    
                                mesh.children[3].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
        
        
         
              // Унитаз и умывальник.     
                    
                                mesh.children[4].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
 
        
        
        
        
        
                    // Рамы внешних окон.     
                    
                                mesh.children[5].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
                            // Вертикальные ребра стен (стыки).     
                    
                                mesh.children[6].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xE8E8E8,
          opacity: 0.8,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
                                    //Смеситель.     
                    
                                mesh.children[7].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFffff,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
  
  
  
  
  
                                      //Стекла окон на лестничных площадках.     
                    
                                mesh.children[8].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFFFFF,
          opacity: 0,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
        
        
        
         //Внутренние грани окон на лестничных площадках.
        
        
                                       mesh.children[9].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
        
        
        
        
        
        
        
        
        
                                             //Внутренние грани внешних окон.     
                    
                                mesh.children[10].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
        
        
        
        
                                                     //Стекла внешних окон.     
                    
                                mesh.children[11].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 0,
          transparent: true,
          fog: false
        });
        
        
        
        
  
  
  
  
  
  
  
  
    
                                      //Полотно внутренних дверей.     
                    
                                mesh.children[12].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFFFFF,
          opacity: 0.9,
          transparent: true,
          fog: false
        });
  
  
  
  
  
  
  
                                        //Внутренний наличник дверей внутри.     
                    
                                mesh.children[13].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xd3d3d3,
          opacity: 1,
          transparent: true,
          fog: false
        });
  
  
  
  
  
  
    
                                        //Внутренние двери (внутренние грани1).     
                    
                                mesh.children[14].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
  
  
  
  
  
  
  
  
  
      
                                        //Внутренние двери (внутренние грани2).     
                    
                                mesh.children[15].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xD3D3D3,
          opacity: 1,
          transparent: true,
          fog: false
        });
  
  
  
  
                                          //Пожарный оповещатель.     
                    
                                mesh.children[16].material = new THREE.MeshBasicMaterial({
    wireframe: false,
         color: 0xFFFFFF,
          opacity: 1,
          transparent: true,
          fog: false
        });
   
 
 
 
 
 
 
 

   
 
 
 
 
 
 
        
        
        this.scene.add(mesh);
      }
    );
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
   
    this.map = map;

    // use the Mapbox GL JS map canvas for three.js
    this.renderer = new THREE.WebGLRenderer({
      canvas: map.getCanvas(),
      context: gl,
                wireframe: true,
                
               
                
                
                
      antialias: true
    });
       
    
    

    

    
     this.renderer.autoClear = false;
  },
  render: function (gl, matrix) {
    var rotationX = new THREE.Matrix4().makeRotationAxis(
      new THREE.Vector3(0, 0, 0),
      modelTransform.rotateX
    );
    var rotationY = new THREE.Matrix4().makeRotationAxis(
      new THREE.Vector3(0, 0, 0),
      modelTransform.rotateY
    );
    var rotationZ = new THREE.Matrix4().makeRotationAxis(
      new THREE.Vector3(0, 0, 1),
      modelTransform.rotateZ
    );
    
    
    


    var m = new THREE.Matrix4().fromArray(matrix);
    var l = new THREE.Matrix4()
      .makeTranslation(
        modelTransform.translateX,
        modelTransform.translateY,
        modelTransform.translateZ
      )
      .scale(
        new THREE.Vector3(
          modelTransform.scale,
          -modelTransform.scale,
          modelTransform.scale
        )
      )
      .multiply(rotationX)
      .multiply(rotationY)
      .multiply(rotationZ);

    this.camera.projectionMatrix = m.multiply(l);
    this.renderer.resetState();
    this.renderer.render(this.scene, this.camera);
    this.map.triggerRepaint();
  }
};

    

   

map.on("style.load", () => {
  map.addLayer(customLayer, "waterway-label");
});






     

</script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    


    
    
    
    
    
    
    

<script>  
    
    // create the popup
const popup = new mapboxgl.Popup({ offset: 25 })
   .setHTML("<iframe top:0;left:0;position:absolute;  allowfullscreen:true; width=335 height=500  frameborder='0'   src=https://www.emiia.ru/relise/i.html></iframe>")
   

// create DOM element for the marker
var el = document.createElement('div');
el.id = 'marker';



// create the marker
new mapboxgl.Marker(el)
.setLngLat(monument)
.setPopup(popup) // sets a popup on this marker
.addTo(map);



    
 </script>  



    

    
    
    

    
    
    

 
     
 <script> 
    
 map.on('load', () => {
// Insert the layer beneath any symbol layer.
const layers = map.getStyle().layers;
const labelLayerId = layers.find(
(layer) => layer.type === 'symbol' && layer.layout['text-field']
).id;
 
// The 'building' layer in the Mapbox Streets
// vector tileset contains building height data
// from OpenStreetMap.
map.addLayer(
{
'id': 'add-3d-buildings',
'source': 'composite',
'source-layer': 'building',
'filter': ['==', 'extrude', 'true'],
'type': 'fill-extrusion',


'minzoom': 14,
'maxzoom': 19,



'paint': {
'fill-extrusion-color': '#aaa',
 
// Use an 'interpolate' expression to
// add a smooth transition effect to
// the buildings as the user zooms in.
'fill-extrusion-height': [
'interpolate',
['linear'],
['zoom'],
15,
0,
15.05,
['get', 'height']
],
'fill-extrusion-base': [
'interpolate',
['linear'],
['zoom'],
15,
0,
15.05,
['get', 'min_height']
],
'fill-extrusion-opacity': 0.2





}
},
labelLayerId
);
});



    
    
  </script> 
 
 

 

    
    

    
    


    
   
   
   
   
   
   
   
   
   
   
   
   

    
    
    
    
    
    
    
    
    
    
    
    
    


   
   
   
   
    
    
    
    
    
    
    

        
        
        
     
      
   
   
   
   
    
    
    
    

        
    
    
    
    
    
    

    
    
    
    
    
    
    
   
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
 
    
    
    










  
    
    
    
    <script>

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SXCK9F16F5');
  
  
  
  let tg = window.Telegram.WebApp; //получаем объект webapp телеграма target="_blank"  

   tg.expand(); //расширяем на все окно  
  
</script>












<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js'></script>


<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>







<script>
   
    $("[data-toggle='collapse']").on('click', function () {
      $("[data-toggle='collapse']").removeClass('current');
      $(this).addClass("current");
  $(this).toggleClass("oppened"); 
       $("[data-toggle='collapse']").not('.current').removeClass('oppened');
});



// Collapse accordion every time dropdown is shown
$('.dropdown-accordion').on('show.bs.dropdown', function (event) {
  var accordion1 = $(this).find($(this).data('accordion'));
  accordion1.find('.panel-collapse.in').collapse('hide');
  $("[data-toggle='collapse']").removeClass('oppened');
});

// Prevent dropdown to be closed when we click on an accordion link
$('.dropdown-accordion').on('click', 'a[data-toggle="collapse"]', function (event) {
  event.preventDefault();
  event.stopPropagation();
  $($(this).data('parent')).find('.panel-collapse.in').collapse('hide');
  $($(this).attr('href')).collapse('show');
  
});



// Close Nav When Link Is Selected
$('.panel-body a[href^="#section"], a[href^="#section"]').on('click', function(){
    $('.navbar-collapse').collapse('hide');
	$('.dropdown-toggle').click();
});


//Smooth Scrolling For Internal Page Links
$(function() {
  $('.list-group a[href*=#]:not([href=#]), a[href="#toTop"]').click(function() {
	if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
	  var target = $(this.hash);
	  target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
	  if (target.length) {
		$('html,body').animate({
		  scrollTop: target.offset().top
		}, 1000);
		return false;
	  }
	}
  });
});

</script>
    




























<script>


 
// A simple line from origin to destination.
const route = {
'type': 'FeatureCollection',
'id': '888',
'features': [
{
'type': 'Feature',
'id': '888',
'geometry': {
'type': 'LineString',
'coordinates': [[
            37.17404169696644,
            55.97745736683939
          ],
          [
            37.174051910698864,
            55.977458636790004
          ],
          [
            37.174052478129,
            55.97745292201205
          ],
          [
            37.17404226439663,
            55.97745800181494
          ]]
}
}
]
};




// A single point that animates along the route.
// Coordinates are initially set to origin.
const point = {
'type': 'FeatureCollection',
'id': '888',
'features': [
{
'type': 'Feature',
'properties': {},
'geometry': {
'type': 'Point',
'coordinates': origin
}
}
]
};
 
// Calculate the distance in kilometers between route start/end point.
const lineDistance = turf.length(route.features[0]);
 
const arc = [];
 
// Number of steps to use in the arc and animation, more steps means
// a smoother arc and animation, but too many steps will result in a
// low frame rate
const steps = 300000;
 
// Draw an arc between the `origin` & `destination` of the two points
for (let i = 0; i < lineDistance; i += lineDistance / steps) {
const segment = turf.along(route.features[0], i);
arc.push(segment.geometry.coordinates);
}
 
// Update the route with calculated arc coordinates
route.features[0].geometry.coordinates = arc;
 
// Used to increment the value of the point measurement against the route.
let counter = 0;
 
map.on('load', () => {
// Add a source and layer displaying a point which will be animated in a circle.
map.addSource('route', {
'type': 'geojson',
'data': route
});








    



 
map.addSource('point', {
'type': 'geojson',
'data': point
});
 
map.addLayer({
'id': 'route',
'source': 'route',
'type': 'line',
'paint': {
'line-width': 0,

'line-color': 'red'







}







});
 
map.addLayer({
'id': 'point',
'source': 'point',

'minzoom': 19,






'type': 'symbol',
'layout': {
// This icon is a part of the Mapbox Streets style.
// To view all images available in a Mapbox style, open
// the style in Mapbox Studio and click the "Images" tab.
// To add a new image to the style at runtime see
// https://docs.mapbox.com/mapbox-gl-js/example/add-image/
'icon-image': 'pulsing-dot',
'icon-size': 0.6,

'icon-rotate': ['get', 'bearing'],

'icon-allow-overlap': true,
'icon-ignore-placement': true
}
}, 'road-label-navigation');











function animate() {
const start =
route.features[0].geometry.coordinates[
counter >= steps ? counter - 0 : counter
];
const end =
route.features[0].geometry.coordinates[
counter >= steps ? counter : counter + 0
];
if (!start || !end) return;
 
// Update point geometry to a new position based on counter denoting
// the index to access the arc
point.features[0].geometry.coordinates =
route.features[0].geometry.coordinates[counter];
 
// Calculate the bearing to ensure the icon is rotated to match the route arc
// The bearing is calculated between the current point and the next point, except
// at the end of the arc, which uses the previous point and the current point
point.features[0].properties.bearing = turf.bearing(
turf.point(start),
turf.point(end)
);
 
// Update the source with this new data
map.getSource('point').setData(point);
 
// Request the next frame of animation as long as the end has not been reached
if (counter < steps) {
requestAnimationFrame(animate);
}
 
 
 

 
 
counter = counter + 30;
}
 
document.getElementById('replay').addEventListener('click', () => {
// Set the coordinates of the original point back to origin
point.features[0].geometry.coordinates = origin;
 
// Update the source layer
map.getSource('point').setData(point);
 
// Reset the counter
counter = 0;


 
// Restart the animation
animate(counter);
});
 
// Start the animation
animate(counter);
});





 
const size = 180;
 
// This implements `StyleImageInterface`
// to draw a pulsing dot icon on the map.
const pulsingDot = {
width: size,
height: size,
data: new Uint8Array(size * size * 4),
 
// When the layer is added to the map,
// get the rendering context for the map canvas.
onAdd: function () {
const canvas = document.createElement('canvas');
canvas.width = this.width;
canvas.height = this.height;
this.context = canvas.getContext('2d');
},
 
// Call once before every frame where the icon will be used.
render: function () {
const duration = 1000;
const t = (performance.now() % duration) / duration;
 
const radius = (size / 2) * 0.3;
const outerRadius = (size / 2) * 0.7 * t + radius;
const context = this.context;
 
// Draw the outer circle.
context.clearRect(0, 0, this.width, this.height);
context.beginPath();
context.arc(
this.width / 2,
this.height / 2,
outerRadius,
0,
Math.PI * 2
);
context.fillStyle = `rgba(255, 0, 0, ${1 - t})`;
context.fill();
 
// Draw the inner circle.
context.beginPath();
context.arc(
this.width / 2,
this.height / 2,
radius,
0,
Math.PI * 2
);
context.fillStyle = '#3d85c6';
context.strokeStyle = 'white';
context.lineWidth = 2 + 4 * (1 - t);
context.fill();
context.stroke();
 
// Update this image's data with data from the canvas.
this.data = context.getImageData(
0,
0,
this.width,
this.height
).data;
 
// Continuously repaint the map, resulting
// in the smooth animation of the dot.
map.triggerRepaint();
 
// Return `true` to let the map know that the image was updated.
return true;
}
};







 
map.on('load', () => {
map.addImage('pulsing-dot', pulsingDot, { pixelRatio: 2 });
 
map.addSource('dot-point', {
'type': 'geojson',
'data': {
'type': 'FeatureCollection',
'id': '888',
'features': [
{
'type': 'Feature',
'id': '888',
'geometry': {
'type': 'Point',
'coordinates': [0, 0] // icon position [lng, lat]
}
}
]
}
});





});







</script>





















<script>

var elevated_points= {
  "type": "FeatureCollection",
  "features": [
  


{
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Point",
        "coordinates": [
    37.17406791680179,55.97738374405000
        ]
      }
    }
    
    
  ]
}

map.on('style.load', function(){
  map.addSource('projects', {
    'type': 'geojson',
    'data': elevated_points
  });




  function pulseMarker(timestamp){
    setTimeout(function() {
      requestAnimationFrame(pulseMarker)
      multiplier += .1;
      opacity -= ( 1.3 / framesPerSecond );
      circleRadius += ( 1000 / framesPerSecond );



  

      map.setPaintProperty('projects-pulse', 'circle-opacity', opacity)
      map.setPaintProperty('projects-pulse', 'circle-radius', circleRadius)

      if (opacity <= 1) {
        opacity = 1;
        circleRadius = 2;
      }

    }, 1000 / framesPerSecond );
  }

  pulseMarker(0);

})


  
  
</script>

    
    








<script>

map.on('load', function () {

  map.addLayer({
    'id': 'circle-one',
    'type': 'circle',
     'minzoom': 19,
    'source': {
      'type': 'geojson',
      'data': {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "Point",
              "coordinates": [
                37.17406791680179,55.97738374405000
              ]
          }
        }
      ]
    }
    },
    'layout': {},
    'paint': {
      'circle-radius': 8,
      'circle-color': '#3D85C6'
    }
  }, 'road-label-navigation');

  map.addLayer({
    'id': 'circle-two',
    'type': 'circle',
     'minzoom': 19,
    'source': {
      'type': 'geojson',
      'data': {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "Point",
              "coordinates": [
                37.17406791680179,55.97738374405000
              ]
          }
        }
      ]
    }
    },
    'layout': {},
    'paint': {
      'circle-opacity': 0,
      'circle-radius': 12,
      'circle-stroke-width': 2,
      'circle-stroke-color': 'red'
    }
  }, 'road-label-navigation');

  setInterval(function(){
      map.setPaintProperty('circle-one', 'circle-radius', 0);
      map.setPaintProperty('circle-two', 'circle-radius', 5);
      setTimeout(function(){
        map.setPaintProperty('circle-one', 'circle-radius', 9);
        map.setPaintProperty('circle-two', 'circle-radius', 8); }, 14);
  }, 500);

});

</script>

















































<script>

map.on('load', function () {

  map.addLayer({
    'id': 'circle-one1',
    'type': 'circle',
     'minzoom': 19,
    'source': {
      'type': 'geojson',
      'data': {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "Point",
              "coordinates": [
                  37.17406930912350,55.97737674370859
              ]
          }
        }
      ]
    }
    },
    'layout': {},
    'paint': {
      'circle-radius': 8,
      'circle-color': '#3D85C6'
    }
  }, 'road-label-navigation');

  map.addLayer({
    'id': 'circle-two1',
    'type': 'circle',
     'minzoom': 19,
    'source': {
      'type': 'geojson',
      'data': {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "Point",
              "coordinates": [
                  37.17406930912350,55.97737674370859
              ]
          }
        }
      ]
    }
    },
    'layout': {},
    'paint': {
      'circle-opacity': 0,
      'circle-radius': 12,
      'circle-stroke-width': 2,
      'circle-stroke-color': 'red'
    }
  }, 'road-label-navigation');

  setInterval(function(){
      map.setPaintProperty('circle-one1', 'circle-radius', 0);
      map.setPaintProperty('circle-two1', 'circle-radius', 5);
      setTimeout(function(){
        map.setPaintProperty('circle-one1', 'circle-radius', 9);
        map.setPaintProperty('circle-two1', 'circle-radius', 8); }, 14);
  }, 500);

});

</script>






































<script>

map.on('load', function () {

  map.addLayer({
    'id': 'circle-one2',
    'type': 'circle',
     'minzoom': 19,
    'source': {
      'type': 'geojson',
      'data': {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "Point",
              "coordinates": [
               37.17403966298906, 55.97740777308672
              ]
          }
        }
      ]
    }
    },
    'layout': {},
    'paint': {
      'circle-radius': 8,
      'circle-color': '#FFD700'
    }
  }, 'road-label-navigation');

  map.addLayer({
    'id': 'circle-two2',
    'type': 'circle',
     'minzoom': 19,
    'source': {
      'type': 'geojson',
      'data': {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "Point",
              "coordinates": [
              37.17403966298906, 55.97740777308672
              ]
          }
        }
      ]
    }
    },
    'layout': {},
    'paint': {
      'circle-opacity': 0,
      'circle-radius': 12,
      'circle-stroke-width': 2,
      'circle-stroke-color': 'white'
    }
  }, 'road-label-navigation');

  setInterval(function(){
      map.setPaintProperty('circle-one2', 'circle-radius', 0);
      map.setPaintProperty('circle-two2', 'circle-radius', 5);
      setTimeout(function(){
        map.setPaintProperty('circle-one2', 'circle-radius', 9);
        map.setPaintProperty('circle-two2', 'circle-radius', 8); }, 14);
  }, 500);

});

</script>
































<script>

map.on('load', function () {

  map.addLayer({
    'id': 'circle-one3',
    'type': 'circle',
     'minzoom': 19,
    'source': {
      'type': 'geojson',
      'data': {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "Point",
              "coordinates": [
                37.17418420605804, 55.97743519229019
              ]
          }
        }
      ]
    }
    },
    'layout': {},
    'paint': {
      'circle-radius': 8,
      'circle-color': '#6b6b69'
    }
  }, 'road-label-navigation');

  map.addLayer({
    'id': 'circle-two3',
    'type': 'circle',
     'minzoom': 19,
    'source': {
      'type': 'geojson',
      'data': {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "Point",
              "coordinates": [
              37.17418420605804, 55.97743519229019
              ]
          }
        }
      ]
    }
    },
    'layout': {},
    'paint': {
      'circle-opacity': 0,
      'circle-radius': 12,
      'circle-stroke-width': 2,
      'circle-stroke-color': 'white'
    }
  }, 'road-label-navigation');

  setInterval(function(){
      map.setPaintProperty('circle-one3', 'circle-radius', 0);
      map.setPaintProperty('circle-two3', 'circle-radius', 5);
      setTimeout(function(){
        map.setPaintProperty('circle-one3', 'circle-radius', 9);
        map.setPaintProperty('circle-two3', 'circle-radius', 8); }, 14);
  }, 500);

});

</script>












<script>


      map.on('load', () => {
        map.addSource('trees', {
          'type': 'geojson',
          'data': 'https://www.emiia.ai/json/fare.geojson'
        });

        map.addLayer(
          {
            'id': 'trees-heat',
            'type': 'heatmap',
            'source': 'trees',
            
            'minzoom': 19,

            

            'paint': {
              // increase weight as diameter breast height increases
              'heatmap-weight': {
                'property': 'dbh',
                'type': 'exponential',
                'stops': [
                  [3, 0],
                  [3, 0]
                ]
              },
              // increase intensity as zoom level increases
              'heatmap-intensity': {
                'stops': [
                  [3, 0],
                  [3, 0]
                ]
              },
              // use sequential color palette to use exponentially as the weight increases
              'heatmap-color': [
                'interpolate',
                ['linear'],
                ['heatmap-density'],
                40,
                'rgba(293,209,234,80)',
                0.1,
                'rgb(103,169,207,80)',
                0.2,
                'rgb(166,189,219,80)',
                0.3,
                'rgb(103,169,207,80)',
                0.4,
                'rgb(28,144,153,80)'
                
            
              ],
              // increase radius as zoom increases
              'heatmap-radius': {
                'stops': [
                  [3, 2],
                  [3, 2]
                ]
              },
              // decrease opacity to transition into the circle layer
              'heatmap-opacity': {
                'default': 1,
                'stops': [
                  [3, 1],
                  [3, 0]
                ]
              }
            }
          },
          'waterway-label'
        );

        map.addLayer(
          {
            'id': 'trees-point',
            'type': 'circle',
            'source': 'trees',
            'maxzoom': 0,
            'paint': {
              // increase the radius of the circle as the zoom level and dbh value increases
              'circle-radius': {
                'property': 'dbh',
                'type': 'exponential',
                'stops': [
 [{ zoom: 2, value: 20 }, 100],

                ]
              },
              'circle-color': {
                'property': 'dbh',
                'type': 'exponential',
                'stops': [
                  [50, 'rgba(255,0,0,0.3)']


                ]
              },
              'circle-stroke-color': '#C1D1EA',
              'circle-stroke-width': 0.1,
            
           
              'circle-opacity': {
                'stops': [
                  [0, 0],
                  [3, 1]
                ]
              }
            }
          },
          'waterway-label'
        );
        
        
        map.setLayerZoomRange('trees-point', 0, 18);
        
      });

     
      
      
    </script>








 



















































































































</body>







</html>


























